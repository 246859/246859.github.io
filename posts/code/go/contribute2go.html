<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://246859.github.io/my-blog-giscus/posts/code/go/contribute2go.html"><meta property="og:site_name" content="寒江蓑笠翁"><meta property="og:title" content="如何向Go贡献代码"><meta property="og:description" content="如何向Go贡献代码"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-08-01T08:10:35.000Z"><meta property="article:author" content="寒江蓑笠翁"><meta property="article:tag" content="golang"><meta property="article:tag" content="gerrit"><meta property="article:tag" content="codereview"><meta property="article:published_time" content="2024-07-31T00:00:00.000Z"><meta property="article:modified_time" content="2024-08-01T08:10:35.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"如何向Go贡献代码","image":[""],"datePublished":"2024-07-31T00:00:00.000Z","dateModified":"2024-08-01T08:10:35.000Z","author":[{"@type":"Person","name":"寒江蓑笠翁","url":"https://mrhope.site"}]}</script><link rel="icon" href="/favicon.ico"><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?87276829dc72e9eeef7c53e10550b458";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><title>如何向Go贡献代码 | 寒江蓑笠翁</title><meta name="description" content="如何向Go贡献代码">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-77fdca77.css" as="style"><link rel="stylesheet" href="/assets/style-77fdca77.css">
    <link rel="modulepreload" href="/assets/app-24e59de6.js"><link rel="modulepreload" href="/assets/framework-a4c02b8f.js"><link rel="modulepreload" href="/assets/contribute2go.html-59385b94.js"><link rel="modulepreload" href="/assets/contribute2go.html-07663994.js"><link rel="prefetch" href="/assets/index.html-13c5752e.js" as="script"><link rel="prefetch" href="/assets/intro.html-3878003b.js" as="script"><link rel="prefetch" href="/assets/tool.html-86f92be8.js" as="script"><link rel="prefetch" href="/assets/bloodborn.html-86ae4e7d.js" as="script"><link rel="prefetch" href="/assets/darksoul1.html-0ae6c59c.js" as="script"><link rel="prefetch" href="/assets/darksoul2.html-dde03d6c.js" as="script"><link rel="prefetch" href="/assets/darksoul3.html-2da7070a.js" as="script"><link rel="prefetch" href="/assets/divinity.html-9c05ffb0.js" as="script"><link rel="prefetch" href="/assets/eastward.html-60a37aa8.js" as="script"><link rel="prefetch" href="/assets/elden_ring.html-6f5fd759.js" as="script"><link rel="prefetch" href="/assets/firework.html-c47e5e66.js" as="script"><link rel="prefetch" href="/assets/gp.html-0aac48f3.js" as="script"><link rel="prefetch" href="/assets/gujianqitan.html-87ace895.js" as="script"><link rel="prefetch" href="/assets/kingdom_come.html-8493fd23.js" as="script"><link rel="prefetch" href="/assets/mc.html-76652718.js" as="script"><link rel="prefetch" href="/assets/pzb.html-252a11d5.js" as="script"><link rel="prefetch" href="/assets/re2.html-0f67b640.js" as="script"><link rel="prefetch" href="/assets/sekrio.html-628b3f8b.js" as="script"><link rel="prefetch" href="/assets/witcher.html-c87f54e3.js" as="script"><link rel="prefetch" href="/assets/dst.html-f10e028a.js" as="script"><link rel="prefetch" href="/assets/dstm.html-59c20707.js" as="script"><link rel="prefetch" href="/assets/k8s_install.html-43b82b48.js" as="script"><link rel="prefetch" href="/assets/pic.html-aee46abc.js" as="script"><link rel="prefetch" href="/assets/ssl_cert_collect.html-9d28bdc6.js" as="script"><link rel="prefetch" href="/assets/statistic.html-fe4f0f51.js" as="script"><link rel="prefetch" href="/assets/vuepresshope.html-8fee38d7.js" as="script"><link rel="prefetch" href="/assets/2023_01_22.html-82dea1b0.js" as="script"><link rel="prefetch" href="/assets/2023_02_27.html-59975960.js" as="script"><link rel="prefetch" href="/assets/2023_10_09.html-339c033b.js" as="script"><link rel="prefetch" href="/assets/2024_02_27.html-bf817e86.js" as="script"><link rel="prefetch" href="/assets/2024_06_03.html-40aafe9a.js" as="script"><link rel="prefetch" href="/assets/dockermem.html-e826025b.js" as="script"><link rel="prefetch" href="/assets/go_bug_of_hertz_limiter.html-402c8a2a.js" as="script"><link rel="prefetch" href="/assets/goland_invalid_ref.html-3defca6b.js" as="script"><link rel="prefetch" href="/assets/gotime.html-8af8b8bb.js" as="script"><link rel="prefetch" href="/assets/hack.html-d044a0ef.js" as="script"><link rel="prefetch" href="/assets/linuxexe.html-5fd5af96.js" as="script"><link rel="prefetch" href="/assets/mysqlinject.html-5aab2140.js" as="script"><link rel="prefetch" href="/assets/mysqlpassword.html-e23aa2d8.js" as="script"><link rel="prefetch" href="/assets/oom_pprof.html-4f1d2753.js" as="script"><link rel="prefetch" href="/assets/redisdataloss.html-4ddfaf2a.js" as="script"><link rel="prefetch" href="/assets/binary_heap.html-86cc9d40.js" as="script"><link rel="prefetch" href="/assets/binary_tree.html-4029e1cb.js" as="script"><link rel="prefetch" href="/assets/dequeue.html-dd8687d5.js" as="script"><link rel="prefetch" href="/assets/sort.html-77d803e4.js" as="script"><link rel="prefetch" href="/assets/fluttertry.html-2a5e9d70.js" as="script"><link rel="prefetch" href="/assets/toml.html-809a7a25.js" as="script"><link rel="prefetch" href="/assets/unicode.html-1cd3ca6e.js" as="script"><link rel="prefetch" href="/assets/bitcask.html-b6a75d79.js" as="script"><link rel="prefetch" href="/assets/docker_install_mariadb.html-0b84acac.js" as="script"><link rel="prefetch" href="/assets/docker_install_mongo.html-a2e0ac87.js" as="script"><link rel="prefetch" href="/assets/docker_install_mysql.html-eea418ce.js" as="script"><link rel="prefetch" href="/assets/docker_install_postgres.html-2328c07f.js" as="script"><link rel="prefetch" href="/assets/docker_install_redis.html-7da57002.js" as="script"><link rel="prefetch" href="/assets/index_length_exceed.html-ee4d36ee.js" as="script"><link rel="prefetch" href="/assets/river_db.html-c5c44e8e.js" as="script"><link rel="prefetch" href="/assets/wal_in_leveldb.html-9de2921d.js" as="script"><link rel="prefetch" href="/assets/0.dcoker.html-81d5833f.js" as="script"><link rel="prefetch" href="/assets/1.start.html-9bb4c77b.js" as="script"><link rel="prefetch" href="/assets/docker_mysql.html-26b7b3a1.js" as="script"><link rel="prefetch" href="/assets/docker_nginx.html-2a818349.js" as="script"><link rel="prefetch" href="/assets/expand.html-1e193ba4.js" as="script"><link rel="prefetch" href="/assets/0.introduction.html-9c3dd345.js" as="script"><link rel="prefetch" href="/assets/1.repo.html-b853952f.js" as="script"><link rel="prefetch" href="/assets/2.branch.html-e224434c.js" as="script"><link rel="prefetch" href="/assets/3.remote.html-9e03f1b6.js" as="script"><link rel="prefetch" href="/assets/4.gitserver.html-0d3d0d0e.js" as="script"><link rel="prefetch" href="/assets/autotoolbox.html-84c968e0.js" as="script"><link rel="prefetch" href="/assets/bitflag.html-4bc22372.js" as="script"><link rel="prefetch" href="/assets/geo2ip.html-41c1872f.js" as="script"><link rel="prefetch" href="/assets/go_ip2loc.html-c029358a.js" as="script"><link rel="prefetch" href="/assets/go_tail_read_file.html-d79589cd.js" as="script"><link rel="prefetch" href="/assets/makefile.html-dbee6cdd.js" as="script"><link rel="prefetch" href="/assets/pipeline.html-267ca703.js" as="script"><link rel="prefetch" href="/assets/registry.html-6db4ccf7.js" as="script"><link rel="prefetch" href="/assets/remotedev.html-4e82f457.js" as="script"><link rel="prefetch" href="/assets/clash_on_linux.html-84593c2e.js" as="script"><link rel="prefetch" href="/assets/debian12_install.html-6d805c31.js" as="script"><link rel="prefetch" href="/assets/linuxservice.html-2806762c.js" as="script"><link rel="prefetch" href="/assets/nat_loss.html-03953f92.js" as="script"><link rel="prefetch" href="/assets/00.start.html-f140dbdd.js" as="script"><link rel="prefetch" href="/assets/01.principle.html-20571033.js" as="script"><link rel="prefetch" href="/assets/02.create.html-7076a59c.js" as="script"><link rel="prefetch" href="/assets/03.structure.html-aab519ba.js" as="script"><link rel="prefetch" href="/assets/04.behavior.html-bf4612b0.js" as="script"><link rel="prefetch" href="/assets/pypi_upload.html-aa95e485.js" as="script"><link rel="prefetch" href="/assets/install.html-6d405e7f.js" as="script"><link rel="prefetch" href="/assets/win10_reset.html-47b6c941.js" as="script"><link rel="prefetch" href="/assets/404.html-134169a8.js" as="script"><link rel="prefetch" href="/assets/index.html-f77de5e0.js" as="script"><link rel="prefetch" href="/assets/index.html-c2b12446.js" as="script"><link rel="prefetch" href="/assets/index.html-a8dd470d.js" as="script"><link rel="prefetch" href="/assets/index.html-c6730ef8.js" as="script"><link rel="prefetch" href="/assets/index.html-e0c9469b.js" as="script"><link rel="prefetch" href="/assets/index.html-a1339255.js" as="script"><link rel="prefetch" href="/assets/index.html-1f16e803.js" as="script"><link rel="prefetch" href="/assets/index.html-116ac8fd.js" as="script"><link rel="prefetch" href="/assets/index.html-71e4afbc.js" as="script"><link rel="prefetch" href="/assets/index.html-4bb2537e.js" as="script"><link rel="prefetch" href="/assets/index.html-569e887b.js" as="script"><link rel="prefetch" href="/assets/index.html-b6599f23.js" as="script"><link rel="prefetch" href="/assets/index.html-7308ac22.js" as="script"><link rel="prefetch" href="/assets/index.html-2518600c.js" as="script"><link rel="prefetch" href="/assets/index.html-fa9225c9.js" as="script"><link rel="prefetch" href="/assets/index.html-239f16a7.js" as="script"><link rel="prefetch" href="/assets/index.html-bf81824d.js" as="script"><link rel="prefetch" href="/assets/index.html-2c5cb19e.js" as="script"><link rel="prefetch" href="/assets/index.html-12bc9268.js" as="script"><link rel="prefetch" href="/assets/index.html-63da4abe.js" as="script"><link rel="prefetch" href="/assets/index.html-9d4ad2b2.js" as="script"><link rel="prefetch" href="/assets/index.html-6f218e43.js" as="script"><link rel="prefetch" href="/assets/index.html-49c79ee4.js" as="script"><link rel="prefetch" href="/assets/index.html-36c8553b.js" as="script"><link rel="prefetch" href="/assets/index.html-d751a088.js" as="script"><link rel="prefetch" href="/assets/index.html-978c143b.js" as="script"><link rel="prefetch" href="/assets/index.html-c4112fcd.js" as="script"><link rel="prefetch" href="/assets/index.html-8f673d9b.js" as="script"><link rel="prefetch" href="/assets/index.html-f20df06e.js" as="script"><link rel="prefetch" href="/assets/index.html-56f9cc75.js" as="script"><link rel="prefetch" href="/assets/index.html-c91f76d6.js" as="script"><link rel="prefetch" href="/assets/index.html-f0be0786.js" as="script"><link rel="prefetch" href="/assets/index.html-ec399d6b.js" as="script"><link rel="prefetch" href="/assets/index.html-7f8d1887.js" as="script"><link rel="prefetch" href="/assets/index.html-e5389718.js" as="script"><link rel="prefetch" href="/assets/index.html-03a889bb.js" as="script"><link rel="prefetch" href="/assets/index.html-23fe4f0a.js" as="script"><link rel="prefetch" href="/assets/index.html-3ad7899d.js" as="script"><link rel="prefetch" href="/assets/index.html-fb64ba61.js" as="script"><link rel="prefetch" href="/assets/index.html-1e9c0183.js" as="script"><link rel="prefetch" href="/assets/index.html-cf09b404.js" as="script"><link rel="prefetch" href="/assets/index.html-e8712825.js" as="script"><link rel="prefetch" href="/assets/index.html-8614089d.js" as="script"><link rel="prefetch" href="/assets/index.html-5944e5b8.js" as="script"><link rel="prefetch" href="/assets/index.html-d50a25dc.js" as="script"><link rel="prefetch" href="/assets/index.html-4d6cc855.js" as="script"><link rel="prefetch" href="/assets/index.html-dfb7e56b.js" as="script"><link rel="prefetch" href="/assets/index.html-0c29e072.js" as="script"><link rel="prefetch" href="/assets/index.html-809f0d10.js" as="script"><link rel="prefetch" href="/assets/index.html-28ff48f1.js" as="script"><link rel="prefetch" href="/assets/index.html-2dee8dbd.js" as="script"><link rel="prefetch" href="/assets/index.html-4b8975c8.js" as="script"><link rel="prefetch" href="/assets/index.html-bf557cd3.js" as="script"><link rel="prefetch" href="/assets/index.html-aa5a8b16.js" as="script"><link rel="prefetch" href="/assets/index.html-e7358412.js" as="script"><link rel="prefetch" href="/assets/index.html-423a7810.js" as="script"><link rel="prefetch" href="/assets/index.html-db029ae8.js" as="script"><link rel="prefetch" href="/assets/index.html-3a03a721.js" as="script"><link rel="prefetch" href="/assets/index.html-f82a7f8b.js" as="script"><link rel="prefetch" href="/assets/index.html-78968ae5.js" as="script"><link rel="prefetch" href="/assets/index.html-1029f001.js" as="script"><link rel="prefetch" href="/assets/index.html-a017e6c3.js" as="script"><link rel="prefetch" href="/assets/index.html-5196ebfe.js" as="script"><link rel="prefetch" href="/assets/index.html-cbf56dc1.js" as="script"><link rel="prefetch" href="/assets/index.html-d5c628a4.js" as="script"><link rel="prefetch" href="/assets/index.html-1e7ed82a.js" as="script"><link rel="prefetch" href="/assets/index.html-1f3edce6.js" as="script"><link rel="prefetch" href="/assets/index.html-8cebc7a1.js" as="script"><link rel="prefetch" href="/assets/index.html-47cb475d.js" as="script"><link rel="prefetch" href="/assets/index.html-30da1c1c.js" as="script"><link rel="prefetch" href="/assets/index.html-508bfa0f.js" as="script"><link rel="prefetch" href="/assets/index.html-91dd10ed.js" as="script"><link rel="prefetch" href="/assets/index.html-3c58503e.js" as="script"><link rel="prefetch" href="/assets/index.html-c7bbe1e4.js" as="script"><link rel="prefetch" href="/assets/index.html-f6516f7b.js" as="script"><link rel="prefetch" href="/assets/index.html-eb145ec0.js" as="script"><link rel="prefetch" href="/assets/index.html-ddf3ac7d.js" as="script"><link rel="prefetch" href="/assets/index.html-5484e5af.js" as="script"><link rel="prefetch" href="/assets/index.html-a3949c34.js" as="script"><link rel="prefetch" href="/assets/index.html-818f0dba.js" as="script"><link rel="prefetch" href="/assets/index.html-baa95252.js" as="script"><link rel="prefetch" href="/assets/index.html-bc948a61.js" as="script"><link rel="prefetch" href="/assets/index.html-c0d20a45.js" as="script"><link rel="prefetch" href="/assets/index.html-acbf61e2.js" as="script"><link rel="prefetch" href="/assets/index.html-f87af1bd.js" as="script"><link rel="prefetch" href="/assets/index.html-d67b43df.js" as="script"><link rel="prefetch" href="/assets/index.html-3119d9b8.js" as="script"><link rel="prefetch" href="/assets/index.html-06e743f7.js" as="script"><link rel="prefetch" href="/assets/index.html-8a5d1b82.js" as="script"><link rel="prefetch" href="/assets/index.html-29962abb.js" as="script"><link rel="prefetch" href="/assets/index.html-c0f6e4dc.js" as="script"><link rel="prefetch" href="/assets/index.html-e41e4c06.js" as="script"><link rel="prefetch" href="/assets/index.html-f6ea718a.js" as="script"><link rel="prefetch" href="/assets/index.html-bfe0cad7.js" as="script"><link rel="prefetch" href="/assets/index.html-6a7bb10f.js" as="script"><link rel="prefetch" href="/assets/index.html-e5d4579c.js" as="script"><link rel="prefetch" href="/assets/index.html-eac833ae.js" as="script"><link rel="prefetch" href="/assets/index.html-ebd0cc67.js" as="script"><link rel="prefetch" href="/assets/index.html-7a945891.js" as="script"><link rel="prefetch" href="/assets/index.html-774886e5.js" as="script"><link rel="prefetch" href="/assets/index.html-2174b04b.js" as="script"><link rel="prefetch" href="/assets/index.html-ad0b79a4.js" as="script"><link rel="prefetch" href="/assets/index.html-9b30188e.js" as="script"><link rel="prefetch" href="/assets/index.html-8d2144d5.js" as="script"><link rel="prefetch" href="/assets/index.html-40f7df0a.js" as="script"><link rel="prefetch" href="/assets/index.html-c6a8fd47.js" as="script"><link rel="prefetch" href="/assets/index.html-6053ccb2.js" as="script"><link rel="prefetch" href="/assets/index.html-8192e29b.js" as="script"><link rel="prefetch" href="/assets/index.html-e4604048.js" as="script"><link rel="prefetch" href="/assets/index.html-198ea73c.js" as="script"><link rel="prefetch" href="/assets/index.html-b91a41ec.js" as="script"><link rel="prefetch" href="/assets/index.html-e5793540.js" as="script"><link rel="prefetch" href="/assets/index.html-d1be2bdf.js" as="script"><link rel="prefetch" href="/assets/index.html-099d1085.js" as="script"><link rel="prefetch" href="/assets/index.html-eaf46459.js" as="script"><link rel="prefetch" href="/assets/index.html-5f53e82b.js" as="script"><link rel="prefetch" href="/assets/index.html-8e244331.js" as="script"><link rel="prefetch" href="/assets/index.html-887f331c.js" as="script"><link rel="prefetch" href="/assets/index.html-6b2dddfe.js" as="script"><link rel="prefetch" href="/assets/index.html-90c123f7.js" as="script"><link rel="prefetch" href="/assets/index.html-cb38650d.js" as="script"><link rel="prefetch" href="/assets/index.html-39487905.js" as="script"><link rel="prefetch" href="/assets/index.html-fb5af63a.js" as="script"><link rel="prefetch" href="/assets/index.html-41c29250.js" as="script"><link rel="prefetch" href="/assets/index.html-8f79b4a5.js" as="script"><link rel="prefetch" href="/assets/index.html-92b01f32.js" as="script"><link rel="prefetch" href="/assets/index.html-165066d7.js" as="script"><link rel="prefetch" href="/assets/index.html-9afa56b0.js" as="script"><link rel="prefetch" href="/assets/index.html-3cf5aa41.js" as="script"><link rel="prefetch" href="/assets/index.html-8320eb84.js" as="script"><link rel="prefetch" href="/assets/index.html-6170edc8.js" as="script"><link rel="prefetch" href="/assets/index.html-a748e239.js" as="script"><link rel="prefetch" href="/assets/index.html-5ff5f802.js" as="script"><link rel="prefetch" href="/assets/index.html-62758610.js" as="script"><link rel="prefetch" href="/assets/index.html-bcb79be2.js" as="script"><link rel="prefetch" href="/assets/index.html-dbbbcf6f.js" as="script"><link rel="prefetch" href="/assets/index.html-43b2b721.js" as="script"><link rel="prefetch" href="/assets/index.html-cda4bf0e.js" as="script"><link rel="prefetch" href="/assets/index.html-b9f54fca.js" as="script"><link rel="prefetch" href="/assets/index.html-14989d3c.js" as="script"><link rel="prefetch" href="/assets/index.html-615a31a6.js" as="script"><link rel="prefetch" href="/assets/index.html-d78bbdbc.js" as="script"><link rel="prefetch" href="/assets/index.html-8990a366.js" as="script"><link rel="prefetch" href="/assets/index.html-0e1eec69.js" as="script"><link rel="prefetch" href="/assets/index.html-8452fc85.js" as="script"><link rel="prefetch" href="/assets/index.html-446135e6.js" as="script"><link rel="prefetch" href="/assets/index.html-e8830bfe.js" as="script"><link rel="prefetch" href="/assets/index.html-9395fd4b.js" as="script"><link rel="prefetch" href="/assets/index.html-808a31e1.js" as="script"><link rel="prefetch" href="/assets/index.html-3e429ac3.js" as="script"><link rel="prefetch" href="/assets/intro.html-5a2fd780.js" as="script"><link rel="prefetch" href="/assets/tool.html-6b1587ae.js" as="script"><link rel="prefetch" href="/assets/bloodborn.html-9507b41f.js" as="script"><link rel="prefetch" href="/assets/darksoul1.html-9ae98289.js" as="script"><link rel="prefetch" href="/assets/darksoul2.html-236dd818.js" as="script"><link rel="prefetch" href="/assets/darksoul3.html-25938924.js" as="script"><link rel="prefetch" href="/assets/divinity.html-9e8bcb13.js" as="script"><link rel="prefetch" href="/assets/eastward.html-c5e7f999.js" as="script"><link rel="prefetch" href="/assets/elden_ring.html-be64890e.js" as="script"><link rel="prefetch" href="/assets/firework.html-f6d79ae3.js" as="script"><link rel="prefetch" href="/assets/gp.html-6b16e062.js" as="script"><link rel="prefetch" href="/assets/gujianqitan.html-62758e29.js" as="script"><link rel="prefetch" href="/assets/kingdom_come.html-2e7c0e1d.js" as="script"><link rel="prefetch" href="/assets/mc.html-150f1990.js" as="script"><link rel="prefetch" href="/assets/pzb.html-bb9024c1.js" as="script"><link rel="prefetch" href="/assets/re2.html-5a972444.js" as="script"><link rel="prefetch" href="/assets/sekrio.html-83283861.js" as="script"><link rel="prefetch" href="/assets/witcher.html-b9f4c3c3.js" as="script"><link rel="prefetch" href="/assets/dst.html-f96585c7.js" as="script"><link rel="prefetch" href="/assets/dstm.html-6ea68dba.js" as="script"><link rel="prefetch" href="/assets/k8s_install.html-eb675a78.js" as="script"><link rel="prefetch" href="/assets/pic.html-1e597665.js" as="script"><link rel="prefetch" href="/assets/ssl_cert_collect.html-2c028bf7.js" as="script"><link rel="prefetch" href="/assets/statistic.html-611ddb15.js" as="script"><link rel="prefetch" href="/assets/vuepresshope.html-0a34b917.js" as="script"><link rel="prefetch" href="/assets/2023_01_22.html-369aee71.js" as="script"><link rel="prefetch" href="/assets/2023_02_27.html-ef190b55.js" as="script"><link rel="prefetch" href="/assets/2023_10_09.html-e1285e31.js" as="script"><link rel="prefetch" href="/assets/2024_02_27.html-db4783f2.js" as="script"><link rel="prefetch" href="/assets/2024_06_03.html-5e0d11c0.js" as="script"><link rel="prefetch" href="/assets/dockermem.html-337ebd25.js" as="script"><link rel="prefetch" href="/assets/go_bug_of_hertz_limiter.html-63f41a35.js" as="script"><link rel="prefetch" href="/assets/goland_invalid_ref.html-54a164be.js" as="script"><link rel="prefetch" href="/assets/gotime.html-42ee099e.js" as="script"><link rel="prefetch" href="/assets/hack.html-83d5f3ea.js" as="script"><link rel="prefetch" href="/assets/linuxexe.html-90482a33.js" as="script"><link rel="prefetch" href="/assets/mysqlinject.html-309039fa.js" as="script"><link rel="prefetch" href="/assets/mysqlpassword.html-8964a53d.js" as="script"><link rel="prefetch" href="/assets/oom_pprof.html-65872757.js" as="script"><link rel="prefetch" href="/assets/redisdataloss.html-59e9f122.js" as="script"><link rel="prefetch" href="/assets/binary_heap.html-d0328bb1.js" as="script"><link rel="prefetch" href="/assets/binary_tree.html-739f4b6f.js" as="script"><link rel="prefetch" href="/assets/dequeue.html-88d9a596.js" as="script"><link rel="prefetch" href="/assets/sort.html-5f5dfc96.js" as="script"><link rel="prefetch" href="/assets/fluttertry.html-aba1b6ad.js" as="script"><link rel="prefetch" href="/assets/toml.html-a14eb409.js" as="script"><link rel="prefetch" href="/assets/unicode.html-cf1fcab6.js" as="script"><link rel="prefetch" href="/assets/bitcask.html-f79296be.js" as="script"><link rel="prefetch" href="/assets/docker_install_mariadb.html-fd3076c4.js" as="script"><link rel="prefetch" href="/assets/docker_install_mongo.html-0b588cfc.js" as="script"><link rel="prefetch" href="/assets/docker_install_mysql.html-d6448bac.js" as="script"><link rel="prefetch" href="/assets/docker_install_postgres.html-f7f59456.js" as="script"><link rel="prefetch" href="/assets/docker_install_redis.html-b6874743.js" as="script"><link rel="prefetch" href="/assets/index_length_exceed.html-698bb60b.js" as="script"><link rel="prefetch" href="/assets/river_db.html-f32b1cca.js" as="script"><link rel="prefetch" href="/assets/wal_in_leveldb.html-16a234e6.js" as="script"><link rel="prefetch" href="/assets/0.dcoker.html-6a79bac8.js" as="script"><link rel="prefetch" href="/assets/1.start.html-53589d17.js" as="script"><link rel="prefetch" href="/assets/docker_mysql.html-905e6cf6.js" as="script"><link rel="prefetch" href="/assets/docker_nginx.html-a5d19fac.js" as="script"><link rel="prefetch" href="/assets/expand.html-af4b9008.js" as="script"><link rel="prefetch" href="/assets/0.introduction.html-e307eee6.js" as="script"><link rel="prefetch" href="/assets/1.repo.html-da19fad8.js" as="script"><link rel="prefetch" href="/assets/2.branch.html-d51b15a3.js" as="script"><link rel="prefetch" href="/assets/3.remote.html-9974a68f.js" as="script"><link rel="prefetch" href="/assets/4.gitserver.html-58a214e9.js" as="script"><link rel="prefetch" href="/assets/autotoolbox.html-18f3ba26.js" as="script"><link rel="prefetch" href="/assets/bitflag.html-6e2bcb8b.js" as="script"><link rel="prefetch" href="/assets/geo2ip.html-76ba27d8.js" as="script"><link rel="prefetch" href="/assets/go_ip2loc.html-7055e40a.js" as="script"><link rel="prefetch" href="/assets/go_tail_read_file.html-d6b6aea8.js" as="script"><link rel="prefetch" href="/assets/makefile.html-3e53f89a.js" as="script"><link rel="prefetch" href="/assets/pipeline.html-7610ae03.js" as="script"><link rel="prefetch" href="/assets/registry.html-e01ad0e5.js" as="script"><link rel="prefetch" href="/assets/remotedev.html-cb9d8358.js" as="script"><link rel="prefetch" href="/assets/clash_on_linux.html-1dfeb549.js" as="script"><link rel="prefetch" href="/assets/debian12_install.html-96968820.js" as="script"><link rel="prefetch" href="/assets/linuxservice.html-0e0b4d30.js" as="script"><link rel="prefetch" href="/assets/nat_loss.html-82533ca2.js" as="script"><link rel="prefetch" href="/assets/00.start.html-300529dd.js" as="script"><link rel="prefetch" href="/assets/01.principle.html-b92b9f10.js" as="script"><link rel="prefetch" href="/assets/02.create.html-d8fdab92.js" as="script"><link rel="prefetch" href="/assets/03.structure.html-53b227b7.js" as="script"><link rel="prefetch" href="/assets/04.behavior.html-59d810eb.js" as="script"><link rel="prefetch" href="/assets/pypi_upload.html-b8c22c80.js" as="script"><link rel="prefetch" href="/assets/install.html-ca57e57d.js" as="script"><link rel="prefetch" href="/assets/win10_reset.html-6303a52e.js" as="script"><link rel="prefetch" href="/assets/404.html-be487d22.js" as="script"><link rel="prefetch" href="/assets/index.html-c204690a.js" as="script"><link rel="prefetch" href="/assets/index.html-c798d878.js" as="script"><link rel="prefetch" href="/assets/index.html-738fa7ec.js" as="script"><link rel="prefetch" href="/assets/index.html-6c06f694.js" as="script"><link rel="prefetch" href="/assets/index.html-bd809d30.js" as="script"><link rel="prefetch" href="/assets/index.html-ac20c497.js" as="script"><link rel="prefetch" href="/assets/index.html-0f244c74.js" as="script"><link rel="prefetch" href="/assets/index.html-73204ea6.js" as="script"><link rel="prefetch" href="/assets/index.html-42322aea.js" as="script"><link rel="prefetch" href="/assets/index.html-75bff613.js" as="script"><link rel="prefetch" href="/assets/index.html-da391368.js" as="script"><link rel="prefetch" href="/assets/index.html-c0a5e4e8.js" as="script"><link rel="prefetch" href="/assets/index.html-304d29c6.js" as="script"><link rel="prefetch" href="/assets/index.html-ab4ad3dd.js" as="script"><link rel="prefetch" href="/assets/index.html-b1a73b48.js" as="script"><link rel="prefetch" href="/assets/index.html-82473335.js" as="script"><link rel="prefetch" href="/assets/index.html-61fa09a7.js" as="script"><link rel="prefetch" href="/assets/index.html-67108f2b.js" as="script"><link rel="prefetch" href="/assets/index.html-a320f9e5.js" as="script"><link rel="prefetch" href="/assets/index.html-73819190.js" as="script"><link rel="prefetch" href="/assets/index.html-ae66f085.js" as="script"><link rel="prefetch" href="/assets/index.html-de02c408.js" as="script"><link rel="prefetch" href="/assets/index.html-df8b77dd.js" as="script"><link rel="prefetch" href="/assets/index.html-ee488618.js" as="script"><link rel="prefetch" href="/assets/index.html-c1150ca2.js" as="script"><link rel="prefetch" href="/assets/index.html-8b98080a.js" as="script"><link rel="prefetch" href="/assets/index.html-7b24ba64.js" as="script"><link rel="prefetch" href="/assets/index.html-58b26096.js" as="script"><link rel="prefetch" href="/assets/index.html-4c6f438f.js" as="script"><link rel="prefetch" href="/assets/index.html-a9441176.js" as="script"><link rel="prefetch" href="/assets/index.html-44ae7e36.js" as="script"><link rel="prefetch" href="/assets/index.html-25f4d591.js" as="script"><link rel="prefetch" href="/assets/index.html-1fa17fe8.js" as="script"><link rel="prefetch" href="/assets/index.html-920a6d92.js" as="script"><link rel="prefetch" href="/assets/index.html-d7e85a08.js" as="script"><link rel="prefetch" href="/assets/index.html-fd425b41.js" as="script"><link rel="prefetch" href="/assets/index.html-177d3552.js" as="script"><link rel="prefetch" href="/assets/index.html-ba477663.js" as="script"><link rel="prefetch" href="/assets/index.html-88289777.js" as="script"><link rel="prefetch" href="/assets/index.html-e68c4f36.js" as="script"><link rel="prefetch" href="/assets/index.html-a842acfd.js" as="script"><link rel="prefetch" href="/assets/index.html-7f6ba9f9.js" as="script"><link rel="prefetch" href="/assets/index.html-8321355a.js" as="script"><link rel="prefetch" href="/assets/index.html-fc9f8646.js" as="script"><link rel="prefetch" href="/assets/index.html-1373db65.js" as="script"><link rel="prefetch" href="/assets/index.html-5d17fbc6.js" as="script"><link rel="prefetch" href="/assets/index.html-e74ad0cf.js" as="script"><link rel="prefetch" href="/assets/index.html-903fbab1.js" as="script"><link rel="prefetch" href="/assets/index.html-8a5d7176.js" as="script"><link rel="prefetch" href="/assets/index.html-440d9a81.js" as="script"><link rel="prefetch" href="/assets/index.html-b1228c12.js" as="script"><link rel="prefetch" href="/assets/index.html-96026a1d.js" as="script"><link rel="prefetch" href="/assets/index.html-19168858.js" as="script"><link rel="prefetch" href="/assets/index.html-48459c06.js" as="script"><link rel="prefetch" href="/assets/index.html-ba303050.js" as="script"><link rel="prefetch" href="/assets/index.html-7a4e17a8.js" as="script"><link rel="prefetch" href="/assets/index.html-0cf6e9fd.js" as="script"><link rel="prefetch" href="/assets/index.html-6d5adef1.js" as="script"><link rel="prefetch" href="/assets/index.html-12ddaec3.js" as="script"><link rel="prefetch" href="/assets/index.html-280f8c1d.js" as="script"><link rel="prefetch" href="/assets/index.html-07c98eb9.js" as="script"><link rel="prefetch" href="/assets/index.html-fdc7d60c.js" as="script"><link rel="prefetch" href="/assets/index.html-cfc41346.js" as="script"><link rel="prefetch" href="/assets/index.html-7e1318d1.js" as="script"><link rel="prefetch" href="/assets/index.html-29a0e884.js" as="script"><link rel="prefetch" href="/assets/index.html-1bf21718.js" as="script"><link rel="prefetch" href="/assets/index.html-6ef7253b.js" as="script"><link rel="prefetch" href="/assets/index.html-75ad89d4.js" as="script"><link rel="prefetch" href="/assets/index.html-a69df5ea.js" as="script"><link rel="prefetch" href="/assets/index.html-3c2f9a87.js" as="script"><link rel="prefetch" href="/assets/index.html-fab5d4c1.js" as="script"><link rel="prefetch" href="/assets/index.html-4e7dc777.js" as="script"><link rel="prefetch" href="/assets/index.html-0be36716.js" as="script"><link rel="prefetch" href="/assets/index.html-f431c612.js" as="script"><link rel="prefetch" href="/assets/index.html-4b7c149e.js" as="script"><link rel="prefetch" href="/assets/index.html-54b8486a.js" as="script"><link rel="prefetch" href="/assets/index.html-fab1cb26.js" as="script"><link rel="prefetch" href="/assets/index.html-ea5a4e61.js" as="script"><link rel="prefetch" href="/assets/index.html-7e31764b.js" as="script"><link rel="prefetch" href="/assets/index.html-5019f874.js" as="script"><link rel="prefetch" href="/assets/index.html-b5d2f1a6.js" as="script"><link rel="prefetch" href="/assets/index.html-25bdd0f4.js" as="script"><link rel="prefetch" href="/assets/index.html-c761bb76.js" as="script"><link rel="prefetch" href="/assets/index.html-04e214f7.js" as="script"><link rel="prefetch" href="/assets/index.html-3b16b34a.js" as="script"><link rel="prefetch" href="/assets/index.html-84d6a204.js" as="script"><link rel="prefetch" href="/assets/index.html-883486af.js" as="script"><link rel="prefetch" href="/assets/index.html-b2aa734c.js" as="script"><link rel="prefetch" href="/assets/index.html-95fab58d.js" as="script"><link rel="prefetch" href="/assets/index.html-d69f98eb.js" as="script"><link rel="prefetch" href="/assets/index.html-046ebc4d.js" as="script"><link rel="prefetch" href="/assets/index.html-7bac81ed.js" as="script"><link rel="prefetch" href="/assets/index.html-219a825a.js" as="script"><link rel="prefetch" href="/assets/index.html-9a9c668f.js" as="script"><link rel="prefetch" href="/assets/index.html-49ff38ca.js" as="script"><link rel="prefetch" href="/assets/index.html-c6f09ad2.js" as="script"><link rel="prefetch" href="/assets/index.html-d3f4ca96.js" as="script"><link rel="prefetch" href="/assets/index.html-3f39d128.js" as="script"><link rel="prefetch" href="/assets/index.html-65deefea.js" as="script"><link rel="prefetch" href="/assets/index.html-e76a6587.js" as="script"><link rel="prefetch" href="/assets/index.html-49df5c09.js" as="script"><link rel="prefetch" href="/assets/index.html-04d5fbbd.js" as="script"><link rel="prefetch" href="/assets/index.html-0ba66206.js" as="script"><link rel="prefetch" href="/assets/index.html-d18abf5a.js" as="script"><link rel="prefetch" href="/assets/index.html-e821ca32.js" as="script"><link rel="prefetch" href="/assets/index.html-7995b310.js" as="script"><link rel="prefetch" href="/assets/index.html-abaad5d4.js" as="script"><link rel="prefetch" href="/assets/index.html-24aa6fb4.js" as="script"><link rel="prefetch" href="/assets/index.html-2c1c4141.js" as="script"><link rel="prefetch" href="/assets/index.html-bd1c83d6.js" as="script"><link rel="prefetch" href="/assets/index.html-a7f96271.js" as="script"><link rel="prefetch" href="/assets/index.html-4a3a8d37.js" as="script"><link rel="prefetch" href="/assets/index.html-613ad2a0.js" as="script"><link rel="prefetch" href="/assets/index.html-941d503c.js" as="script"><link rel="prefetch" href="/assets/index.html-80eff800.js" as="script"><link rel="prefetch" href="/assets/index.html-d01dd6bf.js" as="script"><link rel="prefetch" href="/assets/index.html-a792298d.js" as="script"><link rel="prefetch" href="/assets/index.html-313182ee.js" as="script"><link rel="prefetch" href="/assets/index.html-750556d1.js" as="script"><link rel="prefetch" href="/assets/index.html-a188d1aa.js" as="script"><link rel="prefetch" href="/assets/index.html-2109a360.js" as="script"><link rel="prefetch" href="/assets/index.html-beef0a4a.js" as="script"><link rel="prefetch" href="/assets/index.html-e4f4dd58.js" as="script"><link rel="prefetch" href="/assets/index.html-bf3104b7.js" as="script"><link rel="prefetch" href="/assets/index.html-c703ae37.js" as="script"><link rel="prefetch" href="/assets/index.html-05297341.js" as="script"><link rel="prefetch" href="/assets/index.html-47ff8fbd.js" as="script"><link rel="prefetch" href="/assets/index.html-f8f67402.js" as="script"><link rel="prefetch" href="/assets/index.html-1deb3541.js" as="script"><link rel="prefetch" href="/assets/index.html-e53e1162.js" as="script"><link rel="prefetch" href="/assets/index.html-1e528248.js" as="script"><link rel="prefetch" href="/assets/index.html-f22f9dd0.js" as="script"><link rel="prefetch" href="/assets/index.html-0936060a.js" as="script"><link rel="prefetch" href="/assets/index.html-30c6eecb.js" as="script"><link rel="prefetch" href="/assets/index.html-c519c91e.js" as="script"><link rel="prefetch" href="/assets/index.html-97fa44fa.js" as="script"><link rel="prefetch" href="/assets/index.html-0112dc11.js" as="script"><link rel="prefetch" href="/assets/index.html-2ce8c456.js" as="script"><link rel="prefetch" href="/assets/index.html-25dddc9e.js" as="script"><link rel="prefetch" href="/assets/index.html-5509b524.js" as="script"><link rel="prefetch" href="/assets/index.html-1bffefe4.js" as="script"><link rel="prefetch" href="/assets/index.html-124731f6.js" as="script"><link rel="prefetch" href="/assets/index.html-389025e4.js" as="script"><link rel="prefetch" href="/assets/index.html-e5b055d2.js" as="script"><link rel="prefetch" href="/assets/index.html-48c2d102.js" as="script"><link rel="prefetch" href="/assets/index.html-13413135.js" as="script"><link rel="prefetch" href="/assets/index.html-c59a7f83.js" as="script"><link rel="prefetch" href="/assets/index.html-7067d916.js" as="script"><link rel="prefetch" href="/assets/index.html-91d87f46.js" as="script"><link rel="prefetch" href="/assets/giscus-16d370b8.js" as="script"><link rel="prefetch" href="/assets/auto-ba5ecab5.js" as="script"><link rel="prefetch" href="/assets/index-b03bef79.js" as="script"><link rel="prefetch" href="/assets/flowchart-35969cab.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-8d77235c.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-30be9ea9.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-6e84c481.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-96fd0de1.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-6e6cbe40.js" as="script"><link rel="prefetch" href="/assets/SearchResult-395c75e0.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="寒江蓑笠翁"><!----><span class="site-name hide-in-pad">寒江蓑笠翁</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/category/%E6%8A%80%E6%9C%AF%E6%97%A5%E5%BF%97/" class="nav-link" aria-label="技术日志"><span class="font-icon icon iconfont icon-build" style=""></span>技术日志<!----></a></div><div class="nav-item hide-in-mobile"><a href="/category/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/" class="nav-link" aria-label="问题记录"><span class="font-icon icon iconfont icon-config" style=""></span>问题记录<!----></a></div><div class="nav-item hide-in-mobile"><a href="/category/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/" class="nav-link" aria-label="生活随笔"><span class="font-icon icon iconfont icon-edit" style=""></span>生活随笔<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="其它分类"><span class="title"><span class="font-icon icon iconfont icon-guide" style=""></span>其它分类</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>编程语言</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/go/" class="nav-link" aria-label="Golang"><!---->Golang<!----></a></li><li class="dropdown-subitem"><a href="/category/rust/" class="nav-link" aria-label="Rust"><!---->Rust<!----></a></li><li class="dropdown-subitem"><a href="/category/python/" class="nav-link" aria-label="Python"><!---->Python<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>操作系统</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/linux/" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-subitem"><a href="/category/windows/" class="nav-link" aria-label="Windows"><!---->Windows<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>开发工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/git/" class="nav-link" aria-label="Git"><!---->Git<!----></a></li><li class="dropdown-subitem"><a href="/category/docker/" class="nav-link" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-subitem"><a href="/category/db/" class="nav-link" aria-label="数据库"><!---->数据库<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>基础知识</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="nav-link" aria-label="设计模式"><!---->设计模式<!----></a></li><li class="dropdown-subitem"><a href="/category/%E7%AE%97%E6%B3%95/" class="nav-link" aria-label="算法"><!---->算法<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>闲话水文</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/%E6%B8%B8%E6%88%8F%E6%9D%82%E8%B0%88/" class="nav-link" aria-label="游戏杂谈"><!---->游戏杂谈<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/tool.html" class="nav-link" aria-label="工具箱"><span class="font-icon icon iconfont icon-operate" style=""></span>工具箱<!----></a></div><div class="nav-item hide-in-mobile"><a href="/timeline" class="nav-link" aria-label="时间轴"><span class="font-icon icon iconfont icon-time" style=""></span>时间轴<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">搜索</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->如何向Go贡献代码</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">寒江蓑笠翁</a></span><span property="author" content="寒江蓑笠翁"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2024-07-31T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 31 分钟</span><meta property="timeRequired" content="PT31M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category2 clickable" role="navigation">go</span><meta property="articleSection" content="go"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag7 clickable" role="navigation">golang</span><span class="page-tag-item tag8 clickable" role="navigation">gerrit</span><span class="page-tag-item tag3 clickable" role="navigation">codereview</span><meta property="keywords" content="golang,gerrit,codereview"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#前言" class="router-link-active router-link-exact-active toc-link level2">前言</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#准备" class="router-link-active router-link-exact-active toc-link level2">准备</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#cla" class="router-link-active router-link-exact-active toc-link level3">CLA</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#geerit" class="router-link-active router-link-exact-active toc-link level3">Geerit</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#冻结期" class="router-link-active router-link-exact-active toc-link level3">冻结期</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#编码" class="router-link-active router-link-exact-active toc-link level2">编码</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#仓库结构" class="router-link-active router-link-exact-active toc-link level3">仓库结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#安全漏洞" class="router-link-active router-link-exact-active toc-link level3">安全漏洞</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#本地编译" class="router-link-active router-link-exact-active toc-link level3">本地编译</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#代码规范" class="router-link-active router-link-exact-active toc-link level3">代码规范</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#本地测试" class="router-link-active router-link-exact-active toc-link level3">本地测试</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#pull-request" class="router-link-active router-link-exact-active toc-link level3">Pull Request</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#代码审查" class="router-link-active router-link-exact-active toc-link level2">代码审查</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#审查人员" class="router-link-active router-link-exact-active toc-link level3">审查人员</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#trybots" class="router-link-active router-link-exact-active toc-link level3">Trybots</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#投票" class="router-link-active router-link-exact-active toc-link level3">投票</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#修改" class="router-link-active router-link-exact-active toc-link level3">修改</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#合并" class="router-link-active router-link-exact-active toc-link level3">合并</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/go/contribute2go.html#总结" class="router-link-active router-link-exact-active toc-link level2">总结</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="如何向go贡献代码" tabindex="-1"><a class="header-anchor" href="#如何向go贡献代码" aria-hidden="true">#</a> 如何向Go贡献代码</h1><figure><img src="https://spf13.com/presentation/how-to-contribute-to-go/front.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><!-- more --><hr><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>有一天我突发奇想，想自己编写一个契合我个人使用习惯的go版本管理命令行工具，方便随时切换不同的go版本。作为一个版本管理工具，首要的一个功能就是可以随时获取到最新的go版本，以及所有可用的版本列表，go官方有一个API可以查询所有可用的版本列表，如下：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://go.dev/dl/?mode=json&amp;include=all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在通过该接口得到数据后，我尝试用go在1.21新加的一个库<code>go/version</code>来进行排序，可排序后得到的结果让人非常的诧异，示例代码如下所示</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;encoding/json&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;go/version&quot;</span>
	<span class="token string">&quot;net/http&quot;</span>
	<span class="token string">&quot;slices&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> GoVersion <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Version <span class="token builtin">string</span>    <span class="token string">`json:&quot;version&quot;`</span>
	Stable  <span class="token builtin">bool</span>      <span class="token string">`json:&quot;stable&quot;`</span>
	Files   <span class="token punctuation">[</span><span class="token punctuation">]</span>Version <span class="token string">`json:&quot;files&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Version <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Filename <span class="token builtin">string</span> <span class="token string">`json:&quot;filename&quot;`</span>
	Os       <span class="token builtin">string</span> <span class="token string">`json:&quot;os&quot;`</span>
	Version  <span class="token builtin">string</span> <span class="token string">`json:&quot;version&quot;`</span>
	Sha256   <span class="token builtin">string</span> <span class="token string">`json:&quot;sha256&quot;`</span>
	Size     <span class="token builtin">int64</span>  <span class="token string">`json:&quot;size&quot;`</span>
	Kind     <span class="token builtin">string</span> <span class="token string">`json:&quot;kind&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;https://go.dev/dl/?mode=json&amp;include=all&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">var</span> goVersions <span class="token punctuation">[</span><span class="token punctuation">]</span>GoVersion
	err <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">NewDecoder</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>goVersions<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	slices<span class="token punctuation">.</span><span class="token function">SortFunc</span><span class="token punctuation">(</span>goVersions<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2 GoVersion<span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> version<span class="token punctuation">.</span><span class="token function">Compare</span><span class="token punctuation">(</span>v1<span class="token punctuation">.</span>Version<span class="token punctuation">,</span> v2<span class="token punctuation">.</span>Version<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> version <span class="token operator">:=</span> <span class="token keyword">range</span> goVersions<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>version<span class="token punctuation">.</span>Version<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>它的输出是</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>go1.9.2rc2
go1
go1.2.2
go1.3rc1
go1.3rc2
go1.3
go1.3.1
go1.3.2
go1.3.3
go1.4beta1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>排第一的版本是<code>go1.9.2rc2</code>，而不是最老的版本<code>go1</code>，发现这个问题后我去研究了下<code>go/verison</code>的源代码，发现了下面这一段</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token comment">// Parse patch if present.</span>
<span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">&#39;.&#39;</span> <span class="token punctuation">{</span>
    v<span class="token punctuation">.</span>Patch<span class="token punctuation">,</span> x<span class="token punctuation">,</span> ok <span class="token operator">=</span> <span class="token function">cutInt</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token operator">||</span> x <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
        <span class="token comment">// Note that we are disallowing prereleases (alpha, beta, rc) for patch releases here (x != &quot;&quot;).</span>
        <span class="token comment">// Allowing them would be a bit confusing because we already have:</span>
        <span class="token comment">//	1.21 &lt; 1.21rc1</span>
        <span class="token comment">// But a prerelease of a patch would have the opposite effect:</span>
        <span class="token comment">//	1.21.3rc1 &lt; 1.21.3</span>
        <span class="token comment">// We&#39;ve never needed them before, so let&#39;s not start now.</span>
        <span class="token keyword">return</span> Version<span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> v
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>大致意思就是说，补丁的预发布版本很少会使用到，且可能会产生歧义就将其视为非法的版本，而非法的版本总是会小于合法的版本，这就是为什么<code>go.1.9.2rc2</code>是最小的版本，编写这个标准库的正是go团队的主要领头人Russ cox。</p><p>虽然官方是这样说，但我并不认为这样就是正确的，目前我发现的拥有预发布版本的补丁版本总共有三个：</p><ul><li>1.8.5rc5</li><li>1.8.5rc4</li><li>1.9.2rc2</li></ul><p>尤其是<code>1.9.2rc2</code>，它既然可以在官方接口中可以被查询到，那就说明它是一个可用的版本，但很遗憾的是下面这段代码的结果是false。</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>version<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token string">&quot;go1.9.2rc2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将一个对外可用的版本视为非法的版本，这很明显就是错误的，于是我便想着自己修改，给Go语言提了一个issue：<a href="https://github.com/golang/go/issues/68634" target="_blank" rel="noopener noreferrer">Issue #68634 · golang/go<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，并且后续向go发起了一个Pull Request来修复这一错误，由于我是第一次向go仓库贡献代码，中间做了许多额外的准备，所以便写下本文做一个记录。</p><h2 id="准备" tabindex="-1"><a class="header-anchor" href="#准备" aria-hidden="true">#</a> 准备</h2><p>在真正开始写代码之前，你需要做一些准备来符合PR的规范，否则官方不会受理你的代码。官方文档详细地描述了如何正确地向Go提交代码<a href="https://go.dev/doc/contribute#commit_messages" target="_blank" rel="noopener noreferrer">Contribution Guide - The Go Programming Language<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h3 id="cla" tabindex="-1"><a class="header-anchor" href="#cla" aria-hidden="true">#</a> CLA</h3><p>CLA（Contributor License Agreement），中文名为开源贡献者协议，一般有两种，</p><ul><li>DCO：由linux基金会提出，社区属性比较强，每次提交的时候都要签署</li><li>CLA：由公司法务指定，具有一定法律性质，一次性签署，社区属性弱</li></ul><p>go是谷歌公司的产品， 向其贡献代码前就必须要签署<a href="https://cla.developers.google.com/about" target="_blank" rel="noopener noreferrer">Google CLA<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，如下图所示</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408010102024.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>有个人版和企业版，对于个人版而言仅需要提供你的名字和邮件联系方式即可，如果你未签署CLA就直接提交PR，github上会有机器人来提醒你签署CLA，在此之前你的PR不会被受理。</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408010105232.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="geerit" tabindex="-1"><a class="header-anchor" href="#geerit" aria-hidden="true">#</a> Geerit</h3><p>Gerrit是谷歌开源的一个代码评审平台，可以企业自托管。go的代码审查也是用的gerrit，地址在<a href="https://go-review.googlesource.com/dashboard/self" target="_blank" rel="noopener noreferrer">Go |Gerrit Code Review<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，界面大致如下图。</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408010115925.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>你需要在这里注册一个账号，因为所有的PR都会被机器人转发到gerrit，负责代码审查的人员会在这里对你的代码提出规范和建议，所以不要在GitHub的PR页面做出任何回复和评论，机器人会告诉你到哪里去查看。</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408010116746.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果你后续需要修改代码，只需要提交到Github上即可，代码审查的工作在Gerrit上进行。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ go <span class="token function">install</span> golang.org/x/review/git-codereview@latest

$ <span class="token function">git</span> codereview <span class="token builtin class-name">help</span>
Usage: git-codereview <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span> <span class="token punctuation">[</span>-n<span class="token punctuation">]</span> <span class="token punctuation">[</span>-v<span class="token punctuation">]</span>

Git-codereview is a <span class="token function">git</span> helper <span class="token builtin class-name">command</span> <span class="token keyword">for</span> managing pending commits
against an upstream server, typically a Gerrit server.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>建议在本地安装go官方的一个review命令行工具，下面是一些简单的用法</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">git</span> codereview <span class="token function">sync</span> <span class="token comment"># 同步代码</span>
$ <span class="token function">git</span> codereview change <span class="token comment"># 修改提交信息</span>
$ <span class="token function">git</span> codereview mail <span class="token comment"># 将修改后的信息提交到gerrit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="冻结期" tabindex="-1"><a class="header-anchor" href="#冻结期" aria-hidden="true">#</a> 冻结期</h3><p>每年的5-7月，11-1月是go语言的冻结期，这段时间一般是为了发布新的次级版本而做准备，在这段时间内代码审查的工作会放缓，只有一小部分比较重要的更改会被合并，在此期间只接受修复已有的bug和文档更新类的修改，如果你是在这个时间点内提交其他类型的PR，可能会要等一段时间才会有回应，直到冻结期结束。</p><h2 id="编码" tabindex="-1"><a class="header-anchor" href="#编码" aria-hidden="true">#</a> 编码</h2><p>当你做好上述准备工作以后，就可以开始着手准备写代码了。</p><h3 id="仓库结构" tabindex="-1"><a class="header-anchor" href="#仓库结构" aria-hidden="true">#</a> 仓库结构</h3><p>go语言有很多仓库，它们无一例外全都托管谷歌仓库中，你可以在<a href="https://go.googlesource.com/" target="_blank" rel="noopener noreferrer">Git repositories on go | Google<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>查看到所有和go有关的项目，你也可以在<a href="https://github.com/golang" target="_blank" rel="noopener noreferrer">github.com/golang<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>组织下看到这些项目的镜像，不过并不是所有项目都保持活跃，有些可能被遗弃了，在提交代码的时候记得注意这一点。下面简单介绍下最主要的几个，你需要弄清楚自己做出的修改要提交到哪里去才行。</p><p><strong>主仓库</strong></p><p>地址：<a href="http://go.googlesource.com/go" target="_blank" rel="noopener noreferrer">go.googlesource.com/go<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>镜像：<a href="http://github.com/golang/go" target="_blank" rel="noopener noreferrer">github.com/golang/go<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>主仓库存放了go语言绝大部分代码，大部分修改都在这里进行，比如语法，运行时，gc，和一些标准库之类的。</p><p><strong>proposal</strong></p><p>地址：<a href="http://go.googlesource.com/proposal" target="_blank" rel="noopener noreferrer">go.googlesource.com/proposal<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>镜像：<a href="http://github.com/golang/proposal" target="_blank" rel="noopener noreferrer">github.com/golang/proposal<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>go语言提案库，所有涉及到go语言特性的重大变更都必须先在这里发起一个提案</p><p><strong>tools</strong></p><p>地址：<a href="http://go.googlesource.com/tools" target="_blank" rel="noopener noreferrer">go.googlesource.com/tools<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>镜像：<a href="http://github.com/golang/tools" target="_blank" rel="noopener noreferrer">github.com/golang/tools<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>对应<code>golang.org/x/tools</code>，tools仓库存放着一些官方编写的工具，比如goimports，stringer，gopls之类</p><p><strong>net</strong></p><p>地址：<a href="http://go.googlesource.com/net" target="_blank" rel="noopener noreferrer">go.googlesource.com/net<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>镜像：<a href="http://github.com/golang/net" target="_blank" rel="noopener noreferrer">github.com/golang/net<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>对应<code>golang.org/x/net</code>，net库是官方对net标准库的一个补充</p><p><strong>crypot</strong></p><p>地址：<a href="http://go.googlesource.com/crypto" target="_blank" rel="noopener noreferrer">go.googlesource.com/crypto<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>镜像：<a href="http://github.com/golang/crypto" target="_blank" rel="noopener noreferrer">github.com/golang/crypto<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>对应<code>golang.org/x/crypto</code>，是对crypto标准库的一个补充</p><p><strong>gofrontend</strong></p><p>地址：<a href="http://go.googlesource.com/gofrontend" target="_blank" rel="noopener noreferrer">go.googlesource.com/gofrontend<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>镜像：<a href="http://github.com/golang/gofrontend" target="_blank" rel="noopener noreferrer">github.com/golang/gofrontend<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>gccgo，go编译器前端</p><p><strong>vscode-go</strong></p><p>地址：<a href="http://go.googlesource.com/vscode-go" target="_blank" rel="noopener noreferrer">go.googlesource.com/vscode-go<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>镜像：<a href="http://github.com/golang/vscode-go" target="_blank" rel="noopener noreferrer">github.com/golang/vscode-go<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>go语言的vscode插件</p><p>里面还有很多项目，这里就不一一列出了，可以前往谷歌仓库自行查阅。</p><h3 id="安全漏洞" tabindex="-1"><a class="header-anchor" href="#安全漏洞" aria-hidden="true">#</a> 安全漏洞</h3><p>这篇文章详细说明了如何报告安全漏洞：<a href="https://go.dev/doc/security/policy" target="_blank" rel="noopener noreferrer">Go Security Policy - The Go Programming Language<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>如果你发现了安全漏洞，不要在github上提issue或PR，go有一个专门处理安全问题的团队，将你遇到的问题详细描述（用英文）然后发邮件给这个地址：security@golang.org，团队成功会尽快在7天内做出回复，为了避免被当成垃圾邮件，请确保邮件里面包含了<strong>vulnerability</strong>这个单词，意思就是漏洞，或者也可以去这里<a href="https://bughunters.google.com/report" target="_blank" rel="noopener noreferrer">Report Overview | Google Bug Hunters - Google Bug Hunters<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>反馈安全漏洞。</p><h3 id="本地编译" tabindex="-1"><a class="header-anchor" href="#本地编译" aria-hidden="true">#</a> 本地编译</h3><p>在决定好向哪一个仓库贡献代码后，用git将其克隆到本地，比如我这里是主仓库，使用Github地址与谷歌的地址是等效的，单纯是因为我更习惯Github上的操作。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>git clone git@github.com:golang/go.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在将代码拉下来后，首先要做的第一件事就是先编译go项目，编译器用的是本地go自带的gc，进入src目录（必须在src目录执行），执行make脚本，如果你是windows平台，就执行<code>make.bat</code>，其他平台就执行<code>make.bash</code>，在编译完成后，二进制文件会存放在go/bin目录下，工具链会存放在go/pkg目录下。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">time</span> ./make.bat
Building Go cmd/dist using D:<span class="token punctuation">\</span>work<span class="token punctuation">\</span>libs<span class="token punctuation">\</span>golang<span class="token punctuation">\</span>root<span class="token punctuation">\</span>go1.22.5. <span class="token punctuation">(</span>go1.22.5 windows/amd64<span class="token punctuation">)</span>
Building Go toolchain1 using D:<span class="token punctuation">\</span>work<span class="token punctuation">\</span>libs<span class="token punctuation">\</span>golang<span class="token punctuation">\</span>root<span class="token punctuation">\</span>go1.22.5.
Building Go bootstrap cmd/go <span class="token punctuation">(</span>go_bootstrap<span class="token punctuation">)</span> using Go toolchain1.
Building Go toolchain2 using go_bootstrap and Go toolchain1.
Building Go toolchain3 using go_bootstrap and Go toolchain2.
Building packages and commands <span class="token keyword">for</span> windows/amd64.

real    1m36.028s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>go仓库光是go代码就有250w+行，还不包含其他的一些文件，不过整体编译时间并不需要很久，测了下平均耗时在一分半左右。</p><p>官方准备了三种类型的脚本，它们的作用如下</p><ul><li>make.bash，仅编译</li><li>run.bash，不编译，运行所有的测试用例</li><li>all.bash，先编译，然后再运行所有的测试用例</li></ul><p>可以看自己的需要来使用哪一个。</p><h3 id="代码规范" tabindex="-1"><a class="header-anchor" href="#代码规范" aria-hidden="true">#</a> 代码规范</h3><p>在开始写代码之前，你首先需要创建一个新的分支，然后在新分支上做出修改，分支名称并没有严格规范，像github平时那样就好</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">git</span> checkout <span class="token parameter variable">-b</span> mybranch
$ <span class="token punctuation">[</span>edit files<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
$ <span class="token function">git</span> <span class="token function">add</span> <span class="token punctuation">[</span>files<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你每新建一个go文件，就需要在文件头部加上如下的注释，其中的年份是你提交修改的年份，注释中不要提及任何人的姓名</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token comment">// Copyright 2024 The Go Authors. All rights reserved.</span>
<span class="token comment">// Use of this source code is governed by a BSD-style</span>
<span class="token comment">// license that can be found in the LICENSE file.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你新建了一个包，就需要在包级注释中说明这个包是干什么用的，就像标准库<code>bytes</code></p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token comment">// Copyright 2009 The Go Authors. All rights reserved.</span>
<span class="token comment">// Use of this source code is governed by a BSD-style</span>
<span class="token comment">// license that can be found in the LICENSE file.</span>

<span class="token comment">// Package bytes implements functions for the manipulation of byte slices.</span>
<span class="token comment">// It is analogous to the facilities of the [strings] package.</span>
<span class="token keyword">package</span> bytes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后就是提交规范，这是官方给的一个示例</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>math: improve Sin, Cos and Tan precision for very large arguments

The existing implementation has poor numerical properties for
large arguments, so use the McGillicutty algorithm to improve
accuracy above 1e10.

The algorithm is described at https://wikipedia.org/wiki/McGillicutty_Algorithm

Fixes #159
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>格式如下</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>scope: summary

main content

referencing issues
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一行需要标注出影响范围和对本次提交的简短总结，必须以冒号分隔，如果有多个影响范围可以用逗号隔开，总结必须小写字母开头且尽量精简到76个字母以内，示例如下</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>syscall,misc/wasm: fix path expansion on non-unix platforms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后是主要内容，不能使用markdown，html，latex等任何标记语言，这一部分需要描述的尽可能详细，需要说明起因和结果，并且附上尽可能详细的数据，比如修改的代码涉及到性能，可以附上基准测试的数据。下面是一个示例，该提交涉及到了内存逃逸方面。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>sync: reduce OnceFunc (and variants) heap allocations

The lifetime of the variables are identical; capture
them in a single struct to avoid individual allocations.
The inner closure can also avoid allocation by using the
capture of the outer closure.

Escape analysis for OnceValues:

  /go/src/sync/oncefunc.go:74:29: moved to heap: sync.f
  /go/src/sync/oncefunc.go:76:3: moved to heap: sync.once
  /go/src/sync/oncefunc.go:77:3: moved to heap: sync.valid
  /go/src/sync/oncefunc.go:78:3: moved to heap: sync.p
  /go/src/sync/oncefunc.go:79:3: moved to heap: sync.r1
  /go/src/sync/oncefunc.go:80:3: moved to heap: sync.r2
  /go/src/sync/oncefunc.go:82:7: func literal escapes to heap
  /go/src/sync/oncefunc.go:83:9: func literal does not escape
  /go/src/sync/oncefunc.go:93:9: func literal escapes to heap

After provided changes:

  /go/src/sync/oncefunc.go:86:2: moved to heap: sync.d
  /go/src/sync/oncefunc.go:96:9: func literal escapes to heap
  /go/src/sync/oncefunc.go:99:13: func literal does not escape
  /go/src/sync/oncefunc.go:100:10: func literal does not escape
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后就是需要引用相关的issue，最好每一个PR都与一个issue相关联，方便溯源。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Fixes #159
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="本地测试" tabindex="-1"><a class="header-anchor" href="#本地测试" aria-hidden="true">#</a> 本地测试</h3><p>在完成所有的编码工作后，你需要编写相应的单元测试，这一点是必须要做的。然后在src目录下（必须在src目录下执行）执行<code>all.bash/bat</code>脚本，该脚本会编译go代码并执行所有的测试</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token builtin class-name">cd</span> go/src <span class="token operator">&amp;&amp;</span> ./all.bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>由于需要将go代码中所有的测试都执行完，耗时可能会比较久，大概在10分钟左右，所有测试通过后会显示下面一行内容</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ALL TESTS PASSED
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果你只是对某一个标准库做了修改，你也可以不用执行全部的测试，你可以使用编译好后的go指定执行某一个标准库的测试用例，比如</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ cd $GOROOT/src/crypto/sha1
$ [make changes...]
$ $GOROOT/bin/go test .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>不过我还是建议执行所有的测试用例，因为单独执行测试用例我基本上就没怎么成功过。</p><h3 id="pull-request" tabindex="-1"><a class="header-anchor" href="#pull-request" aria-hidden="true">#</a> Pull Request</h3><p>在完成所有的修改后，将其推送到Github，然后向go仓库发起Pull Request，如下图</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011203739.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>过一会儿会有机器人来告诉你PR已经被转发到Gerrit</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011205270.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>之后的代码审查工作就是在gerrit进行，gerrit的评论也会同步到Github，不过不要在这里做出任何回复。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果你使用<code>git codereview mail</code>来将这些修改推送到gerrit，可能会有如下错误，因为Gerrit不接受来自中国IP的任何提交</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>fatal: remote error: Access Denied (not available from your location)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>并不是因为Go团队有地域歧视，原因看这个<a href="https://github.com/golang/go/issues/20065" target="_blank" rel="noopener noreferrer">access to Gerrit denied because of location · Issue #20065 · golang/go (github.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。如果你不想换IP的话，可以在Github上发PR让机器人帮你推送到Gerrit上，这样是最简单的方式</p></div><h2 id="代码审查" tabindex="-1"><a class="header-anchor" href="#代码审查" aria-hidden="true">#</a> 代码审查</h2><p>代码审查的流程是最长的，如果你是社区贡献人员（谷歌员工的PR合并会快很多），并且改动比较大的话，那么通常需要好几轮审查才能确认将代码合并到主线当中，这一过程可能会耗时一两个星期甚至一个月。</p><p>大多数第一次提交代码的人会犯一些比较典型的错误</p><ul><li>提交信息不符合规范</li><li>缺少对Github Issue的引用</li><li>在冻结期提交修改</li></ul><p>第一点是最重要的，因为你的提交会被合并到主线当中，所以必须要符合规范。第二点的话如果你只是改了个注释或者什么其他微不足道的修改，也不需要引用issue。第三点其实也没那么重要，时间一过自然会发邮件通知审查你的代码的，无非只是等的时间长了点。</p><h3 id="审查人员" tabindex="-1"><a class="header-anchor" href="#审查人员" aria-hidden="true">#</a> 审查人员</h3><p>审查人员大多都是go团队的成员或者是谷歌公司的员工，以及部分社区人员组成，PR被转发到Gerrit后，如果你是第一次向Go贡献代码的话，为了避免这是垃圾邮件可能要过一段时间才会来审查的你的代码。如果有需要的话，你也可以直接指定谁来审查你的代码</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011510744.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>你可以在Change Info部分中指定审查人员和CC</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011511213.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>或者你也可以用命令行的方式</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>$ git codereview mail -r joe@golang.org -cc mabel@example.com,math-nuts@swtch.com
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>通常来说对于第一次贡献代码的人来说，如果你不知道指定谁，可以先发个issue看看，有哪些人会回答你的问题，如果他刚好是维护者的话就可以指定他来审查。如果你没有指定，那么系统也会自动为你分配审查人员的。</p><h3 id="trybots" tabindex="-1"><a class="header-anchor" href="#trybots" aria-hidden="true">#</a> Trybots</h3><p>当一个审查人员初步浏览了你的代码后，会启动Trybots，来进行自动化测试，就跟之前在本地测试的一样，不同的是trybots会在各个不同的环境进行测试，就跟Github Actions差不多类似。如果运行失败了，就需要查明哪里出了问题，然后修改代码重新提交。</p><h3 id="投票" tabindex="-1"><a class="header-anchor" href="#投票" aria-hidden="true">#</a> 投票</h3><p>审查人员和其他无关的第三方人员都可以给你的PR投票，第三方人员可以投一个<code>+1</code>，表示这个代码写的还不错，但还需要审查人员来进行评审，只有在获得审查人员的<code>+2</code>投票后，代码才能被合并，如果审查人员给你投了一个<code>+1</code>的话表示代码整体可以，但还需要做一些小的修改。</p><p>总的来说，如果你的PR想要被合并，就必须要两名审查人员的参与，至少一个<code>+1</code>和<code>+2</code>投票才能继续流程。</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011536498.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>对于一个PR而言，通常决定能否提交的指标下面这几个</p><ul><li>CR（code-review）：表示codereview是否完成</li><li>NUC（non-unresolved-comment）：，没有未处理的审查</li><li>RE（Review-enforcement）：执行了codereview</li><li>TP（trybots-passes）：trybots测试通过</li></ul><p>如果你是其他类型的修改可能会需要完成更多的CI测试，比如KCP（kokoro-CI-Passes），LP（LUCI-Passes），LTP（legacy-trybos-passes）等等，如果对应的CI测试通过了就会加分，相应的如果失败了就会扣分。</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011541602.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="修改" tabindex="-1"><a class="header-anchor" href="#修改" aria-hidden="true">#</a> 修改</h3><p>一般来说很少会有一次性通过的代码，审查人员会检查你代码中的逻辑错误，即便是一些注释问题也会指出来，这时候他们会留下评论，如下图所示</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011548843.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果你是通过Github机器人来与Gerrit交互的，那么你只需要将你本地的代码推送Github上就行了，机器人会自动更新修改，完成一个评论后点击Done按钮来告诉审查人员已解决。</p><h3 id="合并" tabindex="-1"><a class="header-anchor" href="#合并" aria-hidden="true">#</a> 合并</h3><p>当所有的工作都完成且通过，没有任何异议的时候，代码就会被合并，如下图所示。</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//upload/202408011543561.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>想要被顺利合并通常要花费不少时间，不要着急就对了。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>给Go贡献代码并不只是简单的写代码做修改就完事了，要注意的流程和规范非常多，这样严格管理的好处是不容易出问题，能够保证代码质量。这一套codereview流程，对于刚接触的人来说会觉得很繁琐和麻烦，不过熟悉了过后就没什么了，了解这一套codereview流程也便于养成好的编程习惯，毕竟谷歌是由数万人组成的大型公司，良好的规范可以让屎山堆的更慢一些。</p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 2633565580@qq.com">246859</span><!--]--><!--]--></div></div></footer><!----><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-24e59de6.js" defer></script>
  </body>
</html>
