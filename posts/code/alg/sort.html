<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://246859.github.io/my-blog-giscus/posts/code/alg/sort.html"><meta property="og:site_name" content="å¯’æ±Ÿè“‘ç¬ ç¿"><meta property="og:title" content="ç»å…¸æ’åºç®—æ³•"><meta property="og:description" content="ç»å…¸æ’åºç®—æ³•"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-01-26T07:26:33.000Z"><meta property="article:author" content="å¯’æ±Ÿè“‘ç¬ ç¿"><meta property="article:tag" content="sort"><meta property="article:tag" content="data struct"><meta property="article:tag" content="go"><meta property="article:published_time" content="2022-10-23T00:00:00.000Z"><meta property="article:modified_time" content="2024-01-26T07:26:33.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ç»å…¸æ’åºç®—æ³•","image":[""],"datePublished":"2022-10-23T00:00:00.000Z","dateModified":"2024-01-26T07:26:33.000Z","author":[{"@type":"Person","name":"å¯’æ±Ÿè“‘ç¬ ç¿","url":"https://mrhope.site"}]}</script><link rel="icon" href="/favicon.ico"><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?87276829dc72e9eeef7c53e10550b458";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><title>ç»å…¸æ’åºç®—æ³• | å¯’æ±Ÿè“‘ç¬ ç¿</title><meta name="description" content="ç»å…¸æ’åºç®—æ³•">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-77fdca77.css" as="style"><link rel="stylesheet" href="/assets/style-77fdca77.css">
    <link rel="modulepreload" href="/assets/app-105c0cc0.js"><link rel="modulepreload" href="/assets/framework-a4c02b8f.js"><link rel="modulepreload" href="/assets/sort.html-5f5dfc96.js"><link rel="modulepreload" href="/assets/sort.html-77d803e4.js"><link rel="prefetch" href="/assets/index.html-13c5752e.js" as="script"><link rel="prefetch" href="/assets/intro.html-3878003b.js" as="script"><link rel="prefetch" href="/assets/tool.html-86f92be8.js" as="script"><link rel="prefetch" href="/assets/bloodborn.html-86ae4e7d.js" as="script"><link rel="prefetch" href="/assets/darksoul1.html-0ae6c59c.js" as="script"><link rel="prefetch" href="/assets/darksoul2.html-dde03d6c.js" as="script"><link rel="prefetch" href="/assets/darksoul3.html-2da7070a.js" as="script"><link rel="prefetch" href="/assets/divinity.html-9c05ffb0.js" as="script"><link rel="prefetch" href="/assets/eastward.html-60a37aa8.js" as="script"><link rel="prefetch" href="/assets/elden_ring.html-6f5fd759.js" as="script"><link rel="prefetch" href="/assets/firework.html-c47e5e66.js" as="script"><link rel="prefetch" href="/assets/gp.html-0aac48f3.js" as="script"><link rel="prefetch" href="/assets/gujianqitan.html-87ace895.js" as="script"><link rel="prefetch" href="/assets/kingdom_come.html-8493fd23.js" as="script"><link rel="prefetch" href="/assets/mc.html-76652718.js" as="script"><link rel="prefetch" href="/assets/pzb.html-252a11d5.js" as="script"><link rel="prefetch" href="/assets/re2.html-0f67b640.js" as="script"><link rel="prefetch" href="/assets/sekrio.html-628b3f8b.js" as="script"><link rel="prefetch" href="/assets/witcher.html-c87f54e3.js" as="script"><link rel="prefetch" href="/assets/dst.html-f10e028a.js" as="script"><link rel="prefetch" href="/assets/dstm.html-59c20707.js" as="script"><link rel="prefetch" href="/assets/k8s_install.html-43b82b48.js" as="script"><link rel="prefetch" href="/assets/pic.html-aee46abc.js" as="script"><link rel="prefetch" href="/assets/ssl_cert_collect.html-9d28bdc6.js" as="script"><link rel="prefetch" href="/assets/statistic.html-fe4f0f51.js" as="script"><link rel="prefetch" href="/assets/vuepresshope.html-8fee38d7.js" as="script"><link rel="prefetch" href="/assets/2023_01_22.html-82dea1b0.js" as="script"><link rel="prefetch" href="/assets/2023_02_27.html-59975960.js" as="script"><link rel="prefetch" href="/assets/2023_10_09.html-339c033b.js" as="script"><link rel="prefetch" href="/assets/2024_02_27.html-bf817e86.js" as="script"><link rel="prefetch" href="/assets/2024_06_03.html-40aafe9a.js" as="script"><link rel="prefetch" href="/assets/dockermem.html-e826025b.js" as="script"><link rel="prefetch" href="/assets/go_bug_of_hertz_limiter.html-402c8a2a.js" as="script"><link rel="prefetch" href="/assets/goland_invalid_ref.html-3defca6b.js" as="script"><link rel="prefetch" href="/assets/gotime.html-8af8b8bb.js" as="script"><link rel="prefetch" href="/assets/hack.html-d044a0ef.js" as="script"><link rel="prefetch" href="/assets/linuxexe.html-5fd5af96.js" as="script"><link rel="prefetch" href="/assets/mysqlinject.html-5aab2140.js" as="script"><link rel="prefetch" href="/assets/mysqlpassword.html-e23aa2d8.js" as="script"><link rel="prefetch" href="/assets/oom_pprof.html-4f1d2753.js" as="script"><link rel="prefetch" href="/assets/redisdataloss.html-4ddfaf2a.js" as="script"><link rel="prefetch" href="/assets/binary_heap.html-86cc9d40.js" as="script"><link rel="prefetch" href="/assets/binary_tree.html-4029e1cb.js" as="script"><link rel="prefetch" href="/assets/dequeue.html-dd8687d5.js" as="script"><link rel="prefetch" href="/assets/fluttertry.html-2a5e9d70.js" as="script"><link rel="prefetch" href="/assets/toml.html-809a7a25.js" as="script"><link rel="prefetch" href="/assets/unicode.html-1cd3ca6e.js" as="script"><link rel="prefetch" href="/assets/bitcask.html-b6a75d79.js" as="script"><link rel="prefetch" href="/assets/docker_install_mariadb.html-0b84acac.js" as="script"><link rel="prefetch" href="/assets/docker_install_mongo.html-4be028fc.js" as="script"><link rel="prefetch" href="/assets/docker_install_mysql.html-eea418ce.js" as="script"><link rel="prefetch" href="/assets/docker_install_postgres.html-2328c07f.js" as="script"><link rel="prefetch" href="/assets/docker_install_redis.html-7da57002.js" as="script"><link rel="prefetch" href="/assets/index_length_exceed.html-ee4d36ee.js" as="script"><link rel="prefetch" href="/assets/river_db.html-c5c44e8e.js" as="script"><link rel="prefetch" href="/assets/wal_in_leveldb.html-9de2921d.js" as="script"><link rel="prefetch" href="/assets/0.dcoker.html-81d5833f.js" as="script"><link rel="prefetch" href="/assets/1.start.html-9bb4c77b.js" as="script"><link rel="prefetch" href="/assets/docker_install_elk.html-7743dfe4.js" as="script"><link rel="prefetch" href="/assets/docker_mysql.html-26b7b3a1.js" as="script"><link rel="prefetch" href="/assets/docker_nginx.html-2a818349.js" as="script"><link rel="prefetch" href="/assets/expand.html-1e193ba4.js" as="script"><link rel="prefetch" href="/assets/0.introduction.html-9c3dd345.js" as="script"><link rel="prefetch" href="/assets/1.repo.html-b853952f.js" as="script"><link rel="prefetch" href="/assets/2.branch.html-e224434c.js" as="script"><link rel="prefetch" href="/assets/3.remote.html-9e03f1b6.js" as="script"><link rel="prefetch" href="/assets/4.gitserver.html-0d3d0d0e.js" as="script"><link rel="prefetch" href="/assets/autotoolbox.html-84c968e0.js" as="script"><link rel="prefetch" href="/assets/bitflag.html-4bc22372.js" as="script"><link rel="prefetch" href="/assets/contribute2go.html-07663994.js" as="script"><link rel="prefetch" href="/assets/geo2ip.html-41c1872f.js" as="script"><link rel="prefetch" href="/assets/go_ip2loc.html-c029358a.js" as="script"><link rel="prefetch" href="/assets/go_tail_read_file.html-d79589cd.js" as="script"><link rel="prefetch" href="/assets/makefile.html-dbee6cdd.js" as="script"><link rel="prefetch" href="/assets/pipeline.html-267ca703.js" as="script"><link rel="prefetch" href="/assets/registry.html-6db4ccf7.js" as="script"><link rel="prefetch" href="/assets/remotedev.html-4e82f457.js" as="script"><link rel="prefetch" href="/assets/clash_on_linux.html-27e35d9b.js" as="script"><link rel="prefetch" href="/assets/debian12_install.html-6d805c31.js" as="script"><link rel="prefetch" href="/assets/linuxservice.html-2806762c.js" as="script"><link rel="prefetch" href="/assets/nat_loss.html-03953f92.js" as="script"><link rel="prefetch" href="/assets/00.start.html-f140dbdd.js" as="script"><link rel="prefetch" href="/assets/01.principle.html-20571033.js" as="script"><link rel="prefetch" href="/assets/02.create.html-7076a59c.js" as="script"><link rel="prefetch" href="/assets/03.structure.html-aab519ba.js" as="script"><link rel="prefetch" href="/assets/04.behavior.html-bf4612b0.js" as="script"><link rel="prefetch" href="/assets/pypi_upload.html-aa95e485.js" as="script"><link rel="prefetch" href="/assets/install.html-6d405e7f.js" as="script"><link rel="prefetch" href="/assets/win10_reset.html-47b6c941.js" as="script"><link rel="prefetch" href="/assets/404.html-134169a8.js" as="script"><link rel="prefetch" href="/assets/index.html-f77de5e0.js" as="script"><link rel="prefetch" href="/assets/index.html-c2b12446.js" as="script"><link rel="prefetch" href="/assets/index.html-a8dd470d.js" as="script"><link rel="prefetch" href="/assets/index.html-c6730ef8.js" as="script"><link rel="prefetch" href="/assets/index.html-e0c9469b.js" as="script"><link rel="prefetch" href="/assets/index.html-a1339255.js" as="script"><link rel="prefetch" href="/assets/index.html-1f16e803.js" as="script"><link rel="prefetch" href="/assets/index.html-116ac8fd.js" as="script"><link rel="prefetch" href="/assets/index.html-71e4afbc.js" as="script"><link rel="prefetch" href="/assets/index.html-4bb2537e.js" as="script"><link rel="prefetch" href="/assets/index.html-569e887b.js" as="script"><link rel="prefetch" href="/assets/index.html-b6599f23.js" as="script"><link rel="prefetch" href="/assets/index.html-7308ac22.js" as="script"><link rel="prefetch" href="/assets/index.html-2518600c.js" as="script"><link rel="prefetch" href="/assets/index.html-fa9225c9.js" as="script"><link rel="prefetch" href="/assets/index.html-239f16a7.js" as="script"><link rel="prefetch" href="/assets/index.html-bf81824d.js" as="script"><link rel="prefetch" href="/assets/index.html-2c5cb19e.js" as="script"><link rel="prefetch" href="/assets/index.html-12bc9268.js" as="script"><link rel="prefetch" href="/assets/index.html-63da4abe.js" as="script"><link rel="prefetch" href="/assets/index.html-9d4ad2b2.js" as="script"><link rel="prefetch" href="/assets/index.html-6f218e43.js" as="script"><link rel="prefetch" href="/assets/index.html-49c79ee4.js" as="script"><link rel="prefetch" href="/assets/index.html-36c8553b.js" as="script"><link rel="prefetch" href="/assets/index.html-d751a088.js" as="script"><link rel="prefetch" href="/assets/index.html-978c143b.js" as="script"><link rel="prefetch" href="/assets/index.html-c4112fcd.js" as="script"><link rel="prefetch" href="/assets/index.html-8f673d9b.js" as="script"><link rel="prefetch" href="/assets/index.html-f20df06e.js" as="script"><link rel="prefetch" href="/assets/index.html-56f9cc75.js" as="script"><link rel="prefetch" href="/assets/index.html-c91f76d6.js" as="script"><link rel="prefetch" href="/assets/index.html-f0be0786.js" as="script"><link rel="prefetch" href="/assets/index.html-ec399d6b.js" as="script"><link rel="prefetch" href="/assets/index.html-7f8d1887.js" as="script"><link rel="prefetch" href="/assets/index.html-e5389718.js" as="script"><link rel="prefetch" href="/assets/index.html-03a889bb.js" as="script"><link rel="prefetch" href="/assets/index.html-23fe4f0a.js" as="script"><link rel="prefetch" href="/assets/index.html-3ad7899d.js" as="script"><link rel="prefetch" href="/assets/index.html-fb64ba61.js" as="script"><link rel="prefetch" href="/assets/index.html-1e9c0183.js" as="script"><link rel="prefetch" href="/assets/index.html-cf09b404.js" as="script"><link rel="prefetch" href="/assets/index.html-e8712825.js" as="script"><link rel="prefetch" href="/assets/index.html-8614089d.js" as="script"><link rel="prefetch" href="/assets/index.html-5944e5b8.js" as="script"><link rel="prefetch" href="/assets/index.html-d50a25dc.js" as="script"><link rel="prefetch" href="/assets/index.html-4d6cc855.js" as="script"><link rel="prefetch" href="/assets/index.html-dfb7e56b.js" as="script"><link rel="prefetch" href="/assets/index.html-0c29e072.js" as="script"><link rel="prefetch" href="/assets/index.html-809f0d10.js" as="script"><link rel="prefetch" href="/assets/index.html-28ff48f1.js" as="script"><link rel="prefetch" href="/assets/index.html-2dee8dbd.js" as="script"><link rel="prefetch" href="/assets/index.html-4b8975c8.js" as="script"><link rel="prefetch" href="/assets/index.html-bf557cd3.js" as="script"><link rel="prefetch" href="/assets/index.html-aa5a8b16.js" as="script"><link rel="prefetch" href="/assets/index.html-e7358412.js" as="script"><link rel="prefetch" href="/assets/index.html-423a7810.js" as="script"><link rel="prefetch" href="/assets/index.html-db029ae8.js" as="script"><link rel="prefetch" href="/assets/index.html-3a03a721.js" as="script"><link rel="prefetch" href="/assets/index.html-f82a7f8b.js" as="script"><link rel="prefetch" href="/assets/index.html-78968ae5.js" as="script"><link rel="prefetch" href="/assets/index.html-1029f001.js" as="script"><link rel="prefetch" href="/assets/index.html-a017e6c3.js" as="script"><link rel="prefetch" href="/assets/index.html-5196ebfe.js" as="script"><link rel="prefetch" href="/assets/index.html-cbf56dc1.js" as="script"><link rel="prefetch" href="/assets/index.html-d5c628a4.js" as="script"><link rel="prefetch" href="/assets/index.html-1e7ed82a.js" as="script"><link rel="prefetch" href="/assets/index.html-1f3edce6.js" as="script"><link rel="prefetch" href="/assets/index.html-8cebc7a1.js" as="script"><link rel="prefetch" href="/assets/index.html-47cb475d.js" as="script"><link rel="prefetch" href="/assets/index.html-30da1c1c.js" as="script"><link rel="prefetch" href="/assets/index.html-508bfa0f.js" as="script"><link rel="prefetch" href="/assets/index.html-91dd10ed.js" as="script"><link rel="prefetch" href="/assets/index.html-3c58503e.js" as="script"><link rel="prefetch" href="/assets/index.html-c7bbe1e4.js" as="script"><link rel="prefetch" href="/assets/index.html-f6516f7b.js" as="script"><link rel="prefetch" href="/assets/index.html-eb145ec0.js" as="script"><link rel="prefetch" href="/assets/index.html-ddf3ac7d.js" as="script"><link rel="prefetch" href="/assets/index.html-5484e5af.js" as="script"><link rel="prefetch" href="/assets/index.html-a3949c34.js" as="script"><link rel="prefetch" href="/assets/index.html-818f0dba.js" as="script"><link rel="prefetch" href="/assets/index.html-baa95252.js" as="script"><link rel="prefetch" href="/assets/index.html-bc948a61.js" as="script"><link rel="prefetch" href="/assets/index.html-c0d20a45.js" as="script"><link rel="prefetch" href="/assets/index.html-acbf61e2.js" as="script"><link rel="prefetch" href="/assets/index.html-f87af1bd.js" as="script"><link rel="prefetch" href="/assets/index.html-d67b43df.js" as="script"><link rel="prefetch" href="/assets/index.html-3119d9b8.js" as="script"><link rel="prefetch" href="/assets/index.html-06e743f7.js" as="script"><link rel="prefetch" href="/assets/index.html-8a5d1b82.js" as="script"><link rel="prefetch" href="/assets/index.html-29962abb.js" as="script"><link rel="prefetch" href="/assets/index.html-c0f6e4dc.js" as="script"><link rel="prefetch" href="/assets/index.html-e41e4c06.js" as="script"><link rel="prefetch" href="/assets/index.html-f6ea718a.js" as="script"><link rel="prefetch" href="/assets/index.html-bfe0cad7.js" as="script"><link rel="prefetch" href="/assets/index.html-6a7bb10f.js" as="script"><link rel="prefetch" href="/assets/index.html-e5d4579c.js" as="script"><link rel="prefetch" href="/assets/index.html-eac833ae.js" as="script"><link rel="prefetch" href="/assets/index.html-ebd0cc67.js" as="script"><link rel="prefetch" href="/assets/index.html-7a945891.js" as="script"><link rel="prefetch" href="/assets/index.html-774886e5.js" as="script"><link rel="prefetch" href="/assets/index.html-2174b04b.js" as="script"><link rel="prefetch" href="/assets/index.html-ad0b79a4.js" as="script"><link rel="prefetch" href="/assets/index.html-9b30188e.js" as="script"><link rel="prefetch" href="/assets/index.html-8d2144d5.js" as="script"><link rel="prefetch" href="/assets/index.html-40f7df0a.js" as="script"><link rel="prefetch" href="/assets/index.html-c6a8fd47.js" as="script"><link rel="prefetch" href="/assets/index.html-6053ccb2.js" as="script"><link rel="prefetch" href="/assets/index.html-8192e29b.js" as="script"><link rel="prefetch" href="/assets/index.html-e4604048.js" as="script"><link rel="prefetch" href="/assets/index.html-198ea73c.js" as="script"><link rel="prefetch" href="/assets/index.html-b91a41ec.js" as="script"><link rel="prefetch" href="/assets/index.html-e5793540.js" as="script"><link rel="prefetch" href="/assets/index.html-d1be2bdf.js" as="script"><link rel="prefetch" href="/assets/index.html-099d1085.js" as="script"><link rel="prefetch" href="/assets/index.html-eaf46459.js" as="script"><link rel="prefetch" href="/assets/index.html-5f53e82b.js" as="script"><link rel="prefetch" href="/assets/index.html-8e244331.js" as="script"><link rel="prefetch" href="/assets/index.html-887f331c.js" as="script"><link rel="prefetch" href="/assets/index.html-6b2dddfe.js" as="script"><link rel="prefetch" href="/assets/index.html-90c123f7.js" as="script"><link rel="prefetch" href="/assets/index.html-cb38650d.js" as="script"><link rel="prefetch" href="/assets/index.html-ef84628e.js" as="script"><link rel="prefetch" href="/assets/index.html-b82d46f5.js" as="script"><link rel="prefetch" href="/assets/index.html-2522d6aa.js" as="script"><link rel="prefetch" href="/assets/index.html-39487905.js" as="script"><link rel="prefetch" href="/assets/index.html-fb5af63a.js" as="script"><link rel="prefetch" href="/assets/index.html-41c29250.js" as="script"><link rel="prefetch" href="/assets/index.html-8f79b4a5.js" as="script"><link rel="prefetch" href="/assets/index.html-92b01f32.js" as="script"><link rel="prefetch" href="/assets/index.html-165066d7.js" as="script"><link rel="prefetch" href="/assets/index.html-9afa56b0.js" as="script"><link rel="prefetch" href="/assets/index.html-3cf5aa41.js" as="script"><link rel="prefetch" href="/assets/index.html-8320eb84.js" as="script"><link rel="prefetch" href="/assets/index.html-6170edc8.js" as="script"><link rel="prefetch" href="/assets/index.html-a748e239.js" as="script"><link rel="prefetch" href="/assets/index.html-5ff5f802.js" as="script"><link rel="prefetch" href="/assets/index.html-62758610.js" as="script"><link rel="prefetch" href="/assets/index.html-bcb79be2.js" as="script"><link rel="prefetch" href="/assets/index.html-dbbbcf6f.js" as="script"><link rel="prefetch" href="/assets/index.html-43b2b721.js" as="script"><link rel="prefetch" href="/assets/index.html-cda4bf0e.js" as="script"><link rel="prefetch" href="/assets/index.html-b9f54fca.js" as="script"><link rel="prefetch" href="/assets/index.html-14989d3c.js" as="script"><link rel="prefetch" href="/assets/index.html-615a31a6.js" as="script"><link rel="prefetch" href="/assets/index.html-d78bbdbc.js" as="script"><link rel="prefetch" href="/assets/index.html-8990a366.js" as="script"><link rel="prefetch" href="/assets/index.html-0e1eec69.js" as="script"><link rel="prefetch" href="/assets/index.html-8452fc85.js" as="script"><link rel="prefetch" href="/assets/index.html-446135e6.js" as="script"><link rel="prefetch" href="/assets/index.html-e8830bfe.js" as="script"><link rel="prefetch" href="/assets/index.html-9395fd4b.js" as="script"><link rel="prefetch" href="/assets/index.html-808a31e1.js" as="script"><link rel="prefetch" href="/assets/index.html-3e429ac3.js" as="script"><link rel="prefetch" href="/assets/intro.html-5a2fd780.js" as="script"><link rel="prefetch" href="/assets/tool.html-6b1587ae.js" as="script"><link rel="prefetch" href="/assets/bloodborn.html-9507b41f.js" as="script"><link rel="prefetch" href="/assets/darksoul1.html-9ae98289.js" as="script"><link rel="prefetch" href="/assets/darksoul2.html-236dd818.js" as="script"><link rel="prefetch" href="/assets/darksoul3.html-25938924.js" as="script"><link rel="prefetch" href="/assets/divinity.html-9e8bcb13.js" as="script"><link rel="prefetch" href="/assets/eastward.html-c5e7f999.js" as="script"><link rel="prefetch" href="/assets/elden_ring.html-be64890e.js" as="script"><link rel="prefetch" href="/assets/firework.html-f6d79ae3.js" as="script"><link rel="prefetch" href="/assets/gp.html-6b16e062.js" as="script"><link rel="prefetch" href="/assets/gujianqitan.html-62758e29.js" as="script"><link rel="prefetch" href="/assets/kingdom_come.html-2e7c0e1d.js" as="script"><link rel="prefetch" href="/assets/mc.html-150f1990.js" as="script"><link rel="prefetch" href="/assets/pzb.html-bb9024c1.js" as="script"><link rel="prefetch" href="/assets/re2.html-5a972444.js" as="script"><link rel="prefetch" href="/assets/sekrio.html-83283861.js" as="script"><link rel="prefetch" href="/assets/witcher.html-b9f4c3c3.js" as="script"><link rel="prefetch" href="/assets/dst.html-f96585c7.js" as="script"><link rel="prefetch" href="/assets/dstm.html-6ea68dba.js" as="script"><link rel="prefetch" href="/assets/k8s_install.html-eb675a78.js" as="script"><link rel="prefetch" href="/assets/pic.html-1e597665.js" as="script"><link rel="prefetch" href="/assets/ssl_cert_collect.html-2c028bf7.js" as="script"><link rel="prefetch" href="/assets/statistic.html-611ddb15.js" as="script"><link rel="prefetch" href="/assets/vuepresshope.html-0a34b917.js" as="script"><link rel="prefetch" href="/assets/2023_01_22.html-369aee71.js" as="script"><link rel="prefetch" href="/assets/2023_02_27.html-ef190b55.js" as="script"><link rel="prefetch" href="/assets/2023_10_09.html-e1285e31.js" as="script"><link rel="prefetch" href="/assets/2024_02_27.html-db4783f2.js" as="script"><link rel="prefetch" href="/assets/2024_06_03.html-5e0d11c0.js" as="script"><link rel="prefetch" href="/assets/dockermem.html-337ebd25.js" as="script"><link rel="prefetch" href="/assets/go_bug_of_hertz_limiter.html-63f41a35.js" as="script"><link rel="prefetch" href="/assets/goland_invalid_ref.html-54a164be.js" as="script"><link rel="prefetch" href="/assets/gotime.html-42ee099e.js" as="script"><link rel="prefetch" href="/assets/hack.html-83d5f3ea.js" as="script"><link rel="prefetch" href="/assets/linuxexe.html-90482a33.js" as="script"><link rel="prefetch" href="/assets/mysqlinject.html-309039fa.js" as="script"><link rel="prefetch" href="/assets/mysqlpassword.html-8964a53d.js" as="script"><link rel="prefetch" href="/assets/oom_pprof.html-65872757.js" as="script"><link rel="prefetch" href="/assets/redisdataloss.html-59e9f122.js" as="script"><link rel="prefetch" href="/assets/binary_heap.html-d0328bb1.js" as="script"><link rel="prefetch" href="/assets/binary_tree.html-739f4b6f.js" as="script"><link rel="prefetch" href="/assets/dequeue.html-88d9a596.js" as="script"><link rel="prefetch" href="/assets/fluttertry.html-aba1b6ad.js" as="script"><link rel="prefetch" href="/assets/toml.html-a14eb409.js" as="script"><link rel="prefetch" href="/assets/unicode.html-cf1fcab6.js" as="script"><link rel="prefetch" href="/assets/bitcask.html-f79296be.js" as="script"><link rel="prefetch" href="/assets/docker_install_mariadb.html-fd3076c4.js" as="script"><link rel="prefetch" href="/assets/docker_install_mongo.html-8a445cec.js" as="script"><link rel="prefetch" href="/assets/docker_install_mysql.html-d6448bac.js" as="script"><link rel="prefetch" href="/assets/docker_install_postgres.html-f7f59456.js" as="script"><link rel="prefetch" href="/assets/docker_install_redis.html-b6874743.js" as="script"><link rel="prefetch" href="/assets/index_length_exceed.html-698bb60b.js" as="script"><link rel="prefetch" href="/assets/river_db.html-f32b1cca.js" as="script"><link rel="prefetch" href="/assets/wal_in_leveldb.html-16a234e6.js" as="script"><link rel="prefetch" href="/assets/0.dcoker.html-6a79bac8.js" as="script"><link rel="prefetch" href="/assets/1.start.html-53589d17.js" as="script"><link rel="prefetch" href="/assets/docker_install_elk.html-4d705bad.js" as="script"><link rel="prefetch" href="/assets/docker_mysql.html-905e6cf6.js" as="script"><link rel="prefetch" href="/assets/docker_nginx.html-a5d19fac.js" as="script"><link rel="prefetch" href="/assets/expand.html-af4b9008.js" as="script"><link rel="prefetch" href="/assets/0.introduction.html-e307eee6.js" as="script"><link rel="prefetch" href="/assets/1.repo.html-da19fad8.js" as="script"><link rel="prefetch" href="/assets/2.branch.html-d51b15a3.js" as="script"><link rel="prefetch" href="/assets/3.remote.html-9974a68f.js" as="script"><link rel="prefetch" href="/assets/4.gitserver.html-58a214e9.js" as="script"><link rel="prefetch" href="/assets/autotoolbox.html-18f3ba26.js" as="script"><link rel="prefetch" href="/assets/bitflag.html-6e2bcb8b.js" as="script"><link rel="prefetch" href="/assets/contribute2go.html-59385b94.js" as="script"><link rel="prefetch" href="/assets/geo2ip.html-76ba27d8.js" as="script"><link rel="prefetch" href="/assets/go_ip2loc.html-7055e40a.js" as="script"><link rel="prefetch" href="/assets/go_tail_read_file.html-d6b6aea8.js" as="script"><link rel="prefetch" href="/assets/makefile.html-3e53f89a.js" as="script"><link rel="prefetch" href="/assets/pipeline.html-7610ae03.js" as="script"><link rel="prefetch" href="/assets/registry.html-e01ad0e5.js" as="script"><link rel="prefetch" href="/assets/remotedev.html-cb9d8358.js" as="script"><link rel="prefetch" href="/assets/clash_on_linux.html-4e8ae21b.js" as="script"><link rel="prefetch" href="/assets/debian12_install.html-96968820.js" as="script"><link rel="prefetch" href="/assets/linuxservice.html-0e0b4d30.js" as="script"><link rel="prefetch" href="/assets/nat_loss.html-82533ca2.js" as="script"><link rel="prefetch" href="/assets/00.start.html-300529dd.js" as="script"><link rel="prefetch" href="/assets/01.principle.html-b92b9f10.js" as="script"><link rel="prefetch" href="/assets/02.create.html-d8fdab92.js" as="script"><link rel="prefetch" href="/assets/03.structure.html-53b227b7.js" as="script"><link rel="prefetch" href="/assets/04.behavior.html-59d810eb.js" as="script"><link rel="prefetch" href="/assets/pypi_upload.html-b8c22c80.js" as="script"><link rel="prefetch" href="/assets/install.html-ca57e57d.js" as="script"><link rel="prefetch" href="/assets/win10_reset.html-6303a52e.js" as="script"><link rel="prefetch" href="/assets/404.html-be487d22.js" as="script"><link rel="prefetch" href="/assets/index.html-0f244c74.js" as="script"><link rel="prefetch" href="/assets/index.html-738fa7ec.js" as="script"><link rel="prefetch" href="/assets/index.html-82473335.js" as="script"><link rel="prefetch" href="/assets/index.html-da391368.js" as="script"><link rel="prefetch" href="/assets/index.html-73204ea6.js" as="script"><link rel="prefetch" href="/assets/index.html-c798d878.js" as="script"><link rel="prefetch" href="/assets/index.html-42322aea.js" as="script"><link rel="prefetch" href="/assets/index.html-75bff613.js" as="script"><link rel="prefetch" href="/assets/index.html-b1a73b48.js" as="script"><link rel="prefetch" href="/assets/index.html-ab4ad3dd.js" as="script"><link rel="prefetch" href="/assets/index.html-c204690a.js" as="script"><link rel="prefetch" href="/assets/index.html-6c06f694.js" as="script"><link rel="prefetch" href="/assets/index.html-bd809d30.js" as="script"><link rel="prefetch" href="/assets/index.html-ac20c497.js" as="script"><link rel="prefetch" href="/assets/index.html-304d29c6.js" as="script"><link rel="prefetch" href="/assets/index.html-c0a5e4e8.js" as="script"><link rel="prefetch" href="/assets/index.html-1fa17fe8.js" as="script"><link rel="prefetch" href="/assets/index.html-e68c4f36.js" as="script"><link rel="prefetch" href="/assets/index.html-2c1c4141.js" as="script"><link rel="prefetch" href="/assets/index.html-e76a6587.js" as="script"><link rel="prefetch" href="/assets/index.html-ea5a4e61.js" as="script"><link rel="prefetch" href="/assets/index.html-389025e4.js" as="script"><link rel="prefetch" href="/assets/index.html-48c2d102.js" as="script"><link rel="prefetch" href="/assets/index.html-49df5c09.js" as="script"><link rel="prefetch" href="/assets/index.html-8321355a.js" as="script"><link rel="prefetch" href="/assets/index.html-04d5fbbd.js" as="script"><link rel="prefetch" href="/assets/index.html-fc9f8646.js" as="script"><link rel="prefetch" href="/assets/index.html-0ba66206.js" as="script"><link rel="prefetch" href="/assets/index.html-54b8486a.js" as="script"><link rel="prefetch" href="/assets/index.html-c519c91e.js" as="script"><link rel="prefetch" href="/assets/index.html-046ebc4d.js" as="script"><link rel="prefetch" href="/assets/index.html-c761bb76.js" as="script"><link rel="prefetch" href="/assets/index.html-5d17fbc6.js" as="script"><link rel="prefetch" href="/assets/index.html-e74ad0cf.js" as="script"><link rel="prefetch" href="/assets/index.html-48459c06.js" as="script"><link rel="prefetch" href="/assets/index.html-abaad5d4.js" as="script"><link rel="prefetch" href="/assets/index.html-7995b310.js" as="script"><link rel="prefetch" href="/assets/index.html-b2aa734c.js" as="script"><link rel="prefetch" href="/assets/index.html-2109a360.js" as="script"><link rel="prefetch" href="/assets/index.html-6d5adef1.js" as="script"><link rel="prefetch" href="/assets/index.html-05297341.js" as="script"><link rel="prefetch" href="/assets/index.html-e53e1162.js" as="script"><link rel="prefetch" href="/assets/index.html-1e528248.js" as="script"><link rel="prefetch" href="/assets/index.html-883486af.js" as="script"><link rel="prefetch" href="/assets/index.html-25dddc9e.js" as="script"><link rel="prefetch" href="/assets/index.html-e5b055d2.js" as="script"><link rel="prefetch" href="/assets/index.html-219a825a.js" as="script"><link rel="prefetch" href="/assets/index.html-a9441176.js" as="script"><link rel="prefetch" href="/assets/index.html-7e1318d1.js" as="script"><link rel="prefetch" href="/assets/index.html-3f39d128.js" as="script"><link rel="prefetch" href="/assets/index.html-5019f874.js" as="script"><link rel="prefetch" href="/assets/index.html-1bffefe4.js" as="script"><link rel="prefetch" href="/assets/index.html-1373db65.js" as="script"><link rel="prefetch" href="/assets/index.html-fd425b41.js" as="script"><link rel="prefetch" href="/assets/index.html-e821ca32.js" as="script"><link rel="prefetch" href="/assets/index.html-177d3552.js" as="script"><link rel="prefetch" href="/assets/index.html-7e31764b.js" as="script"><link rel="prefetch" href="/assets/index.html-88289777.js" as="script"><link rel="prefetch" href="/assets/index.html-d3f4ca96.js" as="script"><link rel="prefetch" href="/assets/index.html-65deefea.js" as="script"><link rel="prefetch" href="/assets/index.html-a842acfd.js" as="script"><link rel="prefetch" href="/assets/index.html-3b16b34a.js" as="script"><link rel="prefetch" href="/assets/index.html-ee488618.js" as="script"><link rel="prefetch" href="/assets/index.html-a320f9e5.js" as="script"><link rel="prefetch" href="/assets/index.html-12ddaec3.js" as="script"><link rel="prefetch" href="/assets/index.html-73819190.js" as="script"><link rel="prefetch" href="/assets/index.html-3c2f9a87.js" as="script"><link rel="prefetch" href="/assets/index.html-8b98080a.js" as="script"><link rel="prefetch" href="/assets/index.html-ae66f085.js" as="script"><link rel="prefetch" href="/assets/index.html-97fa44fa.js" as="script"><link rel="prefetch" href="/assets/index.html-fab5d4c1.js" as="script"><link rel="prefetch" href="/assets/index.html-04e214f7.js" as="script"><link rel="prefetch" href="/assets/index.html-de02c408.js" as="script"><link rel="prefetch" href="/assets/index.html-4e7dc777.js" as="script"><link rel="prefetch" href="/assets/index.html-df8b77dd.js" as="script"><link rel="prefetch" href="/assets/index.html-7bac81ed.js" as="script"><link rel="prefetch" href="/assets/index.html-19168858.js" as="script"><link rel="prefetch" href="/assets/index.html-f431c612.js" as="script"><link rel="prefetch" href="/assets/index.html-c1150ca2.js" as="script"><link rel="prefetch" href="/assets/index.html-24aa6fb4.js" as="script"><link rel="prefetch" href="/assets/index.html-e9ca03bb.js" as="script"><link rel="prefetch" href="/assets/index.html-789d1dca.js" as="script"><link rel="prefetch" href="/assets/index.html-fab1cb26.js" as="script"><link rel="prefetch" href="/assets/index.html-a188d1aa.js" as="script"><link rel="prefetch" href="/assets/index.html-58b26096.js" as="script"><link rel="prefetch" href="/assets/index.html-bd1c83d6.js" as="script"><link rel="prefetch" href="/assets/index.html-84d6a204.js" as="script"><link rel="prefetch" href="/assets/index.html-4c6f438f.js" as="script"><link rel="prefetch" href="/assets/index.html-280f8c1d.js" as="script"><link rel="prefetch" href="/assets/index.html-07c98eb9.js" as="script"><link rel="prefetch" href="/assets/index.html-fdc7d60c.js" as="script"><link rel="prefetch" href="/assets/index.html-cfc41346.js" as="script"><link rel="prefetch" href="/assets/index.html-29a0e884.js" as="script"><link rel="prefetch" href="/assets/index.html-6ef7253b.js" as="script"><link rel="prefetch" href="/assets/index.html-7b24ba64.js" as="script"><link rel="prefetch" href="/assets/index.html-9bffa888.js" as="script"><link rel="prefetch" href="/assets/index.html-61fa09a7.js" as="script"><link rel="prefetch" href="/assets/index.html-67108f2b.js" as="script"><link rel="prefetch" href="/assets/index.html-a69df5ea.js" as="script"><link rel="prefetch" href="/assets/index.html-4b7c149e.js" as="script"><link rel="prefetch" href="/assets/index.html-440d9a81.js" as="script"><link rel="prefetch" href="/assets/index.html-9a9c668f.js" as="script"><link rel="prefetch" href="/assets/index.html-7f6ba9f9.js" as="script"><link rel="prefetch" href="/assets/index.html-903fbab1.js" as="script"><link rel="prefetch" href="/assets/index.html-c59a7f83.js" as="script"><link rel="prefetch" href="/assets/index.html-8a5d7176.js" as="script"><link rel="prefetch" href="/assets/index.html-b1228c12.js" as="script"><link rel="prefetch" href="/assets/index.html-25bdd0f4.js" as="script"><link rel="prefetch" href="/assets/index.html-d18abf5a.js" as="script"><link rel="prefetch" href="/assets/index.html-b5d2f1a6.js" as="script"><link rel="prefetch" href="/assets/index.html-c6f09ad2.js" as="script"><link rel="prefetch" href="/assets/index.html-13413135.js" as="script"><link rel="prefetch" href="/assets/index.html-2ce8c456.js" as="script"><link rel="prefetch" href="/assets/index.html-5509b524.js" as="script"><link rel="prefetch" href="/assets/index.html-124731f6.js" as="script"><link rel="prefetch" href="/assets/index.html-7067d916.js" as="script"><link rel="prefetch" href="/assets/index.html-96026a1d.js" as="script"><link rel="prefetch" href="/assets/index.html-95fab58d.js" as="script"><link rel="prefetch" href="/assets/index.html-0be36716.js" as="script"><link rel="prefetch" href="/assets/index.html-d7e85a08.js" as="script"><link rel="prefetch" href="/assets/index.html-25f4d591.js" as="script"><link rel="prefetch" href="/assets/index.html-920a6d92.js" as="script"><link rel="prefetch" href="/assets/index.html-49ff38ca.js" as="script"><link rel="prefetch" href="/assets/index.html-ba477663.js" as="script"><link rel="prefetch" href="/assets/index.html-44ae7e36.js" as="script"><link rel="prefetch" href="/assets/index.html-d69f98eb.js" as="script"><link rel="prefetch" href="/assets/index.html-30c6eecb.js" as="script"><link rel="prefetch" href="/assets/index.html-a7f96271.js" as="script"><link rel="prefetch" href="/assets/index.html-ba303050.js" as="script"><link rel="prefetch" href="/assets/index.html-4a3a8d37.js" as="script"><link rel="prefetch" href="/assets/index.html-7a4e17a8.js" as="script"><link rel="prefetch" href="/assets/index.html-0cf6e9fd.js" as="script"><link rel="prefetch" href="/assets/index.html-613ad2a0.js" as="script"><link rel="prefetch" href="/assets/index.html-941d503c.js" as="script"><link rel="prefetch" href="/assets/index.html-beef0a4a.js" as="script"><link rel="prefetch" href="/assets/index.html-d01dd6bf.js" as="script"><link rel="prefetch" href="/assets/index.html-a792298d.js" as="script"><link rel="prefetch" href="/assets/index.html-1bf21718.js" as="script"><link rel="prefetch" href="/assets/index.html-80eff800.js" as="script"><link rel="prefetch" href="/assets/index.html-e4f4dd58.js" as="script"><link rel="prefetch" href="/assets/index.html-313182ee.js" as="script"><link rel="prefetch" href="/assets/index.html-bf3104b7.js" as="script"><link rel="prefetch" href="/assets/index.html-c703ae37.js" as="script"><link rel="prefetch" href="/assets/index.html-750556d1.js" as="script"><link rel="prefetch" href="/assets/index.html-75ad89d4.js" as="script"><link rel="prefetch" href="/assets/index.html-47ff8fbd.js" as="script"><link rel="prefetch" href="/assets/index.html-f8f67402.js" as="script"><link rel="prefetch" href="/assets/index.html-1deb3541.js" as="script"><link rel="prefetch" href="/assets/index.html-0936060a.js" as="script"><link rel="prefetch" href="/assets/index.html-0112dc11.js" as="script"><link rel="prefetch" href="/assets/index.html-91d87f46.js" as="script"><link rel="prefetch" href="/assets/index.html-f22f9dd0.js" as="script"><link rel="prefetch" href="/assets/giscus-16d370b8.js" as="script"><link rel="prefetch" href="/assets/auto-ba5ecab5.js" as="script"><link rel="prefetch" href="/assets/index-b03bef79.js" as="script"><link rel="prefetch" href="/assets/flowchart-35969cab.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-30d51c06.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-30be9ea9.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-6e84c481.js" as="script"><link rel="prefetch" href="/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-5c6dcfd5.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-6e6cbe40.js" as="script"><link rel="prefetch" href="/assets/SearchResult-f99a6772.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container no-sidebar has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="å¯’æ±Ÿè“‘ç¬ ç¿"><!----><span class="site-name hide-in-pad">å¯’æ±Ÿè“‘ç¬ ç¿</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/category/%E6%8A%80%E6%9C%AF%E6%97%A5%E5%BF%97/" class="nav-link" aria-label="æŠ€æœ¯æ—¥å¿—"><span class="font-icon icon iconfont icon-build" style=""></span>æŠ€æœ¯æ—¥å¿—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/category/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/" class="nav-link" aria-label="é—®é¢˜è®°å½•"><span class="font-icon icon iconfont icon-config" style=""></span>é—®é¢˜è®°å½•<!----></a></div><div class="nav-item hide-in-mobile"><a href="/category/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/" class="nav-link" aria-label="ç”Ÿæ´»éšç¬”"><span class="font-icon icon iconfont icon-edit" style=""></span>ç”Ÿæ´»éšç¬”<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å…¶å®ƒåˆ†ç±»"><span class="title"><span class="font-icon icon iconfont icon-guide" style=""></span>å…¶å®ƒåˆ†ç±»</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ç¼–ç¨‹è¯­è¨€</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/go/" class="nav-link" aria-label="Golang"><!---->Golang<!----></a></li><li class="dropdown-subitem"><a href="/category/rust/" class="nav-link" aria-label="Rust"><!---->Rust<!----></a></li><li class="dropdown-subitem"><a href="/category/python/" class="nav-link" aria-label="Python"><!---->Python<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ“ä½œç³»ç»Ÿ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/linux/" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-subitem"><a href="/category/windows/" class="nav-link" aria-label="Windows"><!---->Windows<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å¼€å‘å·¥å…·</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/git/" class="nav-link" aria-label="Git"><!---->Git<!----></a></li><li class="dropdown-subitem"><a href="/category/docker/" class="nav-link" aria-label="Docker"><!---->Docker<!----></a></li><li class="dropdown-subitem"><a href="/category/db/" class="nav-link" aria-label="æ•°æ®åº“"><!---->æ•°æ®åº“<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€çŸ¥è¯†</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="nav-link" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a></li><li class="dropdown-subitem"><a href="/category/%E7%AE%97%E6%B3%95/" class="nav-link" aria-label="ç®—æ³•"><!---->ç®—æ³•<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>é—²è¯æ°´æ–‡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/category/%E6%B8%B8%E6%88%8F%E6%9D%82%E8%B0%88/" class="nav-link" aria-label="æ¸¸æˆæ‚è°ˆ"><!---->æ¸¸æˆæ‚è°ˆ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/tool.html" class="nav-link" aria-label="å·¥å…·ç®±"><span class="font-icon icon iconfont icon-operate" style=""></span>å·¥å…·ç®±<!----></a></div><div class="nav-item hide-in-mobile"><a href="/timeline" class="nav-link" aria-label="æ—¶é—´è½´"><span class="font-icon icon iconfont icon-time" style=""></span>æ—¶é—´è½´<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">æœç´¢</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ç»å…¸æ’åºç®—æ³•</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">å¯’æ±Ÿè“‘ç¬ ç¿</a></span><span property="author" content="å¯’æ±Ÿè“‘ç¬ ç¿"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-10-23T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 79 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT79M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category6 clickable" role="navigation">ç®—æ³•</span><meta property="articleSection" content="ç®—æ³•"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag7 clickable" role="navigation">sort</span><span class="page-tag-item tag0 clickable" role="navigation">data struct</span><span class="page-tag-item tag2 clickable" role="navigation">go</span><meta property="keywords" content="sort,data struct,go"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#å†’æ³¡æ’åº" class="router-link-active router-link-exact-active toc-link level2">å†’æ³¡æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#é€‰æ‹©æ’åº" class="router-link-active router-link-exact-active toc-link level2">é€‰æ‹©æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#æ’å…¥æ’åº" class="router-link-active router-link-exact-active toc-link level2">æ’å…¥æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#å¸Œå°”æ’åº" class="router-link-active router-link-exact-active toc-link level2">å¸Œå°”æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#å †æ’åº" class="router-link-active router-link-exact-active toc-link level2">å †æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#å½’å¹¶æ’åº" class="router-link-active router-link-exact-active toc-link level2">å½’å¹¶æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#å¿«é€Ÿæ’åº" class="router-link-active router-link-exact-active toc-link level2">å¿«é€Ÿæ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#è®¡æ•°æ’åº" class="router-link-active router-link-exact-active toc-link level2">è®¡æ•°æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#åŸºæ•°æ’åº" class="router-link-active router-link-exact-active toc-link level2">åŸºæ•°æ’åº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/code/alg/sort.html#æ¡¶æ’åº" class="router-link-active router-link-exact-active toc-link level2">æ¡¶æ’åº</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="ç»å…¸æ’åºç®—æ³•" tabindex="-1"><a class="header-anchor" href="#ç»å…¸æ’åºç®—æ³•" aria-hidden="true">#</a> ç»å…¸æ’åºç®—æ³•</h1><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202312081421944.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><!-- more --><hr><h2 id="å†’æ³¡æ’åº" tabindex="-1"><a class="header-anchor" href="#å†’æ³¡æ’åº" aria-hidden="true">#</a> å†’æ³¡æ’åº</h2><p>å†’æ³¡æ’åºæ˜¯æœ€ç®€å•çš„ä¸€ç§æ’åºï¼Œä¹Ÿæ˜¯æœ€æš´åŠ›çš„æ’åºæ–¹æ³•ï¼Œå¯¹äºå¤§å¤šæ•°åˆå­¦è€…è€Œè¨€ï¼Œå®ƒæ˜¯å¾ˆå¤šäººæ¥è§¦çš„ç¬¬ä¸€ä¸ªæ’åºæ–¹æ³•ã€‚å¤§è‡´å®ç°æ€è·¯å¦‚ä¸‹ï¼šä»ä¸‹æ ‡0å¼€å§‹ï¼Œä¸æ–­å°†ä¸¤ä¸ªæ•°å­—ç›¸æ¯”è¾ƒï¼Œå¦‚æœå‰ä¸€ä¸ªæ•°å¤§äºåä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆå°±äº¤æ¢ä½ç½®ï¼Œç›´è‡³æœ«å°¾ã€‚å¤–å±‚å¾ªç¯æ¯ä¸€è½®ç»“æŸåï¼Œå°±èƒ½ç¡®å®šä¸€ä¸ªå€¼æ˜¯ç¬¬<code>i+1</code>å¤§çš„å…ƒç´ ï¼Œäºæ˜¯åç»­çš„å…ƒç´ å°±ä¸å†å»äº¤æ¢ï¼Œæ‰€ä»¥å†…å±‚å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶æ˜¯<code>len(slice)-(i+1)</code>ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå†’æ³¡æ’åºçš„æ³›å‹å®ç°ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> BubbleSort<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2ï¼‰</strong></p><p>ä¸ç®¡æƒ…å†µå¥½åï¼Œå®ƒéœ€è¦äº¤æ¢æ€»å…± (n-1)+(n-2)+(n-3)+...+1 æ¬¡ ï¼Œå¯¹å…¶è¿›è¡Œæ•°åˆ—æ±‚å’Œä¸º (n^2-n)/2 ï¼Œå¿½ç•¥ä½é˜¶é¡¹åˆ™ä¸ºO(n^2)ï¼Œå³ä¾¿æ•´ä¸ªåˆ‡ç‰‡å·²ç»æ˜¯å®Œå…¨æœ‰åºçš„ã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(1ï¼‰</strong></p><p>ç®—æ³•è¿›è¡Œè¿‡ç¨‹ä¸­æ²¡ç”¨åˆ°ä»»ä½•çš„é¢å¤–ç©ºé—´ï¼Œæ‰€ä»¥ä¸ºO(1)</p><p><strong>ç¨³å®šæ€§ï¼šæ˜¯</strong></p><p>ä¸¤ä¸ªå…ƒç´ ç›¸ç­‰æ—¶ä¸ä¼šè¿›è¡Œäº¤æ¢ï¼Œå°±ä¸ä¼šå‘ç”Ÿç›¸å¯¹ä½ç½®çš„æ”¹å˜ã€‚çœ‹ä¸€ä¸ªä¾‹å­</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 3 3 0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç¬¬ä¸€è½®å†’æ³¡ï¼Œç§»åŠ¨ç¬¬äºŒä¸ª3</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 3 0 3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç¬¬äºŒè½®å†’æ³¡ï¼Œç§»åŠ¨ç¬¬ä¸€ä¸ª3</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 0 3 3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ç›¸å¯¹ä½ç½®æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><p>å¯¹å…¶è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œåˆ†åˆ«ä½¿ç”¨100ï¼Œ1000ï¼Œ1wï¼Œ10wä¸ªéšæœºæ•´æ•°è¿›è¡Œæ’åºï¼Œæµ‹è¯•æ•°æ®å¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkBubbleSort/100-16        104742             10910 ns/op               0 B/op          0 allocs/op
BenchmarkBubbleSort/1000-16          984           1149239 ns/op               0 B/op          0 allocs/op
BenchmarkBubbleSort/10000-16           7         158096014 ns/op               1 B/op          0 allocs/op
BenchmarkBubbleSort/100000-16          1        19641943300 ns/op              0 B/op          0 allocs/op
PASS
ok      sorts   23.037s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éšç€æ•°æ®é‡çš„å¢å¤šï¼Œå†’æ³¡æ’åºæ‰€è€—è´¹çš„æ—¶é—´å·®ä¸å¤šæ˜¯åœ¨ä»¥å¹³æ–¹çš„çº§åˆ«åœ¨å¢é•¿ï¼Œåˆ°äº†10wçº§åˆ«çš„æ—¶å€™ï¼Œè¦èŠ±è´¹æ•´æ•´18ç§’æ‰èƒ½å®Œæˆæ’åºï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•çš„å†…å­˜åˆ†é…ã€‚ç™¾ä¸‡æ•°æ®é‡è€—æ—¶å¤ªä¹…äº†ï¼Œå°±æ‡’å¾—æµ‹äº†ã€‚</p><p><strong>ä¼˜åŒ–</strong></p><p>ç¬¬ä¸€ä¸ªä¼˜åŒ–ç‚¹æ˜¯åŸç‰ˆå†’æ³¡å³ä¾¿åœ¨æ•°æ®å®Œå…¨æœ‰åºçš„æƒ…å†µä¸‹ä¾ç„¶ä¼šå»è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥å½“ä¸€è¶Ÿå¾ªç¯å®Œåå¦‚æœå‘ç°æ•°æ®æ˜¯æœ‰åºçš„åº”è¯¥å¯ä»¥ç›´æ¥é€€å‡ºï¼Œè¿™æ˜¯å‡å°‘å¤–å±‚å¾ªç¯çš„æ¬¡æ•°ã€‚ç”±äºå†’æ³¡æ’åºæ¯è½®ä¼šå†’æ³¡ä¸€ä¸ªæœ‰åºçš„æ•°æ®åˆ°å³è¾¹å»ï¼Œæ‰€ä»¥æ¯è½®å¾ªç¯åéƒ½ä¼šç¼©å°å†’æ³¡çš„èŒƒå›´ï¼Œå‡è®¾æ•°æ®å³è¾¹å·²ç»æ˜¯æœ‰åºçš„äº†ï¼Œé‚£ä¹ˆè¿™ç§æ“ä½œå°±å¯ä»¥æå‰ï¼Œè€Œä¸éœ€è¦ç­‰åˆ°æŒ‡å®šå¾ªç¯æ¬¡æ•°ä¹‹åæ‰ç¼©å°èŒƒå›´ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ç§æ•°æ®</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>4,1,3,2,5,6,7,8,9
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªèŒƒå›´çš„è¾¹ç•Œå®é™…ä¸Šå°±æ˜¯ä¸Šä¸€è½®å¾ªç¯æœ€åä¸€æ¬¡å‘ç”Ÿäº¤æ¢çš„ä¸‹æ ‡ï¼Œè¿™æ˜¯å‡å°‘äº†å†…å¾ªç¯æ¬¡æ•°ã€‚è¿™é‡Œæä¸€å˜´ä½¿ç”¨ä½è¿ç®—ä¹Ÿå¯ä»¥å®ç°æ•°å­—äº¤æ¢ï¼Œç®—æ˜¯ç¬¬ä¸‰ä¸ªä¼˜åŒ–ç‚¹ï¼Œä½†ä»…é™äºæ•´æ•°ç±»å‹ã€‚ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> BubbleSortPlus<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// è®°å½•æœ€åä¸€ä¸ªäº¤æ¢çš„ä¸‹æ ‡</span>
	end <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
	<span class="token keyword">var</span> last <span class="token builtin">int</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token comment">// è®°å½•æ•´ä¸ªåˆ‡ç‰‡æ˜¯å¦å·²ç»æœ‰åº</span>
		isSorted <span class="token operator">:=</span> <span class="token boolean">true</span>
		<span class="token comment">// å†…å¾ªç¯åªæˆªè‡³åˆ°last</span>
		<span class="token keyword">for</span> j <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
				isSorted <span class="token operator">=</span> <span class="token boolean">false</span>
				last <span class="token operator">=</span> j
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		end <span class="token operator">=</span> last

		<span class="token keyword">if</span> isSorted <span class="token punctuation">{</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼˜åŒ–åªèƒ½æé«˜å†’æ³¡çš„å¹³å‡æ—¶é—´æ•ˆç‡ï¼Œåœ¨æœ€å·®æƒ…å†µä¸‹ï¼Œä¹Ÿå°±æ˜¯æ•°æ®å®Œå…¨é€†åº/å‡åºçš„æ—¶å€™ï¼Œå¯¹å…¶è¿›è¡Œå‡åº/é€†åºæ’åºï¼Œæ¸è¿›æ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯O(n^2)ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkBubbleSort/100-16                104742             10910 ns/op               0 B/op          0 allocs/op
BenchmarkBubbleSort/1000-16                  984           1149239 ns/op               0 B/op          0 allocs/op
BenchmarkBubbleSort/10000-16                   7         158096014 ns/op               1 B/op          0 allocs/op
BenchmarkBubbleSort/100000-16                  1        19641943300 ns/op              0 B/op          0 allocs/op
BenchmarkBubbleSortPlus/100-16            115183             10537 ns/op               0 B/op          0 allocs/op
BenchmarkBubbleSortPlus/1000-16             1090           1092803 ns/op               0 B/op          0 allocs/op
BenchmarkBubbleSortPlus/10000-16               8         139880100 ns/op               0 B/op          0 allocs/op
BenchmarkBubbleSortPlus/100000-16              1        18904012900 ns/op              0 B/op          0 allocs/op
PASS
ok      sorts   51.565s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æå‡å¹¶ä¸æ˜¯ç‰¹åˆ«æ˜æ˜¾ï¼Œå› ä¸ºæ•°æ®æ˜¯å®Œå…¨éšæœºçš„ï¼Œå¯èƒ½å¾ˆå¤šç”Ÿæˆçš„æ•°æ®å¹¶æ²¡æœ‰èµ°åˆ°ä¼˜åŒ–ç‚¹ä¸Šï¼Œè¿™ä¹Ÿå˜ç›¸è¯æ˜äº†å†’æ³¡æ’åºä¸å¤ªé€‚åˆå®é™…ä½¿ç”¨ã€‚</p><h2 id="é€‰æ‹©æ’åº" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©æ’åº" aria-hidden="true">#</a> é€‰æ‹©æ’åº</h2><p>é€‰æ‹©æ’åºçš„æ€è·¯éå¸¸çš„æ¸…æ™°å’Œå®¹æ˜“å®ç°ï¼Œå°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æœ‰åºï¼Œä¸€éƒ¨åˆ†æ— åºï¼Œé¦–å…ˆåœ¨æ•°ç»„çš„æœªæ’åºéƒ¨åˆ†æ‰¾å‡ºå…¶ä¸­çš„æœ€å¤§æˆ–æœ€å°å€¼ï¼Œä¹Ÿå°±æ˜¯ç„¶åå°†æœ€å¤§å€¼æˆ–æœ€å°å€¼å…¶ä¸æ•°ç»„çš„ä¸­çš„ç¬¬iä¸ªå…ƒç´ äº¤æ¢ä½ç½®ã€‚ç¬¬ä¸€ä¸ªäº¤æ¢çš„ä¸€å®šæ˜¯ç¬¬ä¸€å¤§æˆ–ç¬¬ä¸€å°çš„å…ƒç´ ï¼Œç¬¬äºŒä¸ªå°±æ˜¯ç¬¬äºŒå¤§æˆ–ç¬¬äºŒå°çš„å…ƒç´ ï¼Œè¿™æ ·ä¸€æ¥å°±ç¡®è®¤äº†æœ‰åºçš„éƒ¨åˆ†ï¼Œå¦‚æ­¤åœ¨æœªæ’åºçš„éƒ¨åˆ†å¾ªç¯å¾€å¤ï¼Œç›´åˆ°æ•´ä¸ªæ•°ç»„æœ‰åºã€‚æ¯”å¦‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2 1 4 -1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤æ—¶æ•´ä¸ªæ•°ç»„éƒ½æ˜¯æ— åºçš„ï¼Œæ‰¾å‡ºå…¶æœ€å°å€¼-1ï¼Œä¸ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ä½ç½®</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>-1 1 4 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤æ—¶åªå‰©[1,4,2]æ˜¯æœªæ’åºéƒ¨åˆ†ï¼Œç»§ç»­æ‰¾æœ€å°å€¼ï¼Œå¾—åˆ°1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ç¬¬äºŒå°çš„å…ƒç´ ï¼Œå°±å°†å…¶ä¸ç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢ä½ç½®ï¼Œç”±äºå®ƒæœ¬èº«å°±åœ¨ç¬¬äºŒä¸ªä½ç½®ä¸Šæ‰€ä»¥æ²¡å˜åŒ–ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>-1 1 4 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç»§ç»­æŒ‰ç…§è¿™ä¸ªæµç¨‹ï¼Œå°±èƒ½å°†æ•°æ®æœ€ç»ˆå˜å¾—æœ‰åºã€‚å…·ä½“ä»£ç å®ç°å¦‚ä¸‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> SelectSort<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		minI <span class="token operator">:=</span> i
		<span class="token keyword">for</span> j <span class="token operator">:=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>minI<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				minI <span class="token operator">=</span> j
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>minI<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>minI<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</strong></p><p>ä¸ç®¡åœ¨ä»€ä¹ˆæƒ…å†µï¼Œåœ¨é€‰æ‹©æ’åºçš„è¿‡ç¨‹ä¸­ï¼Œå®ƒéƒ½ä¼šåœ¨æ¯è½®å¾ªç¯åçš„æœªæ’åºéƒ¨åˆ†å»æ¯”è¾ƒå¯»æ‰¾æœ€å¤§å€¼ï¼Œæ‰€ä»¥æ¯”è¾ƒæ¬¡æ•°ä¸º(n-1)+(n-2)+(n-3)....+1å·®ä¸å¤šå°±æ˜¯(n<sup>2+n)/2ï¼Œæ‰€ä»¥å…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n</sup>2)ã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</strong></p><p>æ’åºè¿‡ç¨‹ä¸­æ²¡æœ‰ç”¨åˆ°ä»»ä½•çš„é¢å¤–ç©ºé—´æ¥è¾…åŠ©ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚</p><p><strong>ç¨³å®šæ€§ï¼šå¦</strong></p><p>åœ¨äº¤æ¢çš„è¿‡ç¨‹ä¸­å®ƒä»¬çš„ä½ç½®ä¼šå‘ç”Ÿæ”¹å˜ï¼Œä½†ä¹Ÿä¸ä¼šè¢«è°ƒæ•´å›æ¥ï¼Œæ‰€ä»¥æ˜¯ä¸ç¨³å®šçš„ã€‚çœ‹ä¸€ä¸ªä¾‹å­</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>6 7 6 0 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç¬¬ä¸€è½®äº¤æ¢ç¬¬ä¸€ä¸ª6ä¼šå’Œ0äº¤æ¢ä½ç½®ï¼Œå°±å˜æˆäº†</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>0 7 6 6 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æœ¬æ¥æ˜¯åœ¨ç¬¬äºŒä¸ª6å‰é¢çš„ç°åœ¨åˆ°åé¢æ¥äº†ï¼Œç›¸å¯¹ä½ç½®å‘ç”Ÿæ”¹å˜äº†ï¼Œå³ä¾¿æ•´ä¸ªæ•°ç»„å®Œæˆæ’åºåä¹Ÿä¸ä¼šå†è¢«è°ƒæ•´ã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkSelectSort/100-16        109363             10377 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSort/1000-16         1260            939461 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSort/10000-16          13          88333308 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSort/100000-16          1        9028276000 ns/op               0 B/op          0 allocs/op
PASS
ok      sorts   13.263s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°çš„æ˜¯é€‰æ‹©æ’åºåœ¨10wæ•°æ®é‡æ—¶é€‰æ‹©æ’åºèŠ±è´¹çš„æ—¶é—´æ˜¯å†’æ³¡çš„ä¸€åŠå·¦å³ï¼Œè¿™æ˜¯å› ä¸ºå†’æ³¡æ¯è½®å¾ªç¯äº¤æ¢çš„æ¬¡æ•°æ¯”è¾ƒå¤šï¼Œè€Œé€‰æ‹©æ’åºæ¯è½®å¾ªç¯åªäº¤æ¢ä¸€æ¬¡ï¼Œæ€»ä½“ä¸Šä»æ—¶é—´æ¥è¯´æ˜¯ä¼˜äºå†’æ³¡æ’åºçš„ã€‚</p><p><strong>ä¼˜åŒ–</strong></p><p>åŸç‰ˆé€‰æ‹©æ’åºåªä¼šåœ¨åˆ‡ç‰‡çš„å·¦è¾¹æ„å»ºæœ‰åºéƒ¨åˆ†ï¼Œåœ¨å³è¾¹æ— åºçš„éƒ¨åˆ†å»å¯»æ‰¾æœ€å¤§æˆ–æœ€å°å€¼ï¼Œæ—¢ç„¶åæ­£éƒ½æ˜¯åœ¨æ— åºéƒ¨åˆ†å¯»æ‰¾æœ€å¤§/æœ€å°å€¼ï¼Œé‚£å°±å¯ä»¥åœ¨åˆ‡ç‰‡å·¦å³ä¸¤è¾¹éƒ½æ„å»ºæœ‰åºåŒºï¼Œå‡è®¾æ˜¯å‡åºæ’åºï¼Œå·¦è¾¹æ˜¯æœ€å°ï¼Œå³è¾¹æ˜¯æœ€å¤§ï¼Œä¸­é—´å°±æ˜¯æ— åºåŒºï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥å‡å°‘å·®ä¸å¤šä¸€åŠçš„æ¯”è¾ƒæ¬¡æ•°ã€‚ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> SelectSort<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// è®°å½•å·¦å³ä¸¤è¾¹çš„è¾¹ç•Œ</span>
	l<span class="token punctuation">,</span> r <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>
	<span class="token keyword">for</span> l <span class="token operator">&lt;</span> r <span class="token punctuation">{</span>
		minI<span class="token punctuation">,</span> maxI <span class="token operator">:=</span> l<span class="token punctuation">,</span> r
		<span class="token keyword">for</span> j <span class="token operator">:=</span> l<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> r<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>minI<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				minI <span class="token operator">=</span> j
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>maxI<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				maxI <span class="token operator">=</span> j
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// æ²¡æ‰¾åˆ°å°±æ²¡å¿…è¦äº¤æ¢</span>
		<span class="token keyword">if</span> minI <span class="token operator">!=</span> l <span class="token punctuation">{</span>
			s<span class="token punctuation">[</span>minI<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>minI<span class="token punctuation">]</span>

			<span class="token comment">// å¦‚æœmaxI==lï¼Œè¯´æ˜maxIä¸Šå·²ç»ä¸æ˜¯åŸæ¥çš„é‚£ä¸ªå€¼äº†</span>
			<span class="token comment">// å› ä¸ºlå’ŒminIå·²ç»äº¤æ¢è¿‡äº†ï¼Œæ­¤æ—¶çš„lå°±æ˜¯minIï¼Œæ‰€ä»¥è¦çº æ­£ä¸€ä¸‹</span>
			<span class="token keyword">if</span> l <span class="token operator">==</span> maxI <span class="token punctuation">{</span>
				maxI <span class="token operator">=</span> minI
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> maxI <span class="token operator">!=</span> r <span class="token punctuation">{</span>
			s<span class="token punctuation">[</span>maxI<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>maxI<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// ç¼©å°è¾¹ç•Œ</span>
		l<span class="token operator">++</span>
		r<span class="token operator">--</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·ä¸€æ¥ï¼Œè¿™æ ·ä¸€æ¥åªéœ€è¦çœ‹ä¸€è¾¹çš„æ¯”è¾ƒæ¬¡æ•°å°±å¤Ÿäº†ï¼Œä¸ä¸¥è°¨çš„æ¥è¯´å°±æ˜¯(n/2-1)+(n/2-2)+(n/2-3)...ï¼Œæœ€åæ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯O(n^2)ï¼Œä¸è¿‡ä¼˜åŒ–çš„æ—¶é—´æ•ˆç‡ä¸Šä¼šæœ‰æ‰€æå‡ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkSelectSort/100-16                109363             10377 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSort/1000-16                 1260            939461 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSort/10000-16                  13          88333308 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSort/100000-16                  1        9028276000 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSortPlus/100-16            133096              8826 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSortPlus/1000-16             1447            794633 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSortPlus/10000-16              14          77494886 ns/op               0 B/op          0 allocs/op
BenchmarkSelectSortPlus/100000-16              1        7745074200 ns/op               0 B/op          0 allocs/op
PASS
ok      sorts   29.479s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡æ•°æ®å¯¹æ¯”å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ—¶é—´æ•ˆç‡ä¸Šå¤§æ¦‚æå‡äº†æ¥è¿‘10-20%å·¦å³ã€‚</p><h2 id="æ’å…¥æ’åº" tabindex="-1"><a class="header-anchor" href="#æ’å…¥æ’åº" aria-hidden="true">#</a> æ’å…¥æ’åº</h2><p>æ’å…¥æ’åºä¹Ÿæ˜¯ä¸€ç§æ¯”è¾ƒç®€å•çš„æ’åºæ–¹æ³•ï¼Œå…¶åŸºæœ¬æ€è·¯ä¸ºï¼šå‡è®¾0 ...içš„å…ƒç´ å·²ç»æœ‰åºï¼Œä½¿ç”¨<code>s[i+1]</code>é€†å‘ä¸å‰i+1ä¸ªå…ƒç´ è¿›è¡Œé€ä¸ªæ¯”è¾ƒï¼Œå¦‚æœåœ¨æ¯”è¾ƒè¿‡ç¨‹ä¸­ç¬¬jä¸ªå…ƒç´ æ¯”ç¬¬i+1ä¸ªå…ƒç´ å°/å¤§ï¼Œé‚£ä¹ˆå°†å…¶åç§»ï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº/å°äº<code>s[i+1]</code>ä¸‹æ ‡å…ƒç´ çš„å…ƒç´ æ—¶æˆ–è€…ä¸‹æ ‡ä¸º0æ—¶ï¼Œè€ƒè™‘åˆ°æ¯”<code>s[i]</code>å°/å¤§çš„å…ƒç´ éƒ½å·²ç»åç§»äº†ï¼Œæ‰€ä»¥ç›´æ¥<code>s[i]</code>çš„å€¼è¦†ç›–åˆ°<code>s[j+1]</code>ä¸Šã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> InsertSort<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		item <span class="token operator">:=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		<span class="token keyword">var</span> j <span class="token builtin">int</span>
		<span class="token keyword">for</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> item
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</strong></p><p>å¦‚æœæ˜¯è¦å‡åºæ’åˆ—ï¼Œåœ¨æœ€å¥½æƒ…å†µä¸‹ï¼Œè¦æ’åºçš„åˆ‡ç‰‡å·²ç»æ˜¯å®Œå…¨å‡åºçš„äº†ï¼Œé‚£ä¹ˆåªéœ€è¦è¿›è¡Œn-1æ¬¡æ¯”è¾ƒæ“ä½œã€‚æœ€åæƒ…å†µå°±æ˜¯å®Œå…¨é™åºï¼Œé‚£ä¹ˆå°±éœ€è¦n+(n-1)+(n-2)+......+1æ¬¡æ¯”è¾ƒï¼Œæ€»å…±å°±æ˜¯(n^2+n)/2æ¬¡ã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</strong></p><p>æ•´ä¸ªè¿‡ç¨‹ä¸­æœªç”¨åˆ°é¢å¤–çš„è¾…åŠ©ç©ºé—´</p><p><strong>ç¨³å®šæ€§ï¼šæ˜¯</strong></p><p>é‡åˆ°ç›¸ç­‰å…ƒç´ æ—¶ä¾¿æ’å…¥åˆ°è¯¥å…ƒç´ åé¢ï¼Œä¸ä¼šå‡ºç°è·‘åˆ°å®ƒå‰é¢çš„æƒ…å†µã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkInsertSort/100-16        127532              8925 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSort/1000-16         1611            736531 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSort/10000-16          15          71716213 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSort/100000-16          1        7104786500 ns/op               0 B/op          0 allocs/op
PASS
ok      sorts   11.312s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜åŒ–</strong></p><p>æ’å…¥æ’åºçš„ä¼˜åŒ–æ–¹æ¡ˆå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå‡è®¾æ˜¯å‡åºæ’åˆ—ï¼Œåœ¨ç¡®ä¿å‰nä¸ªå…ƒç´ å·²ç»æ˜¯æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å»ä¸€ä¸ªä¸ªéå†æ‰¾åˆ°ç¬¬ä¸€ä¸ªå°äº<code>s[n+1]</code>çš„å…ƒç´ ï¼Œæ—¢ç„¶å®ƒæ˜¯æœ‰åºçš„ï¼Œé‚£å°±å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥è¿›è¡Œæ“ä½œï¼Œç„¶åå†ç§»åŠ¨å…ƒç´ ã€‚ç§»åŠ¨æ¬¡æ•°æ²¡æœ‰å‡å°‘ï¼Œä½†æ¯”è¾ƒæ¬¡æ•°å‡å°‘äº†ç›¸å½“çš„å¤šã€‚ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> InsertSortPlus<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		target <span class="token operator">:=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		<span class="token comment">// å¯¹æœ‰åºéƒ¨åˆ†è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾</span>
		l<span class="token punctuation">,</span> r <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">1</span>
		<span class="token keyword">for</span> l <span class="token operator">&lt;=</span> r <span class="token punctuation">{</span>
			mid <span class="token operator">:=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r<span class="token operator">-</span>l<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span>
			<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> s<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// ç§»åŠ¨å…ƒç´ </span>
		<span class="token keyword">for</span> j <span class="token operator">:=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> l<span class="token punctuation">;</span> j<span class="token operator">--</span> <span class="token punctuation">{</span>
			s<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
		s<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> target
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹çœ‹ä¼˜åŒ–åçš„æ€§èƒ½</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkInsertSort/100-16                127532              8925 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSort/1000-16                 1611            736531 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSort/10000-16                  15          71716213 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSort/100000-16                  1        7104786500 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSortPlus/100-16            399487              2820 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSortPlus/1000-16             7941            187614 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSortPlus/10000-16              79          13721910 ns/op               0 B/op          0 allocs/op
BenchmarkInsertSortPlus/100000-16              1        1290984000 ns/op               0 B/op          0 allocs/op
PASS
ok      sorts   28.564s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ä½¿ç”¨äº†äºŒåˆ†çš„æ’å…¥æ’åºæ€§èƒ½æ•´æ•´æ¯”åŸç‰ˆæå‡äº†è¶³è¶³æœ‰70-80%å·¦å³ï¼Œè¿™å·²ç»æ˜¯éå¸¸å·¨å¤§çš„æå‡äº†ã€‚åœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œå¦‚æœåˆ‡ç‰‡æœ¬èº«å°±æ˜¯å…¨éƒ¨æœ‰åºçš„è¯ï¼Œå°±ä¸éœ€è¦ç§»åŠ¨å…ƒç´ ï¼Œé‚£ä¹ˆå°±åªæœ‰æŸ¥æ‰¾ä¼šæ¶ˆè€—æ—¶é—´ï¼Œè¿™æ ·ä¸€æ¥å®ƒçš„æ—¶é—´å¤æ‚åº¦å¯ä»¥æ¥è¿‘O(nlogn)ã€‚åœ¨æœ€å·®çš„æƒ…å†µï¼Œæ¯æ¬¡éƒ½éœ€è¦ç§»åŠ¨i-1ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆå°±æ˜¯(log(n-1)+n-1)+(log(n-2)+n-2)+(log(n-3)+n-3)....ï¼Œå½“nè¶³å¤Ÿå¤§æ—¶ï¼Œlognäº§ç”Ÿçš„å½±å“å·²ç»å¾®ä¸è¶³é“äº†ï¼Œè™½ç„¶æ²¡æœ‰ç»è¿‡ä¸¥æ ¼çš„è®¡ç®—ï¼Œä½†ç®€å•ä¼°ç®—ä¸‹å®ƒçš„æ—¶é—´å¤æ‚åº¦ä¾æ—§ä¸ä¼šå°äºO(n^2)ã€‚</p><p>ä¸è¿‡å€¼å¾—é«˜å…´çš„æ˜¯ï¼Œåˆ°ç›®å‰ä¸ºæ­¢æ€»ç®—æœ‰ä¸€ä¸ªæ–¹æ³•èƒ½å¤Ÿæœ‰çªç ´O(n^2)çš„å¯èƒ½æ€§ã€‚</p><h2 id="å¸Œå°”æ’åº" tabindex="-1"><a class="header-anchor" href="#å¸Œå°”æ’åº" aria-hidden="true">#</a> å¸Œå°”æ’åº</h2><p>å¸Œå°”æ’åºæ˜¯æ’å…¥æ’åºçš„ä¸€ä¸ªæ›´åŠ é«˜æ•ˆçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼Œä¹Ÿç§°<strong>é€’å‡å¢é‡æ’åº</strong>ã€‚åŸç‰ˆæ’å…¥æ’åºåœ¨æ•°æ®æœ¬èº«æ˜¯æœ‰åºçš„æƒ…å†µä¸‹æ•ˆç‡ä¼šéå¸¸é«˜å¯ä»¥è¾¾åˆ°O(n)ï¼Œå¸Œå°”æ’åºçš„æ”¹è¿›æ€è·¯ä¹Ÿæ˜¯åŸºäºæ­¤ï¼Œå®ƒåœ¨ç§»åŠ¨å’Œæ¯”è¾ƒæ—¶ï¼Œä¸å†æ˜¯ä¸€ä¸ªä¸€ä¸ªç§»åŠ¨ï¼Œè€Œæ˜¯æœ‰äº†é—´éš”ç§°ä¹‹ä¸º<strong>æ­¥é•¿</strong>ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªåºåˆ—</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>6 2 1 5 8 11 9 0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å‡è®¾åˆå§‹æ­¥é•¿ä¸º3ï¼Œé‚£ä¹ˆå°±å°†æ•°æ®åˆ’åˆ†ä¸ºäº†ä¸‰ä»½</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>6 5 9
2 8 0
1 11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ†åˆ«å¯¹æ¯ä¸€ä»½è¿›è¡Œæ’å…¥æ’åºåå¾—åˆ°ä¸‹é¢çš„åºåˆ—ï¼Œå°†å…¶æ‹¼æ¥å†ä¸€èµ·ï¼Œç„¶åå†ä»¥æ­¥é•¿ä¸º2è¿›è¡Œåˆ’åˆ†</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>5 6 9
0 2 8
1 11

5 0 1 6 2 11 9 8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>5 1 2 9
0 6 11 8

1 2 5 9
0 6 8 11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶å†æ‹¼æ¥å›æ¥</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 0 2 6 5 8 9 11
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯ä»¥å‘ç°æ•´ä½“å·²ç»æ¥è¿‘åŸºæœ¬æœ‰åºçš„çŠ¶æ€äº†ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ­¥é•¿å†å‡ä¸º1å°±æ˜¯åŸç‰ˆæ’å…¥æ’åºäº†ï¼Œåœ¨æ•°æ®å¤§å¤šæ•°æœ‰åºçš„æƒ…å†µä¸‹ï¼Œæ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦å¯ä»¥æ¥è¿‘O(n)ã€‚å¸Œå°”æ’åºçš„å…³é”®å°±åœ¨äºï¼Œå¦‚ä½•é€‰æ‹©è¿™ä¸ªæ­¥é•¿åºåˆ—ï¼Œæ­¥é•¿åºåˆ—çš„ä¸åŒä¼šå¯¼è‡´å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿä¸åŒï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å®ƒå¯èƒ½æ ¹æœ¬ä¸ä¼šèµ·ä½œç”¨ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªæ•°æ®ï¼Œæ­¥é•¿çš„é€‰æ‹©æ˜¯æ¯æ¬¡æŠ˜åŠï¼Œä¼šæ ¹æœ¬å‘ç°ä¸ä¼šèµ·åˆ°ä»»ä½•ä¼˜åŒ–çš„ä½œç”¨ï¼Œåè€Œè¿˜ä¸å¦‚ç›´æ¥è¿›è¡Œæ’å…¥æ’åºï¼Œå› ä¸ºæ— æ„ä¹‰çš„æ­¥é•¿åˆ’åˆ†å¯¼è‡´å®ƒç”šè‡³æ¯”åŸå§‹çš„æ’å…¥æ’åºè¿˜å¢åŠ äº†é¢å¤–çš„è€—æ—¶ï¼Œè¦æ›´åŠ çš„ä½æ•ˆç‡ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2 1 4 3 6 5 8 7

// æ­¥é•¿ä¸º4
2 3 7
1 5
4 8
6

// æ­¥é•¿ä¸º2
2 4 6 8
1 3 5 7
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€ç®€å•çš„æ­¥é•¿åºåˆ—å°±æ˜¯æ¯æ¬¡å¯¹åŠåˆ†ï¼Œè¿™ä¹Ÿæ˜¯å¸Œå°”æœ¬äººæå‡ºçš„ï¼Œè¿™ç§ä¹Ÿæœ€å®¹æ˜“å®ç°ï¼Œå½“ç„¶ä¹Ÿæœ€å®¹æ˜“å‡ºç°ä¸Šé¢é‚£ä¸ªé—®é¢˜ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> ShellSort<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> gap <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> gap <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> gap <span class="token operator">&gt;&gt;=</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			item <span class="token operator">:=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			j <span class="token operator">:=</span> i <span class="token operator">-</span> gap
			<span class="token keyword">for</span> <span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">-=</span> gap <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">less</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">break</span>
				<span class="token punctuation">}</span>
				s<span class="token punctuation">[</span>j<span class="token operator">+</span>gap<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
			s<span class="token punctuation">[</span>j<span class="token operator">+</span>gap<span class="token punctuation">]</span> <span class="token operator">=</span> item
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æœ€åæƒ…å†µä¸‹ï¼Œä¹Ÿæ˜¯ä¸Šé¢é‚£ä¸ªä¾‹å­çš„æƒ…å†µä¸‹ï¼Œåˆ’åˆ†æ­¥é•¿æ²¡æœ‰ä»»ä½•çš„æ„ä¹‰ï¼Œè¿™å°±é€€åŒ–æˆäº†åŸå§‹çš„æ’å…¥æ’åºï¼Œå…¶æœ€å·®æ—¶é—´å¤æ‚åº¦ä¾æ—§æ˜¯O(n^2)ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå°±éœ€è¦ä»”ç»†æ–Ÿé…Œæ­¥é•¿åºåˆ—çš„é€‰æ‹©ï¼Œæœ€åŸºæœ¬çš„åŸåˆ™å°±æ˜¯åºåˆ—ä¹‹é—´çš„å…ƒç´ å¾—äº’ä¸ºè´¨æ•°ï¼Œå¦‚æœå¯ä»¥äº’ä¸ºå› å­çš„è¯å°±å¯èƒ½ä¼šå‡ºç°å¯¹å·²ç»æ’è¿‡åºçš„é›†åˆå†ä¸€æ¬¡æ’åºè¿™ç§æƒ…å†µï¼Œå¯¼è‡´æ— æ„ä¹‰çš„æ¶ˆè€—ã€‚</p><p>å¸Œå°”æ’åºé¦–æ¬¡æå‡ºæ˜¯åœ¨ä¸Šä¸–çºªå…­åå¹´ä»£ï¼Œç°å¦‚ä»Šå·²ç»æœ‰äº†éå¸¸å¤šçš„åºåˆ—å¯é€‰ï¼Œä¸‹é¢ä»‹ç»æ¯”è¾ƒå¸¸è§çš„ä¸¤ä¸ªï¼š</p><ul><li>Hibbardåºåˆ—ï¼Œæœ€å·®æ—¶é—´å¤æ‚åº¦O(n(3/2))</li><li>Sedgewickåºåˆ—ï¼Œæœ€å·®æ—¶é—´å¤æ‚åº¦O(n(4/3))ï¼Œç›®å‰æœ€ä¼˜åºåˆ—ï¼Ÿ</li></ul><p>è¿˜æœ‰å…¶å®ƒéå¸¸å¤šçš„åºåˆ—ï¼Œå‰å¾€ï¼š<a href="https://en.wikipedia.org/wiki/Shellsort#Gap_sequences" target="_blank" rel="noopener noreferrer">Shellsort - Wikipedia<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>äº†è§£æ›´å¤šï¼ˆæ³¨æ„å¿…é¡»æ˜¯è‹±æ–‡ç»´åŸºï¼Œä¸­æ–‡æ ¹æœ¬æ²¡æœ‰è¿™ä¹ˆè¯¦ç»†çš„ä»‹ç»ï¼‰ã€‚Hibbardå®ç°ä»£ç å¦‚ä¸‹ï¼Œæ­¥é•¿åºåˆ—é‡‡ç”¨æ‰“è¡¨çš„æ–¹å¼è®°å½•ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½æ¥è®¡ç®—æ­¥é•¿åºåˆ—ã€‚æ­¥é•¿åºåˆ—æœ¬èº«è®¡ç®—éå¸¸ç®€å•ï¼Œéš¾çš„æ˜¯æ±‚è¯è¿‡ç¨‹ï¼Œç¬”è€…å—é™äºæ•°å­¦æ°´å¹³ï¼Œæ— æ³•åœ¨æ­¤åšå‡ºè§£ç­”ã€‚ç”±äºåºåˆ—çš„å¢é•¿æœ¬èº«å°±æ˜¯æ¬¡æ–¹çº§åˆ«ï¼Œå½“å¢é•¿åˆ°æ•°å€¼æº¢å‡ºæ—¶çš„ä¸Šä¸€ä¸ªæ­¥é•¿å°±æ˜¯æœ€å¤§æ­¥é•¿äº†ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¯¹äºä»»æ„é•¿åº¦çš„åˆ‡ç‰‡éƒ½é€‚ç”¨çš„æ­¥é•¿åºåˆ—ã€‚</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202312091801009.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">var</span> HibbardGaps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
	<span class="token number">9223372036854775807</span><span class="token punctuation">,</span> <span class="token number">4611686018427387903</span><span class="token punctuation">,</span> <span class="token number">2305843009213693951</span><span class="token punctuation">,</span> <span class="token number">1152921504606846975</span><span class="token punctuation">,</span> <span class="token number">576460752303423487</span><span class="token punctuation">,</span> <span class="token number">288230376151711743</span><span class="token punctuation">,</span> <span class="token number">144115188075855871</span><span class="token punctuation">,</span> <span class="token number">72057594037927935</span><span class="token punctuation">,</span> <span class="token number">36028797018963967</span><span class="token punctuation">,</span> <span class="token number">18014398509481983</span><span class="token punctuation">,</span> <span class="token number">9007199254740991</span><span class="token punctuation">,</span> <span class="token number">4503599627370495</span><span class="token punctuation">,</span> <span class="token number">2251</span><span class="token punctuation">,</span> <span class="token number">799813685247</span><span class="token punctuation">,</span>
	<span class="token number">1125899906842623</span><span class="token punctuation">,</span> <span class="token number">562949953421311</span><span class="token punctuation">,</span> <span class="token number">281474976710655</span><span class="token punctuation">,</span> <span class="token number">140737488355327</span><span class="token punctuation">,</span> <span class="token number">70368744177663</span><span class="token punctuation">,</span> <span class="token number">35184372088831</span><span class="token punctuation">,</span> <span class="token number">17592186044415</span><span class="token punctuation">,</span> <span class="token number">8796093022207</span><span class="token punctuation">,</span> <span class="token number">4398046511103</span><span class="token punctuation">,</span> <span class="token number">2199023255551</span><span class="token punctuation">,</span> <span class="token number">1099511627775</span><span class="token punctuation">,</span> <span class="token number">549755813887</span><span class="token punctuation">,</span> <span class="token number">274877906943</span><span class="token punctuation">,</span> <span class="token number">137438953471</span><span class="token punctuation">,</span> <span class="token number">68719476735</span><span class="token punctuation">,</span> <span class="token number">34359738367</span><span class="token punctuation">,</span> <span class="token number">17179869183</span><span class="token punctuation">,</span>
	<span class="token number">8589934591</span><span class="token punctuation">,</span> <span class="token number">4294967295</span><span class="token punctuation">,</span> <span class="token number">2147483647</span><span class="token punctuation">,</span> <span class="token number">1073741823</span><span class="token punctuation">,</span> <span class="token number">536870911</span><span class="token punctuation">,</span> <span class="token number">268435455</span><span class="token punctuation">,</span> <span class="token number">134217727</span><span class="token punctuation">,</span> <span class="token number">67108863</span><span class="token punctuation">,</span> <span class="token number">33554431</span><span class="token punctuation">,</span> <span class="token number">16777215</span><span class="token punctuation">,</span> <span class="token number">8388607</span><span class="token punctuation">,</span> <span class="token number">4194303</span><span class="token punctuation">,</span> <span class="token number">2097151</span><span class="token punctuation">,</span> <span class="token number">1048575</span><span class="token punctuation">,</span> <span class="token number">524287</span><span class="token punctuation">,</span> <span class="token number">262143</span><span class="token punctuation">,</span> <span class="token number">131071</span><span class="token punctuation">,</span> <span class="token number">65535</span><span class="token punctuation">,</span> <span class="token number">32767</span><span class="token punctuation">,</span> <span class="token number">16383</span><span class="token punctuation">,</span> <span class="token number">8191</span><span class="token punctuation">,</span> <span class="token number">4095</span><span class="token punctuation">,</span> <span class="token number">2047</span><span class="token punctuation">,</span> <span class="token number">1023</span><span class="token punctuation">,</span> <span class="token number">511</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> ShellSortHibbard<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	hibbard <span class="token operator">:=</span> HibbardGaps
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>HibbardGaps<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{</span>
        <span class="token comment">// å½“æ­¥é•¿è¶…è¿‡æ•°ç»„é•¿åº¦æ—¶å€™å°±é€€å‡º</span>
		<span class="token keyword">if</span> HibbardGaps<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> n <span class="token punctuation">{</span>
			hibbard <span class="token operator">=</span> HibbardGaps<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
			<span class="token keyword">break</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> gap <span class="token operator">:=</span> <span class="token keyword">range</span> hibbard <span class="token punctuation">{</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			item <span class="token operator">:=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			j <span class="token operator">:=</span> i <span class="token operator">-</span> gap
			<span class="token keyword">for</span> <span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">-=</span> gap <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">less</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">break</span>
				<span class="token punctuation">}</span>
				s<span class="token punctuation">[</span>j<span class="token operator">+</span>gap<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
			s<span class="token punctuation">[</span>j<span class="token operator">+</span>gap<span class="token punctuation">]</span> <span class="token operator">=</span> item
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºSedgewickåºåˆ—ï¼Œåˆ™æœ‰å¦‚ä¸‹ä¸¤ä¸ªå…¬å¼</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202312091728295.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç¬¬äºŒä¸ªå…¬å¼è¦åˆ†å¥‡å¶æƒ…å†µï¼Œè¿™é‡Œé€‰æ‹©ç¬¬ä¸€ä¸ªå…¬å¼ï¼Œä¾æ—§é€‰æ‹©æ‰“è¡¨å®ç°ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">var</span> SedgewickGaps <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
	<span class="token number">6917529027641081857</span><span class="token punctuation">,</span> <span class="token number">3458764513820540929</span><span class="token punctuation">,</span> <span class="token number">1729382256910270465</span><span class="token punctuation">,</span> <span class="token number">864691128455135233</span><span class="token punctuation">,</span> <span class="token number">432345564227567617</span><span class="token punctuation">,</span> <span class="token number">216172782113783809</span><span class="token punctuation">,</span> <span class="token number">108086391056891905</span><span class="token punctuation">,</span> <span class="token number">54043195528445953</span><span class="token punctuation">,</span> <span class="token number">27021597764222977</span><span class="token punctuation">,</span> <span class="token number">13510798882111489</span><span class="token punctuation">,</span> <span class="token number">6755399441055745</span><span class="token punctuation">,</span> <span class="token number">3377699720527873</span><span class="token punctuation">,</span> <span class="token number">16888</span><span class="token punctuation">,</span>
	<span class="token number">49860263937</span><span class="token punctuation">,</span> <span class="token number">844424930131969</span><span class="token punctuation">,</span> <span class="token number">422212465065985</span><span class="token punctuation">,</span> <span class="token number">211106232532993</span><span class="token punctuation">,</span> <span class="token number">105553116266497</span><span class="token punctuation">,</span> <span class="token number">52776558133249</span><span class="token punctuation">,</span> <span class="token number">26388279066625</span><span class="token punctuation">,</span> <span class="token number">13194139533313</span><span class="token punctuation">,</span> <span class="token number">6597069766657</span><span class="token punctuation">,</span> <span class="token number">3298534883329</span><span class="token punctuation">,</span> <span class="token number">1649267441665</span><span class="token punctuation">,</span> <span class="token number">824633720833</span><span class="token punctuation">,</span> <span class="token number">412316860417</span><span class="token punctuation">,</span> <span class="token number">206158430209</span><span class="token punctuation">,</span> <span class="token number">103079215105</span><span class="token punctuation">,</span> <span class="token number">51539607553</span><span class="token punctuation">,</span> <span class="token number">257</span><span class="token punctuation">,</span>
	<span class="token number">69803777</span><span class="token punctuation">,</span> <span class="token number">12884901889</span><span class="token punctuation">,</span> <span class="token number">6442450945</span><span class="token punctuation">,</span> <span class="token number">4611686021648613377</span><span class="token punctuation">,</span> <span class="token number">1152921506217459713</span><span class="token punctuation">,</span> <span class="token number">288230376957018113</span><span class="token punctuation">,</span> <span class="token number">72057594440581121</span><span class="token punctuation">,</span> <span class="token number">18014398710808577</span><span class="token punctuation">,</span> <span class="token number">4503599728033793</span><span class="token punctuation">,</span> <span class="token number">1125899957174273</span><span class="token punctuation">,</span> <span class="token number">281475001876481</span><span class="token punctuation">,</span> <span class="token number">70368756760577</span><span class="token punctuation">,</span> <span class="token number">17592192335873</span><span class="token punctuation">,</span> <span class="token number">4398049656833</span><span class="token punctuation">,</span> <span class="token number">109951320</span><span class="token punctuation">,</span>
	<span class="token number">0641</span><span class="token punctuation">,</span> <span class="token number">274878693377</span><span class="token punctuation">,</span> <span class="token number">68719869953</span><span class="token punctuation">,</span> <span class="token number">17180065793</span><span class="token punctuation">,</span> <span class="token number">4295065601</span><span class="token punctuation">,</span> <span class="token number">1073790977</span><span class="token punctuation">,</span> <span class="token number">268460033</span><span class="token punctuation">,</span> <span class="token number">67121153</span><span class="token punctuation">,</span> <span class="token number">16783361</span><span class="token punctuation">,</span> <span class="token number">4197377</span><span class="token punctuation">,</span> <span class="token number">1050113</span><span class="token punctuation">,</span> <span class="token number">262913</span><span class="token punctuation">,</span> <span class="token number">65921</span><span class="token punctuation">,</span> <span class="token number">16577</span><span class="token punctuation">,</span> <span class="token number">4193</span><span class="token punctuation">,</span> <span class="token number">1073</span><span class="token punctuation">,</span> <span class="token number">281</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> ShellSortSedgewick<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	n <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	sedgewickGaps <span class="token operator">:=</span> SedgewickGaps
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>SedgewickGaps<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> SedgewickGaps<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> n <span class="token punctuation">{</span>
			sedgewickGaps <span class="token operator">=</span> SedgewickGaps<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
			<span class="token keyword">break</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> gap <span class="token operator">:=</span> <span class="token keyword">range</span> sedgewickGaps <span class="token punctuation">{</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			item <span class="token operator">:=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			j <span class="token operator">:=</span> i <span class="token operator">-</span> gap
			<span class="token keyword">for</span> <span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">-=</span> gap <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">less</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">break</span>
				<span class="token punctuation">}</span>
				s<span class="token punctuation">[</span>j<span class="token operator">+</span>gap<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
			s<span class="token punctuation">[</span>j<span class="token operator">+</span>gap<span class="token punctuation">]</span> <span class="token operator">=</span> item
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æ€§èƒ½æµ‹è¯•å¯¹æ¯”</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkShellSort/100-16                         555520              2035 ns/op               0 B/op          0 allocs/op
BenchmarkShellSort/1000-16                         18080             66212 ns/op               0 B/op          0 allocs/op
BenchmarkShellSort/10000-16                         1056           1121350 ns/op               0 B/op          0 allocs/op
BenchmarkShellSort/100000-16                          74          15739070 ns/op               0 B/op          0 allocs/op
BenchmarkShellSortHibbard/100-16                  674043              1991 ns/op               0 B/op          0 allocs/op
BenchmarkShellSortHibbard/1000-16                  18570             62829 ns/op               0 B/op          0 allocs/op
BenchmarkShellSortHibbard/10000-16                  1044           1177521 ns/op               0 B/op          0 allocs/op
BenchmarkShellSortHibbard/100000-16                   68          17195475 ns/op               2 B/op          0 allocs/op
BenchmarkShellSortSedgewick/100-16                677540              1955 ns/op               0 B/op          0 allocs/op
BenchmarkShellSortSedgewick/1000-16                21933             56625 ns/op               0 B/op          0 allocs/op
BenchmarkShellSortSedgewick/10000-16                1266            928296 ns/op               0 B/op          0 allocs/op
BenchmarkShellSortSedgewick/100000-16                 91          12452856 ns/op               1 B/op          0 allocs/op
PASS
ok      sorts   126.826s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°çš„æ˜¯Sedgewickæ­¥é•¿åºåˆ—åœ¨æ—¶é—´æ•ˆç‡ä¸Šæœ‰ç€è¾ƒä¸ºæ˜æ˜¾çš„æå‡ï¼ŒHibbardåˆ™ä¸å¤ªæ˜æ˜¾ã€‚</p><h2 id="å †æ’åº" tabindex="-1"><a class="header-anchor" href="#å †æ’åº" aria-hidden="true">#</a> å †æ’åº</h2><p>å †æ’åºæ˜¯åˆ©ç”¨å †è¿™ä¸ªæ•°æ®ç»“æ„å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œå †çš„ç‰¹ç‚¹æ˜¯å¯ä»¥åœ¨æ„å»ºå®Œæ¯•åä»¥O(1)çš„æ—¶é—´æ‰¾åˆ°æœ€å¤§æˆ–æœ€å°å€¼ã€‚å †æœ‰å¾ˆå¤šç§å®ç°ï¼Œæœ€ç®€å•ä¹Ÿæ˜¯æœ€å¸¸è§çš„å®ç°å°±æ˜¯äºŒé¡¹å †ï¼Œå…¶ç±»ä¼¼ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œä¸è¿‡æ˜¯ä»¥æ•°ç»„å½¢å¼å‘ˆç°çš„ï¼Œè¿™æ—¶ä¸‹æ ‡å‘ˆç°ä¸€ä¸ªè§„å¾‹ï¼Œå¯¹äºä¸€ä¸ªä¸‹æ ‡içš„å…ƒç´ </p><ul><li>å…¶çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡ï¼š<code>i/2-1</code></li><li>å…¶å·¦å­èŠ‚ç‚¹çš„ä¸‹æ ‡ï¼š<code>i*2+1</code></li><li>å…¶å³å­èŠ‚ç‚¹çš„ä¸‹æ ‡ï¼š<code>i*2+2</code></li></ul><p>å¦‚æœæ˜¯å‡åºæ’åºï¼Œå°±æ„å»ºå¤§é¡¶å †ï¼Œåä¹‹æ„å»ºå°é¡¶å †ã€‚</p><p>è¿™é‡Œä»¥å‡åºä¸ºä¾‹ï¼Œçˆ¶èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæ¯”å­èŠ‚ç‚¹å°å°±äº¤æ¢åŒæ–¹ä½ç½®ï¼Œäº¤æ¢åç»§ç»­å‘ä¸‹æ¯”è¾ƒï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªæ¯”çˆ¶èŠ‚ç‚¹æ›´å°çš„å­èŠ‚ç‚¹ï¼Œæˆ–è€…æ²¡æœ‰å­èŠ‚ç‚¹äº†æ‰åœæ­¢ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºä¸‹æ²‰ã€‚å¯¹äºä¸€ä¸ªåˆ‡ç‰‡è€Œè¨€ï¼Œå®ƒçš„æœ€åä¸€ä¸ªå­æ ‘çš„æ ¹èŠ‚ç‚¹ä½ç½®ä½äº<code>len(s)/2 -1</code>ï¼Œé€†åºéå†æ¯ä¸€ä¸ªå­æ ‘æ ¹èŠ‚ç‚¹ï¼Œå¯¹å…¶è¿›è¡Œä¸‹æ²‰æ“ä½œã€‚åœ¨æ„å»ºå®Œæ¯•åï¼Œæ­¤æ—¶å †é¡¶çš„å…ƒç´ ä¸€å®šçš„æœ€å¤§çš„é‚£ä¸€ä¸ªï¼Œå°†å…¶ä¸åˆ‡ç‰‡ä¸­æœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œç„¶åå†æ¬¡å¯¹å †é¡¶å…ƒç´ è¿›è¡Œä¸‹æ²‰æ“ä½œï¼Œæ­¤æ—¶ä¸‹æ²‰èŒƒå›´ä¸åŒ…æ‹¬æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå› ä¸ºå·²ç»ç¡®å®šäº†å®ƒæ˜¯æœ€å¤§å€¼ã€‚ç¬¬äºŒæ¬¡ä¸‹æ²‰å¯ä»¥ç¡®è®¤å †é¡¶çš„å…ƒç´ æ˜¯ç¬¬äºŒå¤§çš„ï¼Œå°†å…¶ä¸åœ¨åˆ‡ç‰‡çš„å€’æ•°ç¬¬äºŒä¸‹æ ‡çš„å…ƒç´ äº¤æ¢ï¼Œç„¶åä¸‹æ²‰èŒƒå›´å‡ä¸€ï¼Œç»§ç»­ç¬¬ä¸‰æ¬¡ä¸‹æ²‰ï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œæ¯æ¬¡ä¸‹æ²‰éƒ½èƒ½æ‰¾åˆ°ç¬¬kå¤§çš„å…ƒç´ ï¼Œæœ€ç»ˆæ•´ä¸ªåˆ‡ç‰‡éƒ½ä¼šæœ‰åºã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> down<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> ls <span class="token operator">:=</span> l<span class="token operator">&lt;&lt;</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> ls <span class="token operator">&lt;</span> r<span class="token punctuation">;</span> ls <span class="token operator">=</span> l<span class="token operator">&lt;&lt;</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		rs <span class="token operator">:=</span> ls <span class="token operator">+</span> <span class="token number">1</span>

		<span class="token keyword">if</span> rs <span class="token operator">&lt;</span> r <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>rs<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>ls<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			ls <span class="token operator">=</span> rs
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>ls<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">break</span>
		<span class="token punctuation">}</span>

		s<span class="token punctuation">[</span>ls<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>ls<span class="token punctuation">]</span>
		l <span class="token operator">=</span> ls
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> HeapSort<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ„å»ºå¤§é¡¶å †</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{</span>
		<span class="token function">down</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> less<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

    <span class="token comment">// äº¤æ¢å †é¡¶å…ƒç´ ï¼Œä¸æ–­ç¼©å°èŒƒå›´å¹¶å¯¹å †é¡¶å…ƒç´ è¿›è¡Œä¸‹æ²‰</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{</span>
		s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
		<span class="token function">down</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> less<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</strong></p><p>å †æ’åºæ€»å…±åˆ†ä¸ºä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ„å»ºå †ï¼Œç”±äºæ˜¯è‡ªåº•å‘ä¸Šæ„å»ºï¼Œå¦‚æœä¸€ä¸ªé«˜åº¦ä¸ºhçš„å­æ ‘å·²ç»æ˜¯å †äº†ï¼Œé‚£ä¹ˆé«˜åº¦ä¸ºh+1çš„å­æ ‘è¿›è¡Œè°ƒæ•´çš„è¯æœ€å¤šä¹Ÿåªéœ€è¦hæ­¥ï¼Œæ„å»ºå †çš„è¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥æ˜¯O(n)ï¼Œè¯¦ç»†è¯æ˜è¿‡ç¨‹å¯ä»¥çœ‹ï¼š<a href="https://en.wikipedia.org/wiki/Binary_heap#Building_a_heap" target="_blank" rel="noopener noreferrer">Build Binary heap - Wikipedia<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚åœ¨ä¸‹æ²‰çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºä¸€ä¸ªé«˜åº¦ä¸ºhçš„å®Œå…¨äºŒå‰æ ‘è€Œè¨€ï¼Œæœ€å¤šéœ€è¦æ¯”è¾ƒh-1æ¬¡ï¼Œè€Œé«˜åº¦hå°±ç­‰äºlog2(n+1)ï¼Œæ€»å…±ä¸‹æ²‰n-1æ¬¡ï¼Œå…¶æ—¶é—´å¤æ‚åº¦å°±è¿‘ä¼¼ä¸ºO(nlogn)ï¼Œå¹¶ä¸”ä¸ç®¡åœ¨ä»»ä½•æƒ…å†µéƒ½æ˜¯O(nlogn)ï¼Œä¸ä¼šå—åˆ°æ•°æ®çš„å½±å“ã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(1)</strong></p><p>è¿‡ç¨‹ä¸­æ²¡æœ‰ç”¨åˆ°ä»»ä½•çš„é¢å¤–è¾…åŠ©ç©ºé—´</p><p><strong>ç¨³å®šæ€§ï¼šå¦</strong></p><p>åœ¨æ’åºè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸æ–­çš„å°†å †é¡¶å…ƒç´ æ”¾äº¤æ¢åˆ°æ•°ç»„æœ«å°¾ï¼Œè¿™ä¸€è¿‡ç¨‹ä¼šç ´æ‰åç›¸ç­‰å…ƒç´ çš„ç›¸å¯¹ä½ç½®ã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkHeapSort/100-16                  462600              2688 ns/op               0 B/op          0 allocs/op
BenchmarkHeapSort/1000-16                   6410            167627 ns/op               0 B/op          0 allocs/op
BenchmarkHeapSort/10000-16                    93          11975123 ns/op               0 B/op          0 allocs/op
BenchmarkHeapSort/100000-16                    1        1136002700 ns/op               0 B/op          0 allocs/op
PASS
ok      sorts   16.270s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œåœ¨10wæ•°æ®é‡çš„æƒ…å†µä¸‹ï¼Œå †æ’åºåªéœ€è¦1ç§’å¤šä¸€ç‚¹ã€‚</p><h2 id="å½’å¹¶æ’åº" tabindex="-1"><a class="header-anchor" href="#å½’å¹¶æ’åº" aria-hidden="true">#</a> å½’å¹¶æ’åº</h2><p>å½’å¹¶æ’åºæ˜¯åˆ†æ²»æ€æƒ³çš„ä¸€ä¸ªä½“ç°ï¼Œ1945å¹´ç”±çº¦ç¿°.å†¯.è¯ºä¾æ›¼é¦–æ¬¡æå‡ºã€‚å®ƒçš„æ€è·¯ç†è§£èµ·æ¥éå¸¸ç®€å•ï¼Œçœ‹ä¸€ä¸ªä¾‹å­ï¼Œç°æœ‰å¦‚ä¸‹æ•°æ®</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>4 1 5 8 0 6 2 10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é¦–å…ˆæ˜¯åˆ†éš”æ“ä½œï¼Œå°†å…¶åˆ†æˆä¸¤ä»½</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>4 1 5 8 || 0 6 2 10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨ä¸¤ä»½çš„åŸºç¡€ä¹‹ä¸Šå¯¹åŠåˆ†</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>4 1 || 5 8 || 0 6 || 2 10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤æ—¶å·²ç»æ²¡æ³•å†åˆ†äº†ï¼Œå¯ä»¥ç›´æ¥è°ƒæ•´æ¯ä¸€ä»½å†…çš„é¡ºåºï¼Œç”±äºåªæœ‰ä¸¤ä¸ªæ•°ï¼Œåªéœ€è¦ç®€å•äº¤æ¢ä¸‹ï¼Œç°åœ¨æ¯ä¸€å°ä»½çš„æ•°æ®å†…éƒ¨éƒ½æ˜¯æœ‰åºçš„</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 4 || 5 8 || 0 6 || 2 10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥å°±æ˜¯åˆå¹¶æ“ä½œï¼Œå…ˆå°†å…¶åˆå¹¶ä¸º2ä»½ï¼Œåœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„æ¥ä¿å­˜ç»“æœï¼Œæ¯”å¦‚åˆå¹¶ <code>0 6 || 2 10</code>ï¼Œç¬¬ä¸€æ­¥0æ¯”2å°ï¼Œæ‰€ä»¥å…ˆå†™å…¥0</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç¬¬äºŒæ­¥ï¼Œ6æ¯”2å¤§ï¼Œæ‰€ä»¥å†™å…¥2</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>0 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç¬¬ä¸‰æ­¥6æ¯”10å°ï¼Œæ‰€ä»¥å†™å…¥6ï¼Œæœ€åå†™å…¥10ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>0 2 6 10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç”±äºæ¯å°ä»½å†…éƒ¨éƒ½æ˜¯æœ‰åºçš„ï¼Œåœ¨åˆå¹¶çš„æ—¶å€™åªéœ€è¦ä¾æ¬¡æ¯”è¾ƒå…ƒç´ å°±å¯ä»¥å¾—åˆ°æ›´å¤§çš„æœ‰åºçš„éƒ¨åˆ†ï¼Œåˆå¹¶æˆä¸¤ä»½æ•°æ®å¦‚ä¸‹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1 4 5 8 || 0 2 6 10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æœ€ç»ˆå»¶ç»­ä¹‹å‰çš„æ“ä½œï¼Œå°†å…¶åˆå¹¶ä¸ºä¸€ä»½ï¼Œå°±å¯ä»¥å¾—åˆ°æ’åºåçš„æ•°ç»„ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯åˆ†æ²»çš„è¿‡ç¨‹ï¼Œä¸€æ•´ä¸ªæ•°ç»„ä¸å¥½æ’åºï¼Œå°±å°†å…¶åˆ†ä¸ºæ›´å°çš„æ•°ç»„ï¼Œç›´åˆ°ä¸èƒ½å†åˆ†ï¼Œæ’åºå¥½åå†ä¸æ–­åˆå¹¶ä¸ºæ›´å¤§çš„æœ‰åºæ•°ç»„ï¼Œç›´åˆ°å®Œæˆæ’åºã€‚è¿™ç§æ–¹å¼å¤©ç„¶é€‚åˆé€’å½’æ¥å®ç°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨è¿­ä»£æ¥å®ç°ï¼Œåªä¸è¿‡åè€…è¦è‡ªè¡Œæ¨¡æ‹Ÿæ ˆçš„è¡Œä¸ºï¼Œè¾ƒä¸ºéº»çƒ¦ã€‚</p><div class="tab-list"><div class="tab-list-nav" role="tablist"><button class="tab-list-nav-item active" role="tab" aria-controls="tab-354-0" aria-selected="true">é€’å½’</button><button class="tab-list-nav-item" role="tab" aria-controls="tab-354-1" aria-selected="false">è¿­ä»£</button></div><!--[--><div class="tab-item active" id="tab-354-0" role="tabpanel" aria-expanded="true"><p>åœ¨é€’å½’æ–¹æ³•ä¸­ï¼Œåˆ†æ²»æ˜¯è‡ªé¡¶å‘ä¸‹çš„ï¼Œä»…å½“åˆå¹¶æ—¶æ‰ä¼šç”¨åˆ°ä¸´æ—¶æ•°ç»„ç”¨äºå†™å…¥æ•°æ®ï¼Œä¸ºäº†é¿å…å¤šæ¬¡å†…å­˜åˆ†é…è€Œå½±å“æ€§èƒ½ï¼Œå¯ä»¥åœ¨æ’åºå¼€å§‹å‰å°±åˆ†é…å¥½ä¸€ä¸ªç­‰å¤§çš„ä¸´æ—¶æ•°ç»„ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> MergeSort<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    t <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">divide</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> less<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> divide<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> t <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> l <span class="token operator">&gt;=</span> r <span class="token punctuation">{</span>
       <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¯¹åŠåˆ†</span>
    m <span class="token operator">:=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r<span class="token operator">-</span>l<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span>
    <span class="token comment">// åˆ†æ²»å·¦è¾¹</span>
    <span class="token function">divide</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">,</span> l<span class="token punctuation">,</span> m<span class="token punctuation">,</span> less<span class="token punctuation">)</span>
    <span class="token comment">// åˆ†æ²»å³è¾¹</span>
    <span class="token function">divide</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">,</span> m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> less<span class="token punctuation">)</span>
    <span class="token comment">// åˆå¹¶ä¸¤éƒ¨åˆ†</span>
    <span class="token function">merge</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> m<span class="token punctuation">,</span> less<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> merge<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> t <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> m <span class="token builtin">int</span><span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å·¦å³ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘å·¦å³ä¸¤ä¸ªéƒ¨åˆ†</span>
    li<span class="token punctuation">,</span> ri <span class="token operator">:=</span> l<span class="token punctuation">,</span> m<span class="token operator">+</span><span class="token number">1</span>
    i <span class="token operator">:=</span> l

    <span class="token comment">// å†™å…¥ä¸´æ—¶æ•°ç»„</span>
    <span class="token keyword">for</span> <span class="token punctuation">;</span> li <span class="token operator">&lt;=</span> m <span class="token operator">&amp;&amp;</span> ri <span class="token operator">&lt;=</span> r<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
       <span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>li<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>ri<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>li<span class="token punctuation">]</span>
          li<span class="token operator">++</span>
       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>ri<span class="token punctuation">]</span>
          ri<span class="token operator">++</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è¿˜æœ‰å·¦åŠè¾¹è¿˜æœ‰å‰©ä½™å…ƒç´ å°±ç›´æ¥æ·»åŠ è¿›å»</span>
    <span class="token keyword">for</span> <span class="token punctuation">;</span> li <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token punctuation">,</span> li <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> li<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">{</span>
       t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>li<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å³åŠè¾¹è¿˜æœ‰å‰©ä½™å…ƒç´ ä¹Ÿç›´æ¥æ·»åŠ è¿›å»</span>
    <span class="token keyword">for</span> <span class="token punctuation">;</span> ri <span class="token operator">&lt;=</span> r<span class="token punctuation">;</span> i<span class="token punctuation">,</span> ri <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> ri<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">{</span>
       t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>ri<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ­£å¸¸å†™å®ŒåiæŒ‡é’ˆæ˜¯è¶Šç•Œçš„ï¼Œä¿®æ­£ä¸€ä¸‹</span>
    i<span class="token operator">--</span>

    <span class="token comment">// å†™å›åŸæ•°ç»„</span>
    <span class="token keyword">for</span> <span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> l<span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{</span>
       s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="tab-item" id="tab-354-1" role="tabpanel" aria-expanded="false"><p>åœ¨è¿­ä»£æ–¹æ³•ä¸­ï¼Œä¸å†éœ€è¦é€ä¸ªå¯¹åŠåˆ†ï¼Œå¯ä»¥æˆªå–æ•°ç»„çš„éƒ¨åˆ†ç›´æ¥è¿›è¡Œåˆå¹¶ï¼Œä¸€å¼€å§‹ä¸¤ä¸ªä¸¤ä¸ªåˆå¹¶ï¼Œç„¶åæ˜¯å››ä¸ªï¼Œå†ç„¶åæ˜¯å…«ä¸ªï¼Œåå…­ä¸ªï¼Œè¿™ç§æ–¹å¼æ˜¯è‡ªåº•å‘ä¸Šçš„ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> MergeSortI<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	t <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// æ­¥é•¿ï¼Œè¡¨ç¤ºæ¯ä¸€æ¬¡æˆªå–å¤šå°‘ä¸ªå…ƒç´ </span>
	<span class="token keyword">var</span> step <span class="token builtin">int</span>
	<span class="token keyword">for</span> step <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> step <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> step <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> step <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token punctuation">{</span>
			l <span class="token operator">:=</span> i
			m <span class="token operator">:=</span> <span class="token function">min</span><span class="token punctuation">(</span>l<span class="token operator">+</span>step<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
			r <span class="token operator">:=</span> <span class="token function">min</span><span class="token punctuation">(</span>l<span class="token operator">+</span>step<span class="token operator">+</span>step<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>

			<span class="token comment">// åˆå¹¶æ•°æ®ï¼Œä¸ä¹‹å‰ä¸€æ ·</span>
			li<span class="token punctuation">,</span> ri<span class="token punctuation">,</span> k <span class="token operator">:=</span> l<span class="token punctuation">,</span> m<span class="token punctuation">,</span> l
			<span class="token keyword">for</span> li <span class="token operator">&lt;</span> m <span class="token operator">&amp;&amp;</span> ri <span class="token operator">&lt;</span> r <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>li<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>ri<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					t<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>li<span class="token punctuation">]</span>
					li<span class="token operator">++</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					t<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>ri<span class="token punctuation">]</span>
					ri<span class="token operator">++</span>
				<span class="token punctuation">}</span>
				k<span class="token operator">++</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">for</span> <span class="token punctuation">;</span> li <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> k<span class="token operator">++</span> <span class="token punctuation">{</span>
				t<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>li<span class="token punctuation">]</span>
				li<span class="token operator">++</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">for</span> <span class="token punctuation">;</span> ri <span class="token operator">&lt;</span> r<span class="token punctuation">;</span> k<span class="token operator">++</span> <span class="token punctuation">{</span>
				t<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>ri<span class="token punctuation">]</span>
				ri<span class="token operator">++</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// å°†ä¸´æ—¶æ•°ç»„ä¸­çš„å†…å®¹å†™å…¥åŸæ•°ç»„ç”¨äºå‡†å¤‡ä¸‹ä¸€è½®åˆå¹¶</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p>é€’å½’çš„ä¼˜ç‚¹å°±æ˜¯ç®€å•æ˜“æ‡‚ï¼Œå¦‚æœæ•°æ®è¿‡å¤§ï¼Œå¯èƒ½ä¼šçˆ†æ ˆï¼Œè€Œè¿­ä»£çš„ä¼˜ç‚¹å°±æ˜¯å¯ä»¥é¿å…é€’å½’æ ˆç©ºé—´çš„å¼€é”€ï¼Œæ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„O(n)ç©ºé—´ï¼Œå»ºè®®ä½¿ç”¨è¿­ä»£æ³•ã€‚</p><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</strong></p><p>æ‹¿è¿­ä»£æ³•ä¸¾ä¾‹åˆ†æï¼Œæœ€å¤–å±‚å¾ªç¯æ¯æ¬¡éƒ½ä¼šä¹˜2ï¼Œå¯ä»¥ç¡®å®šæ˜¯log2^næ¬¡ï¼Œå†…å±‚å¾ªç¯æ¯æ¬¡ç§»åŠ¨ä¸€ä¸ªæ­¥é•¿ï¼Œç„¶ååœ¨éå†æ­¥é•¿èŒƒå›´å†…çš„å…ƒç´ ï¼Œå†…å¾ªç¯æ€»çš„éå†æ¬¡æ•°å°±æ˜¯næ¬¡ï¼Œå†…å¤–æ€»çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(nlogn)ã€‚å½’å¹¶æ’åºå’Œå †æ’åºä¸€æ ·ï¼Œä¸å—æ•°æ®çš„å½±å“ï¼Œå§‹ç»ˆéƒ½æ˜¯O(nlogn)ã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(n)</strong></p><p>ç”¨åˆ°äº†ä¸€ä¸ªä¸´æ—¶æ•°ç»„æ¥ä¿å­˜æ¯ä¸€è½®åˆå¹¶ç»“æœ</p><p><strong>ç¨³å®šæ€§ï¼šæ˜¯</strong></p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><p>ä¸‹é¢æ˜¯è¿­ä»£å’Œé€’å½’æ³•ä¸¤ä¸ªä¸€èµ·æµ‹è¯•çš„ç»“æœ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkMergeSort/100-16                 483931              2915 ns/op             896 B/op          1 allocs/op
BenchmarkMergeSort/1000-16                 22893             48469 ns/op            8192 B/op          1 allocs/op
BenchmarkMergeSort/10000-16                 1533            749286 ns/op           81920 B/op          1 allocs/op
BenchmarkMergeSort/100000-16                 135           8780795 ns/op          802819 B/op          1 allocs/op
BenchmarkMergeSortI/100-16                453235              2309 ns/op             896 B/op          1 allocs/op
BenchmarkMergeSortI/1000-16                25916             47443 ns/op            8192 B/op          1 allocs/op
BenchmarkMergeSortI/10000-16                1758            661138 ns/op           81920 B/op          1 allocs/op
BenchmarkMergeSortI/100000-16                154           7438036 ns/op          802817 B/op          1 allocs/op
PASS
ok      sorts   60.562s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»æ—¶é—´æ•ˆç‡ä¸Šæ¥çœ‹ï¼Œè¿­ä»£æ³•æ€»ä½“æ˜¯è¦ä¼˜äºé€’å½’æ³•çš„ï¼Œå¤§æ¦‚æå‡äº†10%-25%å·¦å³çš„æ—¶é—´æ•ˆç‡ã€‚</p><h2 id="å¿«é€Ÿæ’åº" tabindex="-1"><a class="header-anchor" href="#å¿«é€Ÿæ’åº" aria-hidden="true">#</a> å¿«é€Ÿæ’åº</h2><p>å¿«é€Ÿæ’åºï¼Œåˆç§°åˆ†åŒºäº¤æ¢æ’åºï¼Œä¹Ÿç”¨åˆ°äº†åˆ†æ²»çš„æ€æƒ³ï¼Œç”±è‹±å›½è®¡ç®—æœºç§‘å­¦å®¶ä¸œå°¼.éœå°”åœ¨1959å¹´æå‡ºã€‚å®ƒçš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ï¼Œæœ€å·®æ˜¯O(n^2)ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œåœ¨å¯¹éšæœºæ•°æ®çš„æ’åºæ•ˆæœä¸Šï¼Œå°¤å…¶æ˜¯å¤§é‡çš„éšæœºæ•°æ®ï¼Œå…¶æ—¶é—´æ•ˆç‡çš„è¡¨ç°æ¯”å½’å¹¶æ’åºå’Œå †æ’åºæ›´å¥½ä¸€äº›ã€‚</p><p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹å¿«æ’çš„å®ç°æ€è·¯ï¼šå‡è®¾æœ‰å¦‚ä¸‹æ•°æ®ä¸”æ˜¯å‡åºæ’åºï¼Œæ€»å…±æœ‰10ä¸ªæ•°å­—ï¼Œå¿«æ’çš„æ€è·¯ä¸­ä¹Ÿéœ€è¦åˆ†æ²»ï¼Œä¸è¿‡å®ƒçš„æ–¹æ³•ä¸ä¼šåƒå½’å¹¶æ’åºä¸€æ ·ç›´æ¥å¯¹åŠåˆ†ï¼Œè€Œæ˜¯ä¼šé€‰å–ä¸€ä¸ªåŸºå‡†å€¼ï¼Œå°†æ•°ç»„åˆ’åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œå·¦åŠè¾¹çš„éƒ¨åˆ†éƒ½æ¯”è¿™ä¸ªåŸºå‡†å€¼å°ï¼Œå³åŠè¾¹çš„éƒ¨åˆ†éƒ½æ¯”è¿™ä¸ªåŸºå‡†å€¼å¤§ï¼Œå…·ä½“çš„åˆ’åˆ†æ€è·¯å¦‚ä¸‹ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>5 8 6 3 2 0 7 9 11 30 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡Œä¸ºäº†ç®€å•æ¼”ç¤ºï¼Œé€‰æ‹©5ä½œä¸ºåŸºå‡†å€¼ï¼Œç„¶åæœ‰å·¦å³ä¸¤ç«¯ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘æœ€å·¦å’Œæœ€å³ï¼Œå·¦æŒ‡é’ˆä»å·¦å¾€å³æ‰«æï¼Œé‡åˆ°æ¯”åŸºå‡†å€¼å¤§çš„å…ƒç´ åœä¸‹æ¥ï¼Œå³æŒ‡é’ˆä»å³å¾€å·¦æ‰«æï¼Œé‡åˆ°æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ åœä¸‹æ¥ï¼Œä¸‹é¢ç”¨<code>i</code>è¡¨ç¤ºå·¦æŒ‡é’ˆï¼Œ<code>j</code>è¡¨ç¤ºå³æŒ‡é’ˆã€‚å³è¾¹å…ˆå¼€å§‹æ‰«æï¼Œé‡åˆ°æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ å°±åœä¸‹ï¼Œjåœåœ¨äº†0æ‰€åœ¨çš„ä½ç½®ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
5 8 6 3 2 0 7 9 11 30
i         j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†jæ‰€æŒ‡å‘çš„å…ƒç´ çš„å€¼èµ‹ç»™iæ‰€æŒ‡å‘çš„å…ƒç´ </p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
0 8 6 3 2 0 7 9 11 30
i         j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå·¦è¾¹å¼€å§‹æ‰«æï¼Œé‡åˆ°æ¯”åŸºå‡†å€¼å¤§çš„å…ƒç´ å°±åœä¸‹ï¼Œç„¶åå°†iæ‰€æŒ‡å‘å…ƒç´ çš„å€¼èµ‹ç»™jæ‰€æŒ‡å‘çš„å…ƒç´ </p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
0 8 6 3 2 8 7 9 11 30
  i       j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†ç„¶åjç»§ç»­ä»å³è¾¹å¼€å§‹æ‰«æï¼Œé‡åˆ°2åœä¸‹ï¼Œå°†å…¶èµ‹å€¼ç»™iæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œç›´åˆ°ä¸¤æŒ‡é’ˆç›¸é‡</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
0 2 6 3 2 8 7 9 11 30
  i     j  
  
pivot: 5
0 2 6 3 6 8 7 9 11 30
    i   j 

pivot: 5
0 2 3 3 6 8 7 9 11 30
    i j  
    
pivot: 5
0 2 3 3 6 8 7 9 11 30
      i
      j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›¸é‡è¿‡åï¼Œæ­¤æ—¶iå’Œjçš„ä½ç½®ï¼Œå°±æ˜¯åŸºå‡†å€¼åœ¨è¿™ä¸ªæ•°ç»„ä¸­æ’åºåå¯¹åº”çš„ä½ç½®ï¼Œå°†åŸºå‡†å€¼èµ‹å€¼åˆ°ç›¸é‡ä½ç½®ä¸Šçš„å…ƒç´ </p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
0 2 3 5 6 8 7 9 11 30
      i
      j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶å¯ä»¥å‘ç°ï¼ŒåŸºå‡†å€¼5å³è¾¹çš„æ‰€æœ‰æ•°å­—éƒ½å¤§äº5ï¼Œå·¦è¾¹çš„æ•°å­—å…¨éƒ½å°äº5 ï¼Œè¯´æ˜åœ¨å‡åºæ’åºçš„æƒ…å†µä¸‹ï¼Œæ•°å­—5çš„ä¸‹æ ‡å°±ä½äºä¸‹æ ‡3ï¼Œè‡³æ­¤æ•°å­—5çš„ä½ç½®ç¡®å®šäº†ï¼Œæ¯ä¸€è½®æ‰«æéƒ½å¯ä»¥ç¡®å®šä¸€ä¸ªæ•°å­—åœ¨æ•°ç»„ä¸­æ’åºåçš„ä½ç½®ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œ0-2å’Œ4-9ï¼Œå†æ¬¡å¯¹å­æ•°ç»„è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œç›´åˆ°ä¸å¯å†åˆ†ã€‚</p><p>å¦ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåŸºå‡†å€¼çš„é€‰å–é»˜è®¤é€‰æ‹©åœ¨æœ€å·¦è¾¹çš„å…ƒç´ ï¼Œé‚£ä¹ˆåœ¨æ‰«æçš„æ—¶å€™å°±éœ€è¦å³è¾¹å…ˆå¼€å§‹ã€‚å¦‚æœä»å·¦è¾¹å¼€å§‹ï¼Œé‚£ä¹ˆå·¦æŒ‡é’ˆiæ‰«æç»“æŸåä¼šè¦†ç›–jæ‰€æŒ‡å‘çš„å€¼ï¼Œä½†æ­¤å¤„jæŒ‡å‘çš„æ˜¯æœ€å³è¾¹çš„å€¼ï¼ŒæŠŠå®ƒè¦†ç›–è¿‡åè¿™ä¸ªå€¼å°±ä¸¢å¤±äº†ã€‚çœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­ï¼Œå½“ç¬¬ä¸€æ¬¡å·¦æŒ‡é’ˆiæ‰«æå®Œæˆåä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘7å’Œ10</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
5 2 4 1 3 7 8 9 10
          i      j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶iä¼šå°†7èµ‹å€¼ç»™jæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯å°†10è¦†ç›–ä¸º7</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
5 2 4 1 3 7 8 9 7
          i     j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åé—®é¢˜å°±å‡ºç°äº†ï¼Œ10è¿™ä¸ªæ•°å­—å°±ä¸è§äº†ï¼Œå½“ä»å³è¾¹å…ˆå¼€å§‹æ—¶ï¼Œjæ‰€è¦†ç›–çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯æœ€å·¦è¾¹çš„åŸºå‡†å€¼ï¼Œå› ä¸ºåŸºå‡†å€¼æ˜¯å•ç‹¬è®°å½•çš„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä¸¢å¤±çš„é—®é¢˜ã€‚åŒç†ï¼ŒåŸºå‡†å€¼å–æœ€å³è¾¹çš„å…ƒç´ æ—¶ï¼Œå°±éœ€è¦å·¦æŒ‡é’ˆå…ˆåŠ¨ã€‚è€ƒè™‘ä¸€ç§æƒ…å†µï¼Œå¦‚æœåŸºå‡†å€¼æ°å¥½æ˜¯æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ï¼Œå°±åƒä¸‹é¢çš„æ•°æ®ä¸€æ ·ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 1
1 2 3 4 5 6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äºæ€»æ˜¯å³æŒ‡é’ˆå…ˆå¼€å§‹ï¼Œä¸”åŸºå‡†å€¼å·²ç»æ˜¯æœ€å°çš„äº†ï¼Œå³æŒ‡é’ˆä¼šç§»åŠ¨åˆ°1ä¸å·¦æŒ‡é’ˆç›¸é‡ç„¶ååœä¸‹ï¼Œç„¶åå­æ•°ç»„è¢«åˆ†æˆäº†[0,-1]å’Œ[1,5]ï¼Œåªäº§ç”Ÿäº†ä¸€ä¸ªæœ‰æ•ˆçš„å­æ•°ç»„ï¼Œåé¢çš„æ¯ä¸€æ¬¡é€’å½’éƒ½æ˜¯è¿™ç§æƒ…å†µï¼Œç¬¬ä¸€å±‚é€’å½’æ¯”è¾ƒn-1æ¬¡ï¼Œç¬¬äºŒå±‚é€’å½’æ¯”è¾ƒn-2æ¬¡ï¼Œç¬¬ä¸‰å±‚æ¯”è¾ƒn-3æ¬¡ï¼Œæ€»å…±ä¼šäº§ç”Ÿn-1æ¬¡è€Œä¸æ˜¯log2<sup>næ¬¡é€’å½’è°ƒç”¨ï¼Œè¿™æ ·ä¸€æ¥å®ƒçš„æ—¶é—´å¤æ‚åº¦å®é™…ä¸Šå°±å˜æˆäº†O(n</sup>2)ã€‚</p><p>ä¸Šé¢ä»‹ç»çš„è¿™ä¸ªåˆ†åŒºæ–¹æ³•å«éœå°”åˆ†åŒºæ³•ï¼Œåœ¨å…¶å®ƒæ•™ææ¯”å¦‚ã€Šç®—æ³•å¯¼è®ºã€‹ä»¥åŠè‹±æ–‡wikiä¸­ä»‹ç»çš„ä¸€èˆ¬æ˜¯æ´›ç©†æ‰˜åˆ†åŒºæ³•ï¼Œå®ƒçš„ä»£ç å®ç°æ›´ç®€å•ï¼Œæ¯”è¾ƒé€‚åˆç”¨ä½œæ•™å­¦ã€‚å®ƒçš„æ€è·¯å¯ä»¥å‚è€ƒä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œé€‰å–åŸºå‡†å€¼å–æœ€å³è¾¹çš„å…ƒç´ 5ï¼Œç„¶åæœ‰ijä¸¤ä¸ªåˆ†åˆ«æŒ‡é’ˆæŒ‡å‘<code>-1</code>ï¼Œ<code>0</code>ï¼Œå®ƒä»¬çš„ç§»åŠ¨æ–¹å‘éƒ½æ˜¯ä»å·¦åˆ°å³ï¼Œå¹¶éå·¦å³åŒå‘æŒ‡é’ˆã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
  8 0 1 7 2 4 6 5
i j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>jå…ˆå¼€å§‹æ‰«æï¼Œé‡åˆ°æ¯”åŸºå‡†å€¼å°çš„å…ƒç´ åœä¸‹æ¥ï¼Œç„¶åiå‘åç§»åŠ¨ä¸€ä½ï¼Œå†äº¤æ¢ijæ‰€æŒ‡å‘çš„å…ƒç´ ï¼Œå¦‚æ­¤å¾ªç¯å¾€å¤ï¼Œç›´åˆ°jç§»åŠ¨åˆ°æœ€å³è¾¹</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
0 8 1 7 2 4 6 5
i j

pivot: 5
0 1 8 7 2 4 6 5
  i j
  
pivot: 5
0 1 8 7 2 4 6 5
  i   j
  
pivot: 5
0 1 2 7 8 4 6 5
    i   j
    
pivot: 5
0 1 2 4 8 7 6 5
      i   j
      
pivot: 5
0 1 2 4 8 7 6 5
      i       j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰«æç»“æŸåï¼Œiæ­¤æ—¶æŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªå°äºåŸºå‡†å€¼çš„æ•°å­—ï¼Œæ‰€ä»¥å°†iå‘åç§»åŠ¨ä¸€ä½æŒ‡å‘8</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
0 1 2 4 8 7 6 5
        i     j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åiï¼ŒjæŒ‡å‘çš„å…ƒç´ äº’æ¢</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>pivot: 5
0 1 2 4 5 7 6 8
        i     j
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶åŸºå‡†å€¼å°±è¢«æ”¾åˆ°äº†æ­£ç¡®çš„ä½ç½®ä¸Šæ¥äº†ï¼Œæ´›ç©†æ‰˜åˆ†åŒºæ³•è·Ÿå†’æ³¡å¾ˆç›¸ä¼¼ï¼Œåªä¸è¿‡å®ƒä¸ä¼šåƒå†’æ³¡ä¸€æ ·é€ä¸ªäº¤æ¢ï¼Œè€Œæ˜¯è·³è·ƒå¼çš„ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ´›ç©†æ‰˜åˆ†åŒºæ³•çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n^2)ã€‚å‡è®¾å‡åºæ’åºä¸”æ´›ç©†æ‰˜åˆ†åŒºæ³•åŸºå‡†å€¼å–çš„æ˜¯å·¦è¾¹ï¼Œé‚£ä¹ˆä¸¤ä¸ªæŒ‡é’ˆå°±è¦ä»å³å¾€å·¦ç§»ï¼Œæ¯”è¾ƒè§„åˆ™ä¹Ÿè¦ä»å°äºæ¢æˆå¤§äºã€‚</p><p><strong>ä»£ç å®ç°</strong></p><div class="tab-list"><div class="tab-list-nav" role="tablist"><button class="tab-list-nav-item active" role="tab" aria-controls="tab-466-0" aria-selected="true">éœå°”åˆ†åŒº</button><button class="tab-list-nav-item" role="tab" aria-controls="tab-466-1" aria-selected="false">æ´›ç©†æ‰˜åˆ†åŒº</button></div><!--[--><div class="tab-item active" id="tab-466-0" role="tabpanel" aria-expanded="true"><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> QuickSortHoare<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">partitionHoare1</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> less<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> partitionHoare<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> l <span class="token operator">&gt;=</span> r <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// è®°å½•åŸºå‡†å€¼</span>
	pivot <span class="token operator">:=</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span>
	<span class="token comment">// å·¦å³ä¸¤ä¸ªæŒ‡é’ˆ</span>
	i<span class="token punctuation">,</span> j <span class="token operator">:=</span> l<span class="token punctuation">,</span> r

	<span class="token keyword">for</span> i <span class="token operator">&lt;</span> j <span class="token punctuation">{</span>
		<span class="token comment">// å³æŒ‡é’ˆå…ˆåŠ¨</span>
		<span class="token keyword">for</span> i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			j<span class="token operator">--</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// è¦†ç›–iæ‰€æŒ‡å‘çš„å€¼</span>
		s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
		<span class="token comment">// å·¦æŒ‡é’ˆååŠ¨</span>
		<span class="token keyword">for</span> i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			i<span class="token operator">++</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// è¦†ç›–jæ‰€æŒ‡å‘çš„å€¼</span>
		s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// åŸºå‡†å€¼å½’ä½</span>
	s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pivot

	<span class="token function">partitionHoare</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> l<span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> less<span class="token punctuation">)</span>
	<span class="token function">partitionHoare</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> less<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="tab-item" id="tab-466-1" role="tabpanel" aria-expanded="false"><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> QuickSortLomuto<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">partitionLomuto</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> less<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> partitionLomuto<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> l <span class="token operator">&gt;=</span> r <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	pivot <span class="token operator">:=</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span>

	<span class="token comment">// iåˆå§‹ä½ç½®æŒ‡å‘-1</span>
	i <span class="token operator">:=</span> l <span class="token operator">-</span> <span class="token number">1</span>

	<span class="token comment">// jæŒ‡é’ˆä¸æ–­å‘å³ç§»åŠ¨</span>
	<span class="token keyword">for</span> j <span class="token operator">:=</span> l<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> r<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token comment">// å¦‚æœé‡åˆ°å°äºåŸºå‡†å€¼çš„å…ƒç´ ï¼Œå°±ç§»åŠ¨iå¹¶äº¤æ¢å®ƒä»¬çš„å€¼</span>
		<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			i<span class="token operator">++</span>
			s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// æ­¤æ—¶iæŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªå°äºåŸºå‡†å€¼çš„å…ƒç´ </span>
	<span class="token comment">// å‘åç§»åŠ¨ä¸€ä½å°±æ˜¯åŸºå‡†å€¼çš„æ­£ç¡®ä½ç½®</span>
	i<span class="token operator">++</span>
	s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>

	<span class="token comment">// ç»§ç»­åˆ’åˆ†å­æ•°ç»„</span>
	<span class="token function">partitionLomuto</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> l<span class="token punctuation">,</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> less<span class="token punctuation">)</span>
	<span class="token function">partitionLomuto</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> less<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--]--></div><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)</strong></p><p>æ¯ä¸€è¶Ÿæ‰«æçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œæ€»å…±æ‰«ælog2^næ¬¡ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(logn)</strong></p><p>å®ƒåœ¨ä»£ç æ–¹é¢ç¡®å®æ²¡æœ‰é¢å¤–çš„ç©ºé—´ï¼Œä½†åœ¨æœ‰äº›ä¹¦ç±ä¸­ä¼šå°†é€’å½’çš„æ ˆç©ºé—´ä¹Ÿç®—å…¥ç©ºé—´å¤æ‚åº¦ä¸­ï¼Œä¹Ÿå°±æ˜¯O(logn)ï¼Œåœ¨ä¸Šé¢ä»‹ç»çš„æœ€åçš„æƒ…å†µä¸‹ï¼Œå®ƒçš„ç©ºé—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ°O(n)ã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkQuickSortHoare/100-16                    837140              2484 ns/op               0 B/op          0 allocs/op
BenchmarkQuickSortHoare/1000-16                    26656             47014 ns/op               0 B/op          0 allocs/op
BenchmarkQuickSortHoare/10000-16                     888           1344127 ns/op               0 B/op          0 allocs/op
BenchmarkQuickSortHoare/100000-16                     13          84603315 ns/op               0 B/op          0 allocs/op
BenchmarkQuickSortLomuto/100-16                   650293              2199 ns/op               0 B/op          0 allocs/op
BenchmarkQuickSortLomuto/1000-16                   33241             38348 ns/op               0 B/op          0 allocs/op
BenchmarkQuickSortLomuto/10000-16                    900           1318429 ns/op               0 B/op          0 allocs/op
BenchmarkQuickSortLomuto/100000-16                    13          85330962 ns/op               0 B/op          0 allocs/op
PASS
ok      sorts   85.051s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸¤ç§åˆ†åŒºæ³•å¹¶æ²¡æœ‰ç‰¹åˆ«æ˜æ˜¾çš„æ€§èƒ½å·®è·ï¼Œä½†ç†è®ºä¸Šæ¥è®²ï¼Œæ´›ç©†æ‰˜åˆ†åŒºæ³•çš„äº¤æ¢æ¬¡æ•°æ˜¯æ˜¯éœå°”åˆ†åŒºæ³•çš„ä¸‰å€ï¼ˆè¯æ˜è¿‡ç¨‹å¯ä»¥å‰å¾€<a href="https://cs.stackexchange.com/questions/11458/quicksort-partitioning-hoare-vs-lomuto" target="_blank" rel="noopener noreferrer">hoare vs lomuto<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>äº†è§£ç»†èŠ‚ï¼‰ã€‚</p><p><strong>ä¼˜åŒ–</strong></p><p>ä¸Šé¢çš„å¿«æ’å®ç°ä¸­ï¼Œåœ¨10wæ•°æ®é‡çš„æƒ…å†µä¸‹è¦88msï¼ŒåŒæ ·æƒ…å†µä¸‹å †æ’åºå’Œå½’å¹¶æ’åºåªéœ€è¦å…¶ååˆ†ä¹‹ä¸€çš„è€—æ—¶ï¼Œæ˜¾ç„¶å¦‚æ­¤ç®€å•çš„å¿«æ’å®ç°æ˜¯ä¸è¶³ä»¥åº”ç”¨åˆ°å®é™…ä½¿ç”¨ä¸­çš„ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚</p><p><strong>ä¼˜åŒ–ç‚¹1</strong></p><p>åŸºå‡†å€¼å¦‚æœæ˜¯æ•°ç»„ä¸­çš„ä¸­ä½æ•°ï¼Œå°±å¯ä»¥åšåˆ°è¾ƒä¸ºå‡åŒ€çš„åˆ’åˆ†å­æ•°ç»„ï¼Œé¿å…å‡ºç°å–åˆ°æœ€å°æœ€å¤§å€¼ä½œä¸ºåŸºå‡†å€¼çš„æƒ…å†µï¼Œä½†æ˜¯å–ä¸­ä½æ•°æ˜¯éœ€è¦è€—è´¹é¢å¤–çš„æ€§èƒ½ï¼Œå¸¸è§çš„åšæ³•æ˜¯å°†æ•°ç»„ä¸­å·¦å³ç«¯ç‚¹å’Œä¸­é—´ä½ç½®çš„ä¸‰å€¼é—´çš„ä¸­å€¼ä½œä¸ºåŸºå‡†å€¼ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> threeMid<span class="token punctuation">[</span>T any<span class="token punctuation">]</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span>T<span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">,</span> less <span class="token keyword">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b T<span class="token punctuation">)</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
	m <span class="token operator">:=</span> l <span class="token operator">+</span> <span class="token punctuation">(</span>r<span class="token operator">-</span>l<span class="token punctuation">)</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span>
	<span class="token comment">// å°†ä¸‰ä¸ªæ•°ä¸­æœ€å¤§çš„æ”¾åˆ°rä½ç½®ä¸Š</span>
	<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>l<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		s<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>m<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// ç„¶åä¸­å€¼å°±åœ¨lï¼Œmä¸¤è€…ä¹‹é—´</span>
	<span class="token keyword">if</span> <span class="token function">less</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> m
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> l
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜æœ‰å¦ä¸€ä¸ªæ–¹æ³•å°±æ˜¯éšæœºé€‰å–ã€‚</p><p><strong>ä¼˜åŒ–ç‚¹2</strong></p><p>å¯¹äºå°æ•°ç»„è€Œè¨€ï¼Œæ²¡æœ‰å¿…è¦å†ç”¨å¿«æ’ç»§ç»­è¿›è¡Œåˆ†åŒºé€’å½’äº†ï¼Œå¯ä»¥ä½¿ç”¨å…¶å®ƒæ›´ä¸ºç®€å•æ’åºç®—æ³•æ¥ä»£æ›¿ï¼Œä¾‹å¦‚C++STLä¸­çš„æ’åºä¼šåœ¨é•¿åº¦å°äº16æ—¶é‡‡ç”¨æ’å…¥æ’åºï¼Œå› ä¸ºæ’å…¥æ’åºå¯¹äºå°è§„æ¨¡æ•°æ®æ¯”å†’æ³¡å’Œé€‰æ‹©éƒ½æ›´å¿«ï¼Œå¹¶ä¸”å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œè½¬æ¢çš„ä¸´ç•Œç‚¹ä¹Ÿä¸€èˆ¬åœ¨5-16ä¹‹é—´ã€‚</p><p><strong>ä¼˜åŒ–ç‚¹3</strong></p><p>å¦‚æœå«æœ‰å¤§é‡çš„é‡å¤å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä»ç„¶å¯èƒ½ä¼šæ¶åŒ–æˆå¹³æ–¹çº§åˆ«ã€‚ä¼˜åŒ–æ–¹æ³•æ˜¯ä½¿ç”¨ä¸‰è·¯å¿«æ’ï¼Œå…¶æ€æƒ³æ˜¯åœ¨å•è¶Ÿæ’åºæ—¶å°†æ•°ç»„åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œå·¦è¾¹æ˜¯å°äºåŸºå‡†å€¼çš„éƒ¨åˆ†ï¼Œä¸­é—´æ˜¯ç­‰äºåŸºå‡†å€¼çš„éƒ¨åˆ†ï¼Œå³è¾¹æ˜¯å¤§äºåŸºå‡†å€¼çš„éƒ¨åˆ†ï¼Œåœ¨åç»­çš„æ’åºä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦å¤„ç†å°äºå’Œå¤§äºçš„éƒ¨åˆ†ï¼Œä¸­é—´çš„å¯ä»¥å®Œå…¨ä¸ç”¨ç®¡ï¼Œä¸‰è·¯å¿«æ’å¯¹äºå¤„ç†æœ‰å¤§é‡é‡å¤å…ƒç´ çš„æ•°ç»„å¾ˆæœ‰æ•ˆã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">sortArray</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
	<span class="token function">partition</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> nums
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">partition</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> l <span class="token operator">&gt;=</span> r <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// éšæœºæŒ‘é€‰åŸºå‡†å€¼</span>
	n <span class="token operator">:=</span> rand<span class="token punctuation">.</span><span class="token function">Intn</span><span class="token punctuation">(</span>r<span class="token operator">-</span>l<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> l
	nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span>

	pivot <span class="token operator">:=</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span>
	lt <span class="token operator">:=</span> l
	gt <span class="token operator">:=</span> r <span class="token operator">+</span> <span class="token number">1</span>
	<span class="token comment">// [lt+1..i] == v</span>
	i <span class="token operator">:=</span> l <span class="token operator">+</span> <span class="token number">1</span>

	<span class="token keyword">for</span> i <span class="token operator">&lt;</span> gt <span class="token punctuation">{</span>
		<span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot <span class="token punctuation">{</span>
			nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>lt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>lt<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			i<span class="token operator">++</span>
			lt<span class="token operator">++</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> pivot <span class="token punctuation">{</span>
			<span class="token comment">// äº¤æ¢åçš„æ•°å­—ä¸ä¸€å®šå°±å°äºåŸºå‡†å€¼ï¼Œæ‰€ä»¥ä¸ç§»åŠ¨iï¼Œéœ€è¦ä¸‹ä¸ªå¾ªç¯å†æ¬¡åˆ¤æ–­</span>
			nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>gt<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>gt<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			gt<span class="token operator">--</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			i<span class="token operator">++</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// ltæ˜¯ç­‰äºåŸºå‡†å€¼æ•°ç»„çš„å·¦è¾¹ç•Œï¼Œæ­¤æ—¶å†å’ŒåŸºå‡†å€¼è¿›è¡Œäº¤æ¢</span>
	nums<span class="token punctuation">[</span>lt<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span>lt<span class="token punctuation">]</span>
	<span class="token comment">// ç»§ç»­ä¸æ–­åˆ†æ”¯æ’åº</span>
	<span class="token function">partition</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> l<span class="token punctuation">,</span> lt<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token function">partition</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> gt<span class="token punctuation">,</span> r<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>[l, lt-1]</code>è¡¨ç¤ºå°äºåŸºå‡†å€¼çš„èŒƒå›´ï¼Œ<code>[gt, r]</code>è¡¨ç¤ºå¤§äºåŸºå‡†å€¼çš„èŒƒå›´ï¼Œ<code>[lt, i]</code>å°±æ˜¯ç­‰äºåŸºå‡†å€¼çš„èŒƒå›´ã€‚ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹å›¾</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202401261511519.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æˆ‘ä»¬çš„ä»»åŠ¡æ˜¯å°†å°äºåŸºå‡†å€¼çš„ç§»åŠ¨åˆ°æ•°ç»„å·¦è¾¹ï¼Œå¤§äºåŸºå‡†å€¼çš„ç§»åŠ¨åˆ°å³è¾¹ï¼Œæ‰€ä»¥<code>i</code>ä¸æ–­éå†æ•°ç»„ã€‚å½“<code>i</code>æŒ‡å‘çš„å…ƒç´ å°äºåŸºå‡†å€¼æ—¶ï¼Œå³ç§»<code>lt</code>ä¸€ä½</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202401261516880.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ­¤æ—¶<code>i</code>æŒ‡å‘å…ƒç´ 2ï¼Œç­‰äºåŸºå‡†å€¼äºæ˜¯è·³è¿‡</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202401261517300.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç°åœ¨<code>i</code>æŒ‡å‘çš„å€¼æ˜¯3ï¼Œå¤§äºåŸºå‡†å€¼ï¼Œ<code>gt</code>æŒ‡é’ˆå·¦ç§»å¹¶å’Œ<code>i</code>æ‰€æŒ‡çš„å…ƒç´ è¿›è¡Œäº¤æ¢ã€‚</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202401261519972.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä½†äº¤æ¢åçš„å€¼ä»ç„¶å¤§äºåŸºå‡†å€¼äºæ˜¯ç»§ç»­ç§»åŠ¨<code>gt</code>æŒ‡é’ˆç„¶åå†äº¤æ¢ã€‚</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202401261521618.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ­¤æ—¶çš„<code>i</code>æŒ‡å‘äº†2ï¼Œä¸åŸºå‡†å€¼ç›¸åŒåˆ™ç»§ç»­ç§»åŠ¨ï¼Œç›´åˆ°ç­‰äº<code>gt</code>ã€‚æœ€åå†å°†åŸºå‡†å€¼å½’ä½ï¼Œå³<code>lt</code>ä¸<code>pivot</code>äº¤æ¢ä½ç½®ã€‚</p><figure><img src="https://public-1308755698.cos.ap-chongqing.myqcloud.com//img/202401261524093.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è‡³æ­¤ï¼ŒåŒºé—´çš„åˆ’åˆ†å·²ç»å®Œæ¯•ï¼Œæ¥ä¸‹æ¥åœ¨è¿›è¡Œé€’å½’æ—¶æˆ‘ä»¬åªéœ€è¦å…³æ³¨å·¦å³ä¸¤ä¸ªåŒºé—´å³å¯ï¼Œä¸­é—´çš„å°±å¯ä»¥å¿½ç•¥æ‰ï¼Œè¿™æ ·å°±èµ·åˆ°äº†ä¼˜åŒ–å¤§é‡é‡å¤å…ƒç´ d</p><h2 id="è®¡æ•°æ’åº" tabindex="-1"><a class="header-anchor" href="#è®¡æ•°æ’åº" aria-hidden="true">#</a> è®¡æ•°æ’åº</h2><p>è®¡æ•°æ’åºæ˜¯ä¸€ç§çº¿æ€§æ—¶é—´çš„æ’åºç®—æ³•ï¼Œå¹¶ä¸”æ˜¯éæ¯”è¾ƒæ’åºï¼Œè™½ç„¶å®ƒå¯ä»¥è¾¾åˆ°çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Œä½†å¯¹ä½¿ç”¨çš„æ•°æ®æœ‰ä¸€å®šçš„è¦æ±‚ï¼šæ•°æ®ä¹‹é—´çš„å·®å€¼ä¸èƒ½æœ‰å¤ªå¤§ï¼Œå¹¶ä¸”ä¼šä½¿ç”¨é¢å¤–çš„è¾…åŠ©ç©ºé—´ã€‚å®ƒçš„å®ç°æ€è·¯å¦‚ä¸‹ï¼Œé¦–å…ˆç»Ÿè®¡æ•°æ®ä¸­çš„æœ€å°æœ€å¤§å€¼ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º<code>max-min+1</code>çš„æ•°ç»„æ¥è®°å½•æ¯ä¸€ä¸ªæ•°æ®çš„ä¸ªæ•°ï¼Œå¯¹äºè®¡æ•°æ•°ç»„ï¼Œä¸‹æ ‡iå°±ç­‰äºæ•°æ®çš„å€¼ï¼Œè¿™æ ·ä¸€æ¥é€šè¿‡è®¡æ•°æ•°ç»„ï¼Œå¤©ç„¶çš„å°±èƒ½å°†å…¶æ’åºï¼Œç„¶ååå‘éå†è®¡æ•°æ•°ç»„æ ¹æ®æ•°é‡å¡«å……åŸæ•°ç»„ã€‚ç”±äºæ•°æ®çš„é™åˆ¶ï¼Œè¯¥æ’åºæ–¹æ³•ä¸å¤ªå¥½é€šè¿‡æ³›å‹æ¥å®ç°ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">CountSort</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> minE<span class="token punctuation">,</span> maxE <span class="token builtin">int</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>
		<span class="token keyword">if</span> e <span class="token operator">&lt;</span> minE <span class="token punctuation">{</span>
			minE <span class="token operator">=</span> e
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> e <span class="token operator">&gt;</span> maxE <span class="token punctuation">{</span>
			maxE <span class="token operator">=</span> e
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	counts <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> maxE<span class="token operator">-</span>minE<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token comment">// è¿™é‡Œæ˜¯æ­£å‘çš„è¯»å–æ•°æ®</span>
	<span class="token comment">// ä¸ºä¿è¯ç¨³å®šæ€§åé¢æ’åºçš„æ—¶å€™å°±è¦åå‘çš„å­˜æ”¾</span>
	<span class="token comment">// æ€ä¹ˆè¯»çš„å°±æ€ä¹ˆå­˜</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>
		counts<span class="token punctuation">[</span>e<span class="token operator">-</span>minE<span class="token punctuation">]</span><span class="token operator">++</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// é€†åºå†™</span>
	<span class="token keyword">for</span> i<span class="token punctuation">,</span> k <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>counts<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> j <span class="token operator">:=</span> counts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span> <span class="token punctuation">{</span>
			s<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> minE <span class="token operator">+</span> i
			k<span class="token operator">--</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(n+k)</strong></p><p>å¯»æ‰¾æœ€å¤§æœ€å°å€¼æ—¶èŠ±è´¹O(n)ï¼Œkæ˜¯æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®å€¼ï¼Œåœ¨è®¡æ•°åå†™å…¥åŸæ•°ç»„æ—¶ï¼Œè‡³å°‘ä¼šå¾ªç¯kæ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦O(n+k)ã€‚å½“kå€¼è¿œå¤§äºO(nlogn)æ—¶ï¼Œè¯´æ˜å°±ä¸é€‚åˆä½¿ç”¨è®¡æ•°æ’åºæ¥å¯¹æ•°æ®è¿›è¡Œæ’åºã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(k)</strong></p><p>è¿™é‡Œç”¨åˆ°äº†<code>counts</code>æ•°ç»„æ¥å­˜æ”¾æ•°é‡ä¿¡æ¯ï¼ŒèŠ±è´¹ç©ºé—´O(k)ã€‚æˆ‘çœ‹åˆ°ç½‘ä¸Šå¾ˆå¤šå…¶å®ƒå®ç°éƒ½ä¼šç”¨ä¸€ä¸ªä¸´æ—¶æ•°ç»„æ¥å­˜å‚¨ç»“æœå†å¤åˆ¶åˆ°ç›®æ ‡æ•°ç»„ä¸­å»ï¼Œè¿™æ ·ä¸€æ¥ç©ºé—´å¤æ‚åº¦å°±å˜æˆäº†O(n+k)ï¼Œä¸å¤ªæ˜ç™½è¿™æ ·åšçš„æ„ä¹‰æ˜¯ä»€ä¹ˆã€‚</p><p><strong>ç¨³å®šæ€§ï¼šæ˜¯</strong></p><p>æ­£åºè¯»ï¼Œé€†åºå†™ä¿è¯äº†ç›¸ç­‰æ•°æ®çš„ç›¸å¯¹ä½ç½®ã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><p>è®¡æ•°æ’åºæ˜¯ç”¨åœ¨ç‰¹å®šåœºæ™¯çš„æ’åºæ–¹æ³•ï¼Œä¸é€‚åˆéšæœºæ•°æ®æ’åºï¼Œä¸‹é¢çš„æµ‹è¯•ç”¨ä¾‹ä¸­çš„ç”Ÿæˆæ•°æ®ä¸­çš„æœ€å¤§å·®å€¼åœ¨1wä»¥å†…ã€‚</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>goos<span class="token punctuation">:</span> windows
goarch<span class="token punctuation">:</span> amd64
pkg<span class="token punctuation">:</span> sorts
cpu<span class="token punctuation">:</span> 11th Gen <span class="token function">Intel</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span> <span class="token function">Core</span><span class="token punctuation">(</span>TM<span class="token punctuation">)</span> i7<span class="token operator">-</span>11800H @ <span class="token number">2</span><span class="token punctuation">.</span>30GHz
BenchmarkCountSort<span class="token operator">/</span><span class="token number">100</span><span class="token operator">-</span><span class="token number">16</span>                 <span class="token number">100839</span>             <span class="token number">11764</span> ns<span class="token operator">/</span>op           <span class="token number">81921</span> B<span class="token operator">/</span>op          <span class="token number">1</span> allocs<span class="token operator">/</span>op
BenchmarkCountSort<span class="token operator">/</span><span class="token number">1000</span><span class="token operator">-</span><span class="token number">16</span>                 <span class="token number">62029</span>             <span class="token number">19060</span> ns<span class="token operator">/</span>op           <span class="token number">81921</span> B<span class="token operator">/</span>op          <span class="token number">1</span> allocs<span class="token operator">/</span>op
BenchmarkCountSort<span class="token operator">/</span><span class="token number">10000</span><span class="token operator">-</span><span class="token number">16</span>                <span class="token number">15981</span>             <span class="token number">73497</span> ns<span class="token operator">/</span>op           <span class="token number">81942</span> B<span class="token operator">/</span>op          <span class="token number">1</span> allocs<span class="token operator">/</span>op
BenchmarkCountSort<span class="token operator">/</span><span class="token number">100000</span><span class="token operator">-</span><span class="token number">16</span>                <span class="token number">4191</span>            <span class="token number">266531</span> ns<span class="token operator">/</span>op           <span class="token number">82900</span> B<span class="token operator">/</span>op          <span class="token number">1</span> allocs<span class="token operator">/</span>op
PASS
ok      sorts   <span class="token number">16</span><span class="token punctuation">.</span>788s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°çš„æ˜¯å³ä¾¿æ˜¯æ•°æ®é‡æ¥åˆ°äº†10wçº§åˆ«ï¼Œä¹Ÿæ²¡æœ‰å‡ºç°è¾ƒå¤§çš„å¢å¹…ã€‚</p><h2 id="åŸºæ•°æ’åº" tabindex="-1"><a class="header-anchor" href="#åŸºæ•°æ’åº" aria-hidden="true">#</a> åŸºæ•°æ’åº</h2><p>åŸºæ•°æ’åºåŒè®¡æ•°æ’åºä¸€æ ·ï¼Œæ˜¯éæ¯”è¾ƒæ’åºï¼ŒåŒæ ·åªé€‚ç”¨äºç‰¹æ®Šåœºæ™¯ï¼Œä¸é€‚åˆæ™®éçš„éšæœºæ•°æ®æ’åºã€‚å®ƒçš„æ’åºæ€è·¯æ˜¯æ ¹æ®æ•°æ®çš„ä½æ•°æ¥å†³å®šï¼Œå¯ä»¥ä»é«˜ä½åˆ°ä½ä½ï¼Œä¹Ÿå¯ä»¥ä»ä½ä½åˆ°é«˜ä½ã€‚è¿™é‡Œä»¥ä»¥ä½ä½åˆ°é«˜ä½ä¸¾ä¾‹ï¼Œæ¯”è¾ƒå¥½ç†è§£ã€‚ç°æœ‰å¦‚ä¸‹æ•°æ®ï¼Œä½ä½æ•°æ®è‡ªåŠ¨è¡¥é›¶æ–¹ä¾¿ç†è§£ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>152 003 012 948
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é¦–å…ˆå°†å…¶æŒ‰ç…§ä¸ªä½çš„å¤§å°æ’åºï¼Œå¾—åˆ°ä¸‹é¢çš„åºåˆ—</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>152 012 003 948
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨å…¶åŸºç¡€ä¹‹ä¸Šæ ¹æ®åä½æ’åºå¾—åˆ°ä¸‹é¢çš„åºåˆ—</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>003 012 948 152
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨å…¶åŸºç¡€çŸ¥è¯†æ ¹æ®ç™¾ä½æ’åº</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>003 012 152 948
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æœ€ç»ˆå¾—åˆ°æœ‰åºçš„æ•°ç»„ï¼ŒåŸºæ•°æ’åºçš„æ€è·¯éå¸¸ç®€å•æ˜äº†å®¹æ˜“ç†è§£ï¼Œä»£ç å®ç°å¦‚ä¸‹</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">RadixSort</span><span class="token punctuation">(</span>s <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	maxV <span class="token operator">:=</span> slices<span class="token punctuation">.</span><span class="token function">Max</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
	<span class="token comment">// æœ€å¤§ä½æ•°</span>
	bit <span class="token operator">:=</span> <span class="token number">0</span>
	<span class="token keyword">for</span> maxV <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		maxV <span class="token operator">/=</span> <span class="token number">10</span>
		bit<span class="token operator">++</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 0-9 10ä¸ªæ•°å­—</span>
	count <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	<span class="token comment">// ä¸´æ—¶æ•°ç»„ï¼Œç”¨æ¥ä¿å­˜æ¯ä¸€è½®çš„æ’åºç»“æœ</span>
	temp <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>

	radix <span class="token operator">:=</span> <span class="token number">1</span>
	<span class="token comment">// æœ€å¤§æ•°æœ‰å¤šå°‘ä½ï¼Œå°±éå†å¤šå°‘æ¬¡</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> bit<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		<span class="token function">clear</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>

		<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> e <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{</span>
			count<span class="token punctuation">[</span><span class="token punctuation">(</span>e<span class="token operator">/</span>radix<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">++</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// ç´¯åŠ åcountæ•°ç»„æ¯ä¸€ä¸ªå…ƒç´ è®°å½•ç€ç”±(s[i]/radix)%10è®¡ç®—å¾—åˆ°çš„æœ€åä¸€ä¸ªå…ƒç´ ä½ç½®</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
			count<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+=</span> count<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// æ­£åºè¯»é€†åºå†™ï¼Œä¿è¯ç¨³å®šæ€§</span>
		<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span> <span class="token punctuation">{</span>
			temp<span class="token punctuation">[</span>count<span class="token punctuation">[</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">/</span>radix<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
			<span class="token comment">// ä¸‹ä¸€ä¸ªè¢«åˆ†é…æ­¤ä½ç½®çš„å…ƒç´ </span>
			count<span class="token punctuation">[</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">/</span>radix<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">--</span>
		<span class="token punctuation">}</span>

		<span class="token function">copy</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> temp<span class="token punctuation">)</span>

		<span class="token comment">// è¿›ä¸€ä½</span>
		radix <span class="token operator">*=</span> <span class="token number">10</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°çš„æ˜¯åœ¨è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€è½®çš„æ’åºæ–¹å¼å…¶å®å°±æ˜¯è®¡æ•°æ’åºå˜ç§ï¼Œæ¯ä¸€ä¸ªä½ä¸Šçš„å·®å€¼æœ€å¤§ä¹Ÿå°±åªæœ‰9ï¼Œæ‰€ä»¥countæ•°ç»„é•¿åº¦ä¹Ÿå°±æ˜¯å›ºå®šçš„10ã€‚è®¡æ•°åˆ†é…å¥½åï¼Œå› ä¸ºåœ¨è¿™é‡Œåˆ†é…çš„ä¸‹æ ‡ä¸ä»£è¡¨å®é™…çš„å€¼ï¼Œæ‰€ä»¥è¦ç´¯åŠ æ¯ä¸€ä¸ªè®¡æ•°çš„å€¼ï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°å®ƒä»¬æ’åºåçš„ä½ç½®ã€‚åé¢å°±æ˜¯å°†å…¶å†™å…¥ä¸´æ—¶æ•°ç»„ï¼Œå†å¤åˆ¶åˆ°åŸæ•°ç»„ä¸­ã€‚</p><p><strong>æ—¶é—´å¤æ‚åº¦ï¼šO(kn)</strong></p><p>kçš„æœ€å¤§å€¼çš„ä½æ•°ï¼Œä¹Ÿå†³å®šäº†å¤–å±‚å¾ªç¯çš„æ¬¡æ•°ï¼Œæ¯ä¸€æ¬¡å¤–å¾ªç¯èŠ±è´¹çš„æ—¶é—´æ˜¯O(n)ï¼Œæ€»å…±å°±æ˜¯O(nk)ã€‚</p><p><strong>ç©ºé—´å¤æ‚åº¦ï¼šO(n+k)</strong></p><p>ç”¨åˆ°äº†ä¸€ä¸ªé•¿åº¦ä¸ºnçš„ä¸´æ—¶æ•°ç»„ç”¨äºå­˜æ”¾æ¯è½®æ’åºç»“æœï¼Œå’Œä¸€ä¸ªè®¡æ•°æ•°ç»„ã€‚</p><p><strong>ç¨³å®šæ€§ï¼šæ˜¯</strong></p><p>è·Ÿè®¡æ•°ä¸€æ ·ï¼Œæ­£åºè¯»ï¼Œé€†åºå†™ä¿è¯äº†ç›¸ç­‰æ•°æ®çš„ç›¸å¯¹ä½ç½®ã€‚</p><p><strong>æ€§èƒ½æµ‹è¯•</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>goos: windows
goarch: amd64
pkg: sorts
cpu: 11th Gen Intel(R) Core(TM) i7-11800H @ 2.30GHz
BenchmarkRadixSort/100-16                 155721              7971 ns/op             896 B/op          1 allocs/op
BenchmarkRadixSort/1000-16                 15081             78742 ns/op            8192 B/op          1 allocs/op
BenchmarkRadixSort/10000-16                 1501            777792 ns/op           81920 B/op          1 allocs/op
BenchmarkRadixSort/100000-16                 150           7913457 ns/op          802819 B/op          1 allocs/op
PASS
ok      sorts   15.333s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œç”Ÿæˆçš„éšæœºæ•°æ®åªåŒ…å«æ­£æ•´æ•°ï¼Œ10wæ•°æ®é‡çš„æƒ…å†µä¸‹åªéœ€è¦7msï¼ŒæŒ‡çš„æ˜¯æ³¨æ„çš„æ˜¯ï¼ŒåŸºæ•°çš„é€‰æ‹©ä¸æ­¢æ˜¯10è¿›åˆ¶è¿˜å¯ä»¥æ˜¯åå…­è¿›åˆ¶ï¼Œå…«è¿›åˆ¶ï¼ŒäºŒæœºåˆ¶ï¼Œæ¯ä¸ªè¿›åˆ¶çš„åŸºæ•°èŒƒå›´ä¸åŒã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆå®ƒçš„æ€§èƒ½ç›¸å½“ä¼˜ç§€ä½†ä½¿ç”¨æ²¡æœ‰å¿«æ’å¹¿æ³›ï¼Œæ€è€ƒä¸‹æ€»å…±æœ‰å‡ ç‚¹ï¼š</p><ol><li>ä¸å¤ªå¥½æŠ½è±¡ï¼Œé€‚ç”¨é¢çª„ï¼Œæ¯”å¦‚è¿™ä¸ªåŸºæ•°æ’åºçš„ä¾‹å­æˆ‘éƒ½æ˜¯ç”¨intæ¥å†™çš„ï¼Œå¾ˆéš¾ç”¨æ³›å‹å®ç°ï¼Œå¦‚æœæ˜¯ç»“æ„ä½“ç±»å‹ï¼Œé‚£ä¹ˆå®ƒçš„ç‰¹å¾å€¼å¯èƒ½æ˜¯æµ®ç‚¹æ•°ï¼Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯è´Ÿæ•°ï¼Œç”šè‡³æ˜¯å¤æ•°ï¼Œè¿™äº›ç±»å‹å¾ˆå¯¹åŸºæ•°è¿›è¡Œåˆ†è§£ï¼Œä¹Ÿå°±è°ˆä¸ä¸Šæ’åºã€‚</li><li>ç¬¬äºŒç‚¹å°±æ˜¯é¢å¤–çš„O(n)ç©ºé—´ã€‚</li></ol><h2 id="æ¡¶æ’åº" tabindex="-1"><a class="header-anchor" href="#æ¡¶æ’åº" aria-hidden="true">#</a> æ¡¶æ’åº</h2></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 2633565580@qq.com">246859</span><!--]--><!--]--></div></div></footer><!----><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-105c0cc0.js" defer></script>
  </body>
</html>
